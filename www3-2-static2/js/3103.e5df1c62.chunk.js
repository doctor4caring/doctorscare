"use strict";(self.webpackChunkfamily_doc_app=self.webpackChunkfamily_doc_app||[]).push([[3103],{45793:(e,l,s)=>{s.d(l,{Z:()=>t});var a=s(29086);const t=async e=>{const l=await(null===a.Z||void 0===a.Z?void 0:a.Z.post("/digitalOcean/post",e));return null===l||void 0===l?void 0:l.data}},14045:(e,l,s)=>{s.d(l,{Z:()=>o});var a=s(88135),t=s(80184);function o(e){let{children:l,...s}=e;const{handleClose:o,show:n,title:i,className:d}=s;return(0,t.jsx)("div",{children:(0,t.jsxs)(a.Z,{show:n,onHide:o,className:d,backdrop:"static",children:[(0,t.jsx)(a.Z.Header,{className:"py-3",closeButton:!0,children:(0,t.jsx)(a.Z.Title,{className:"modalTitle",children:(0,t.jsx)("span",{className:"font-weight-600",children:i})})}),(0,t.jsx)(a.Z.Body,{children:l})]})})}},13103:(e,l,s)=>{s.r(l),s.d(l,{default:()=>T});var a=s(72791),t=s(95070),o=s(89743),n=s(2677),i=s(36638),d=s(43360),r=s(53392),c=s(14045),m=s(69499),u=s(61134),p=s(72426),h=s.n(p),x=s(59434),v=s(76053),j=s(73683),f=s(78820),N=s(82962),b=s(45793),g=s(24278),y=s(65764),D=s(53473),Z=s(9085),w=s(49739),S=s(80184);const C=(0,D.J)("pk_test_51NS6LFJQrjlyogPPYu6MAtBwgWPzIIaMnvVPha7Q3hqUaMujHWqKXoIYJRIU2K5nD3m6LR5Vou39EPYY4XBpCYGu00hDwqw9BH");function Y(e){var l;const{handleClose:s,show:t,singleSlotData:o}=e,[n,i]=(0,a.useState)(!1),d=JSON.parse(localStorage.getItem("family_doc_app")),r=(0,x.I0)(),m=null===o||void 0===o||null===(l=o.fee)||void 0===l?void 0:l.toFixed(2),u=()=>{s(),i(!1);const e={date:h()(null===o||void 0===o?void 0:o.scheduleDate).format("YYYY-MM-DD"),month:null};r((0,N.xG)(e))};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Z.Ix,{}),(0,S.jsx)(c.Z,{handleClose:s,show:t,title:"Checkout",className:"modal-stripe",backdrop:"static",children:(0,S.jsx)(y.Elements,{stripe:C,children:(0,S.jsx)(A,{isLoading:n,setIsLoading:i,newCoachHire:function(l){let s={...e.formData,isOneTimePayment:!0,payment:{patientId:null===d||void 0===d?void 0:d.userId,token:l,scheduleDetailId:null===o||void 0===o?void 0:o.scheduleDetailId,amount:Number(m)}};r((0,g.Pc)({finalData:s,moveToNext:u}))},singleSlotData:o})})})]})}const I=()=>{const e=function(){const e=()=>window.innerWidth<450?"16px":"18px",[l,s]=(0,a.useState)(e);return(0,a.useEffect)((()=>{const l=()=>{s(e())};return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}})),l}();return(0,a.useMemo)((()=>({style:{base:{fontSize:e,color:"#424770",letterSpacing:"0.025em",fontFamily:"Source Code Pro, monospace","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}})),[e])},A=e=>{var l;let{isLoading:s,setIsLoading:a,newCoachHire:t,singleSlotData:o}=e;const n=(0,y.useStripe)(),i=(0,y.useElements)(),c=I(),m=null===o||void 0===o||null===(l=o.fee)||void 0===l?void 0:l.toFixed(2);return(0,S.jsxs)("div",{className:"py-2 stripe",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)(r.Z,{children:"Appointment Fee"}),(0,S.jsx)("input",{type:"text",value:"\u20ac".concat(m||"N/A"),disabled:!0,className:"mt-0 w-100"})]}),(0,S.jsxs)("form",{onSubmit:async e=>{if(a(!0),e.preventDefault(),n&&i)try{var l;const e=i.getElement(y.CardNumberElement),a=await n.createToken(e);var s;if(a.error)throw new Error(null===a||void 0===a||null===(s=a.error)||void 0===s?void 0:s.message);const o=null===a||void 0===a||null===(l=a.token)||void 0===l?void 0:l.id;o&&t(o)}catch(o){(0,j.P_)(null===o||void 0===o?void 0:o.message,"error"),a(!1)}},children:[(0,S.jsxs)("div",{children:["Card number",(0,S.jsx)(y.CardNumberElement,{options:c})]}),(0,S.jsxs)("div",{children:["Expiration date",(0,S.jsx)(y.CardExpiryElement,{options:c})]}),(0,S.jsxs)("div",{children:["CVC",(0,S.jsx)(y.CardCvcElement,{options:c})]}),(0,S.jsx)("div",{className:"d-flex justify-content-center mt-3",children:(0,S.jsx)(d.Z,{variant:"primary",className:"w-100 py-2 primary_bg",radius:"0px",type:"submit",disabled:s,children:s?(0,S.jsx)(w.Z,{color:"white",size:25,className:"d-flex m-auto"}):"Confirm"})})]})]})};var k=s(57689),_=s(3810);function M(e){let{...l}=e;const{show:s,handleClose:t,formData:o,singleSlotData:n}=l,[i,r]=(0,a.useState)(!1),u=(0,k.s0)();return(0,S.jsxs)("div",{className:"AddSlot_modal",children:[(0,S.jsx)(c.Z,{className:"modal-lg",handleClose:t,show:s,children:(0,S.jsxs)("div",{className:"d-flex justify-content-center flex-column align-items-center text-center p-3",children:[(0,S.jsx)("img",{src:m.Z.BUY_PLAN,alt:"purchase plan"}),(0,S.jsx)("p",{className:"fw-bold",children:"You don't have any Subscription Plan"}),(0,S.jsx)("p",{className:"",children:"We would love to serve you please proceed by clicking the button below and purchase your plan of your liking"}),(0,S.jsxs)("div",{className:"d-flex justify-content-around gap-3",children:[(0,S.jsx)(d.Z,{className:"block primary_bg",variant:"primary",type:"button",onClick:()=>{t(),r(!0)},children:"One-Time Payment"}),(0,S.jsx)(d.Z,{className:"block primary_bg",variant:"primary",type:"button",onClick:()=>u(_.m.PATIENT_PURCHASE_PLANS),children:"Purchase Plan"})]})]})}),i&&(0,S.jsx)(Y,{formData:o,singleSlotData:n,handleClose:()=>r(!1),show:i})]})}function P(e){let{children:l,...s}=e;const{show:t,handleClose:p,singleSlotData:y,appointmentId:D}=s,{register:Z,handleSubmit:w,reset:C}=(0,u.cI)(),[Y,I]=(0,a.useState)(!1),[A,k]=(0,a.useState)(),[_,P]=(0,a.useState)({}),[T,E]=(0,a.useState)(),[L,V]=(0,a.useState)(),[F,O]=(0,a.useState)({isVideo:!0,isAudio:!1}),[B,G]=(0,a.useState)(!1),{remainingAptPresData:H}=(0,x.v9)((e=>null===e||void 0===e?void 0:e.doctorSchedule)),z=JSON.parse(localStorage.getItem("family_doc_app")),J=(0,x.I0)(),R=()=>{I(!1),G(!1),C({reasonForAppoinment:""}),k(null),E(null),O({isVideo:!0,isAudio:!1}),p()},U=()=>{p();const e={date:h()(null===y||void 0===y?void 0:y.scheduleDate).format("YYYY-MM-DD"),month:null};J((0,N.xG)(e))},q=async e=>{let l=e.target.files[0];if(k(l),l){const e=l.name.lastIndexOf("."),s=l.name.slice(0,e),a=l.name.slice(e+1,l.name.length);if("pdf"===a.toLowerCase()){const e=new FileReader;e.onload=async e=>{const l=e.target.result;V(!0);const t={name:s,base64:l.split(",")[1],fileExtension:"".concat(a)};(0,b.Z)(t).then((e=>{e&&(E(e),V(!1))}))},e.onerror=e=>{},e.readAsDataURL(l)}else(0,j.ZP)(l).then((e=>{V(!0);const l={name:s,base64:e,fileExtension:"".concat(a)};(0,b.Z)(l).then((e=>{e&&(E(e),V(!1))}))}))}};return(0,S.jsxs)("div",{className:"AddSlot_modal",children:[(0,S.jsx)(c.Z,{className:"modal-lg",title:D?"Reschedule Appointment":"Book Appointment",handleClose:R,show:t,children:(0,S.jsx)("div",{className:"px-2 pb-3",style:{height:"640px","overflow-y":"scroll","overflow-x":"hidden"},children:(0,S.jsx)(i.Z,{onSubmit:w((function(){var e,l,s;const a={scheduleId:null===y||void 0===y?void 0:y.scheduleId,appointmentDate:h()(null===y||void 0===y?void 0:y.scheduleDate).format("YYYY-MM-DD"),patientId:null===z||void 0===z?void 0:z.userId,appointmentStartTime:null===(e=(0,j.oA)((0,j.qw)(null===y||void 0===y?void 0:y.startTime),h()(null===y||void 0===y?void 0:y.scheduleDate).format("YYYY-MM-DD")))||void 0===e?void 0:e.split("Z")[0],appointmentEndTime:null===(l=(0,j.oA)((0,j.qw)(null===y||void 0===y?void 0:y.endTime),h()(null===y||void 0===y?void 0:y.scheduleDate).format("YYYY-MM-DD")))||void 0===l?void 0:l.split("Z")[0],reasonForAppoinment:null===_||void 0===_?void 0:_.reasonForAppoinment,isAudio:F.isAudio,isVideo:F.isVideo,image:null!==T&&void 0!==T&&T.keyName?null===T||void 0===T?void 0:T.keyName:null,payment:{scheduleDetailId:null===y||void 0===y?void 0:y.scheduleDetailId},isOneTimePayment:!1};null!==H&&void 0!==H&&null!==(s=H.data)&&void 0!==s&&s.appointment?J((0,g.Pc)({finalData:a,moveToNext:U})):(P(a),p(),G(!0))})),children:(0,S.jsxs)(o.Z,{children:[(0,S.jsx)(n.Z,{xl:12,children:(0,S.jsxs)(i.Z.Group,{controlId:"formDate",className:"mb-3",children:[(0,S.jsx)(r.Z,{className:"fw-semibold fs-6",children:"Reason for Appointment"}),(0,S.jsx)(i.Z.Control,{as:"textarea",name:"reasonForAppoinment",placeholder:"Type here",style:{height:"100px"},...Z("reasonForAppoinment"),value:_.reasonForAppoinment,onChange:e=>{P({..._,[e.target.name]:e.target.value})}})]})}),(0,S.jsxs)(n.Z,{md:6,children:[(0,S.jsxs)(i.Z.Group,{controlId:"",className:"mb-3",children:[(0,S.jsx)(r.Z,{className:"fw-semibold fs-6",children:"Date"}),(0,S.jsx)(i.Z.Control,{type:"date",placeholder:"HH:MM",className:"custom-date",defaultValue:h()(null===y||void 0===y?void 0:y.scheduleDate).format("YYYY-MM-DD"),disabled:!0,name:"appointmentDate",...Z("appointmentDate")})]}),(0,S.jsxs)(i.Z.Group,{controlId:"",className:"mb-3",children:[(0,S.jsx)(r.Z,{className:"fw-semibold fs-6",children:"Name"}),(0,S.jsx)(i.Z.Control,{type:"text",placeholder:"John Smith",className:"custom-date",name:"name",defaultValue:null===z||void 0===z?void 0:z.name,disabled:!0,...Z("name")})]})]}),(0,S.jsxs)(n.Z,{md:6,children:[(0,S.jsxs)(i.Z.Group,{controlId:"",className:"mb-3",children:[(0,S.jsx)(r.Z,{className:"fw-semibold fs-6",children:"Time"}),(0,S.jsx)(i.Z.Control,{type:"text",placeholder:"HH:MM",className:"custom-date",name:"startTime",defaultValue:"".concat(null===y||void 0===y?void 0:y.startTime," - ").concat(null===y||void 0===y?void 0:y.endTime),disabled:!0})]}),(0,S.jsxs)(i.Z.Group,{controlId:"",className:"mb-3",children:[(0,S.jsx)(r.Z,{className:"fw-semibold fs-6",children:"Email"}),(0,S.jsx)(i.Z.Control,{type:"email",placeholder:"johnsmith@gmail.com",className:"custom-date",name:"email",defaultValue:null===z||void 0===z?void 0:z.email,disabled:!0,...Z("email")})]})]}),(0,S.jsxs)(n.Z,{md:6,children:[(0,S.jsx)(i.Z.Label,{className:"fw-bold",children:"Consultation type"}),(0,S.jsxs)(i.Z.Select,{"aria-label":"Select Consultation Type",onChange:e=>{const l=e.target.value;O({isVideo:"Video"===l,isAudio:"Audio"===l})},value:F.isVideo?"Video":"Audio",children:[(0,S.jsx)("option",{value:"Video",children:"Video"}),(0,S.jsx)("option",{value:"Audio",children:"Audio"})]})]}),(0,S.jsxs)(n.Z,{xl:12,className:"upload_pic mt-3",children:[(0,S.jsx)(r.Z,{className:"fw-semibold fs-6",children:"Attachments"}),(0,S.jsxs)("div",{className:"mb-2 border py-3 rounded",children:[(0,S.jsxs)("label",{htmlFor:"patient-pic",className:"text-center w-100 pt-1",children:[(0,S.jsx)("img",{className:"mb-2 upload-icon color-dk-blue",width:"",src:m.Z.UPLOAD_ICON,alt:"location"}),(0,S.jsxs)("p",{className:"upload-text mb-1",children:["Upload a file"," ",(0,S.jsx)("span",{className:"text-black fs-6",children:" or drag and drop"})]}),(0,S.jsx)("p",{className:"upload-text_small mb-0",children:"PNG, JPG, PDF upto 5MB"})]}),(0,S.jsx)("input",{size:"small",type:"file",id:"patient-pic",name:"patient-pic",accept:"image/png, image/jpeg, application/pdf",multiple:!0,onChange:e=>{q(e)},onDrop:e=>{e.preventDefault(),q(e)},onDragOver:e=>e.preventDefault()})]}),(0,S.jsx)("div",{className:"my-3",children:A&&(0,S.jsxs)("div",{className:"d-flex align-items-center pb-1",children:[(0,S.jsx)(v.hF6,{size:30,style:{color:"#745DED"}}),(0,S.jsx)("h6",{className:"file-name mb-0 ms-2",children:null===A||void 0===A?void 0:A.name}),(0,S.jsx)("span",{className:"mx-3",children:(0,S.jsx)(f.oHP,{size:18,onClick:()=>{k(null)}})})]})}),(0,S.jsxs)("div",{className:"d-flex align-items-start",children:[(0,S.jsx)("img",{className:"me-2 mt-1 color-dk-blue",width:"",src:m.Z.INFO_ICON,alt:"location"}),(0,S.jsxs)("p",{className:"upload-text_small mb-0 fs-6",children:[" ",(0,S.jsxs)("span",{className:"text_darkGray fw-semibold",children:[" ","You can upload the following:"]})," ","Evidence for repeat prescription, reports, documents, clear photo of rash or lesion (Important Note: Please do not upload blood test results or images of intimate areas of your body)"]})]})]}),(0,S.jsx)("div",{className:"d-grid mt-4",children:D?(0,S.jsx)(d.Z,{className:"block primary_bg",variant:"primary",size:"lg",type:"submit",children:"Reschedule Appointment"}):(0,S.jsx)(d.Z,{className:"block primary_bg",variant:"primary",size:"lg",type:"submit",children:"Proceed to Pay"})})]})})})}),(0,S.jsx)(M,{formData:_,singleSlotData:y,handleClose:R,show:B})]})}const T=()=>{var e;const l=(0,x.I0)(),[s,r]=(0,a.useState)(""),[c,u]=(0,a.useState)(h()(new Date).format("YYYY-MM-DD")),p=(0,k.TH)(),v=null===p||void 0===p||null===(e=p.state)||void 0===e?void 0:e.appointmentId,[j,f]=(0,a.useState)(!1),{allSlots:b}=(0,x.v9)((e=>e.doctorSchedule)),g=JSON.parse(localStorage.getItem("family_doc_app"));(0,a.useEffect)((()=>{if(c){const e={date:c,month:null};l((0,N.xG)(e))}}),[l,c]);const y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date(c),l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";return null===e||void 0===e?void 0:e.toLocaleDateString(l,{weekday:"long"})}(),[D,Z]=(0,a.useState)(!1);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("h5",{children:"Available Slots"}),(0,S.jsxs)(t.Z,{className:"slotsSection mt-4",children:[(0,S.jsxs)(t.Z.Body,{children:[(0,S.jsxs)(o.Z,{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,S.jsx)(n.Z,{xl:2,lg:4,md:4,sm:6,children:(0,S.jsx)("div",{className:"",children:(0,S.jsx)(i.Z.Control,{type:"date",name:"dob",defaultValue:h()(new Date).format("YYYY-MM-DD"),min:h()(new Date).format("YYYY-MM-DD"),className:"custom-date",onChange:e=>u(e.target.value)})})}),(0,S.jsx)(n.Z,{md:4,lg:4,className:"text-center",children:(0,S.jsxs)("h5",{className:"text-black fw-bold mb-0",children:[y," - ",h()(c).format("DD-MM-YYYY")]})}),(0,S.jsx)(n.Z,{md:4,sm:4,children:(0,S.jsxs)("div",{className:"d-flex justify-content-end radioGroup",children:[(0,S.jsxs)("div",{className:"d-flex align-items-center me-sm-4 me-2",children:[(0,S.jsx)("span",{className:"bookedSlot rounded-circle me-2",children:(0,S.jsx)("img",{src:m.Z.BOOKED_SLOT,alt:"booked"})}),(0,S.jsx)("span",{children:"Booked Slots"})]}),(0,S.jsxs)("div",{className:"d-flex align-items-center",children:[(0,S.jsx)("span",{className:"availableSlot rounded-circle me-2",children:(0,S.jsx)("img",{src:m.Z.AVAILABLE_SLOT,alt:"booked"})}),(0,S.jsx)("span",{children:"Available Slots"})]})]})})]}),(0,S.jsx)("div",{className:"doctor_Details",children:(0,S.jsx)("div",{className:"slotContainer mt-4 pt-3",onBlur:()=>{f(!0)},children:null!==b&&(null===b||void 0===b?void 0:b.length)>0?null===b||void 0===b?void 0:b.map((e=>(0,S.jsxs)(d.Z,{className:"slot_btn".concat(null!==e&&void 0!==e&&e.isBooked?" booked":""),onClick:()=>(r(e),void f(!0)),children:[null===e||void 0===e?void 0:e.startTime," - ",null===e||void 0===e?void 0:e.endTime]},null===e||void 0===e?void 0:e.startTime))):(0,S.jsx)("p",{className:"text-center",children:"No Slot Available"})})}),(0,S.jsx)("div",{className:"float-right mt-4",children:(0,S.jsx)(d.Z,{onClick:()=>{Z(!0);const e={patientId:null===g||void 0===g?void 0:g.userId};l((0,N.lr)(e))},className:"btn-primary px-5 primary_bg",disabled:!0===(null===s||void 0===s?void 0:s.isBooked)||!s,children:"Continue"})})]}),(0,S.jsx)(P,{show:D,handleClose:()=>Z(!1),singleSlotData:s,appointmentId:v})]})]})}}}]);
//# sourceMappingURL=3103.e5df1c62.chunk.js.map