"use strict";(self.webpackChunkfamily_doc_app=self.webpackChunkfamily_doc_app||[]).push([[5380],{43426:(e,l,i)=>{i.d(l,{Z:()=>s});i(72791);var t=i(95070),n=i(72426),o=i.n(n),a=i(80184);function s(e){const{name:l,genderInfo:i,gender:n,dobInfo:s,dob:d,professionInfo:r,profession:c,currentLocationInfo:m,currentLocation:p,patientLocalGPInfo:u,patientLocalGP:v,emailInfo:x,email:h,phoneInfo:f,phone:j,specialityInfo:N,speciality:b,pharmacyInfo:y,pharmacy:g,locationInfo:D,location:I,nextOfKinName:A,nextOfKinNumber:C,nextOfKinNameInfo:Z,nextOfKinNumberInfo:w,image:F}=e;return(0,a.jsx)(t.Z,{className:"generic-card",children:(0,a.jsxs)(t.Z.Body,{className:"p-0 main-personalprofile position-relative",children:[(0,a.jsx)("div",{class:"ds-top"}),(0,a.jsxs)("div",{className:"position-relative",children:[(0,a.jsx)("div",{class:"avatar-holder upload_pic profile_upload profileContent",children:(0,a.jsx)("img",{src:F||"https://ui-avatars.com/api/?name=".concat("".concat(l),"&background=6045eb&color=fff"),alt:"Patient"})}),(0,a.jsx)("div",{className:"name",children:l||"N/A"})]}),(0,a.jsxs)("div",{className:"mx-4 card-content patient-personal-details",children:[i&&(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between pt-3",children:[(0,a.jsx)("p",{children:"Gender"}),(0,a.jsx)("p",{children:n||"N/A"})]}),(0,a.jsx)("hr",{})]}),s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,a.jsx)("p",{children:"D.O.B"}),(0,a.jsx)("p",{children:o()(d).format("MM/DD/YYYY")})]}),(0,a.jsx)("hr",{})]}),D&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,a.jsx)("p",{children:"Location"}),(0,a.jsx)("p",{children:I||"N/A"})]}),(0,a.jsx)("hr",{})]}),r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,a.jsx)("p",{children:"Profession/Occupation:"}),(0,a.jsx)("p",{children:c||"N/A"})]}),(0,a.jsx)("hr",{})]}),m&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,a.jsx)("p",{children:"Current Location"}),(0,a.jsx)("p",{children:p||"N/A"})]}),(0,a.jsx)("hr",{})]}),u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,a.jsx)("p",{children:"Patient Local GP"}),(0,a.jsx)("p",{children:v||"N/A"})]}),(0,a.jsx)("hr",{})]}),x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,a.jsx)("p",{children:"Email"}),(0,a.jsx)("p",{children:h||"N/A"})]}),(0,a.jsx)("hr",{})]}),y&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,a.jsx)("p",{children:"Pharmacy"}),(0,a.jsx)("p",{children:g||"N/A"})]}),(0,a.jsx)("hr",{})]}),f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,a.jsx)("p",{children:"Phone"}),(0,a.jsx)("p",{children:j||"N/A"})]}),(0,a.jsx)("hr",{})]}),Z&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,a.jsx)("p",{children:"Next of Kin Name"}),(0,a.jsx)("p",{children:A||"N/A"})]}),(0,a.jsx)("hr",{})]}),w&&(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,a.jsx)("p",{children:"Next of Kin Number"}),(0,a.jsx)("p",{children:C||"N/A"})]}),N&&(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,a.jsx)("p",{children:"Speciality"}),(0,a.jsx)("p",{children:b||"N/A"})]})]})]})})}},76364:(e,l,i)=>{i.d(l,{Z:()=>a});var t=i(72426),n=i.n(t),o=i(80184);const a=function(e){const{MedicalCertificateData:l,detailDTO:i,doctorDetails:t,getUserData:a}=e,s=n()().format("DD/MM/YYYY");return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("h1",{children:"FamilyDoc247"}),(0,o.jsx)("h6",{children:"General Practitioner (GP) / Family Physician"}),(0,o.jsx)("h6",{children:"Fitzwilliam Hall, Fitzwilliam Place, Dublin 2"}),(0,o.jsx)("h6",{children:"Tel: +353 1 906 9327"}),(0,o.jsx)("h6",{children:"Email : contact@familydoc247.ie"})]}),(0,o.jsx)("div",{className:"py-4",children:(0,o.jsx)("h1",{align:"center",children:"Medical Certificate"})}),(0,o.jsxs)("div",{className:"d-flex",children:[(0,o.jsx)("span",{className:"font-weight-600 me-5",children:"Re: "}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"mb-0",children:(null===i||void 0===i?void 0:i.firstName)+" "+(null===i||void 0===i?void 0:i.lastName)}),(0,o.jsx)("p",{children:null!==i&&void 0!==i&&i.currentAddress?null===i||void 0===i?void 0:i.currentAddress:"N/A"})]})]}),(0,o.jsxs)("div",{className:"d-flex",children:[(0,o.jsx)("span",{className:"font-weight-600 me-4",children:"Date: "}),(0,o.jsx)("p",{className:"pb-4 me-0",children:s})]}),(0,o.jsxs)("p",{className:"py-3",children:["This is to certify in my opinion that the above named patient is/was suffering from ",null===l||void 0===l?void 0:l.sufferingFrom]}),(0,o.jsx)("div",{className:"pt-2 pb-4 d-flex",children:(0,o.jsxs)("p",{children:["And is ",(0,o.jsx)("span",{className:"font-weight-600",children:"unable"})," to attend"," ",null===l||void 0===l?void 0:l.unabletoAttendField]})}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{className:"font-weight-600",children:"From: "}),n()(null===l||void 0===l?void 0:l.fromDate).format("DD-MM-YYYY")?n()(null===l||void 0===l?void 0:l.fromDate).format("DD-MM-YYYY"):"N/A"]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{className:"font-weight-600",children:"To: "}),n()(null===l||void 0===l?void 0:l.toDate).format("DD-MM-YYYY")?n()(null===l||void 0===l?void 0:l.toDate).format("DD-MM-YYYY"):"N/A"]})]}),(0,o.jsxs)("div",{className:"pt-4",children:[(0,o.jsxs)("p",{className:"mb-0",children:["Dr"," ",null!==t&&void 0!==t&&t.doctor?null===t||void 0===t?void 0:t.doctor:null!==a&&void 0!==a&&a.name?null===a||void 0===a?void 0:a.name:"N/A"]}),(0,o.jsxs)("p",{children:["MCRN"," ",null!==t&&void 0!==t&&t.mcrn?null===t||void 0===t?void 0:t.mcrn:null!==a&&void 0!==a&&a.mcrn?null===a||void 0===a?void 0:a.mcrn:"N/A"]}),(0,o.jsx)("span",{style:{display:"block",width:"150px",height:"100px"},children:(0,o.jsx)("img",{src:null===l||void 0===l?void 0:l.doctorSignature,alt:"signature",width:"140px",height:"100px"})})]})]})}},52802:(e,l,i)=>{i.d(l,{Z:()=>o});var t=i(59434),n=i(80184);const o=function(e){var l;const{prescriptionData:i}=e,{getUserData:o}=(0,t.v9)((e=>e.userRole));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h1",{children:"FamilyDoc247"}),(0,n.jsx)("h6",{children:"General Practitioner (GP) / Family Physician"}),(0,n.jsx)("h6",{children:"Fitzwilliam Hall, Fitzwilliam Place, Dublin 2"}),(0,n.jsx)("h6",{children:"Tel: +353 1 906 9327"}),(0,n.jsx)("h6",{children:"Email : familydoc.gp@healthmail.ie"})]}),(0,n.jsx)("div",{className:"pdf-table",children:(null===i||void 0===i||null===(l=i.medicineList)||void 0===l?void 0:l.length)>0?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"my-5",children:[(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Medicine"}),(0,n.jsx)("th",{children:"Formulation"}),(0,n.jsx)("th",{children:"Dose"}),(0,n.jsx)("th",{children:"Frequency"}),(0,n.jsx)("th",{children:"Duration"})]})}),(0,n.jsx)("tbody",{children:null===i||void 0===i?void 0:i.medicineList.map(((e,l)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.medicineName}),(0,n.jsx)("td",{children:e.formulation}),(0,n.jsx)("td",{children:e.dose}),(0,n.jsx)("td",{children:e.doseFrequency}),(0,n.jsx)("td",{children:e.quantity})]},l)))})]}),(0,n.jsxs)("div",{className:"mt-4 mb-5",children:[(0,n.jsx)("h5",{children:"Notes:"}),(0,n.jsx)("ul",{children:null===i||void 0===i?void 0:i.medicineList.map(((e,l)=>(0,n.jsx)("li",{children:e.note},l)))})]})]})}):(0,n.jsx)("p",{children:"No Record Found"})}),(0,n.jsxs)("p",{className:"mb-0",children:["Dr"," ",null!==i&&void 0!==i&&i.doctorName?null===i||void 0===i?void 0:i.doctorName:null!==o&&void 0!==o&&o.name?null===o||void 0===o?void 0:o.name:"N/A"]}),(0,n.jsxs)("p",{children:["MCRN"," ",null!==i&&void 0!==i&&i.mcrn?null===i||void 0===i?void 0:i.mcrn:null!==o&&void 0!==o&&o.mcrn?null===o||void 0===o?void 0:o.mcrn:"N/A"]})]})}},95380:(e,l,i)=>{i.r(l),i.d(l,{default:()=>W});var t=i(72791),n=i(89743),o=i(2677),a=i(95070),s=i(69764),d=i(36638),r=i(29546),c=i(1444),m=i(43360),p=i(39126),u=i(36161),v=i(4053),x=i(43426),h=i(84373),f=i(59434),j=i(57689),N=i(11087),b=i(36455),y=i(24278),g=i(2002),D=i(72426),I=i.n(D),A=i(61134),C=i(95985),Z=i(56355),w=i(45225),F=i(63524),S=i(97866),H=i(80184);const L=function(){var e,l,i,t,n,o,a,s,d;const{specialistLetter:r}=(0,f.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointmentNotes)||{}})),{detailDTO:c}=(0,f.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointedDetail)||{}})),{getUserData:m}=(0,f.v9)((e=>e.userRole)),p=I()().format("DD/MM/YYYY");return(0,H.jsxs)("div",{className:"mb-5",children:[(0,H.jsxs)("div",{className:"text-center",children:[(0,H.jsx)("h1",{children:"FamilyDoc247"}),(0,H.jsx)("h6",{children:"General Practitioner (GP) / Family Physician"}),(0,H.jsx)("h6",{children:"Fitzwilliam Hall, Fitzwilliam Place, Dublin 2"}),(0,H.jsx)("h6",{children:"Tel: +353 1 906 9327"}),(0,H.jsx)("h6",{children:"Email : contact@familydoc247.ie"})]}),(0,H.jsx)("p",{className:"my-5",children:p}),(0,H.jsxs)("p",{className:"mb-5",children:[(0,H.jsx)("span",{className:"font-weight-600",children:"To: "}),null===r||void 0===r?void 0:r.toDoctor]}),(0,H.jsxs)("div",{children:[(0,H.jsxs)("p",{children:["Re: ",null!==r&&void 0!==r&&r.patient?null===r||void 0===r?void 0:r.patient:"N/A",","," ",null!==c&&void 0!==c&&c.currentAddress?null===c||void 0===c?void 0:c.currentAddress:"N/A"]}),(0,H.jsxs)("p",{children:["DOB:"," ",I()(null!==c&&void 0!==c&&c.dob?null===c||void 0===c?void 0:c.dob:"N/A").format("MM/DD/YYYY"),", Tel: ",null!==c&&void 0!==c&&c.phoneNumber?null===c||void 0===c?void 0:c.phoneNumber:"N/A"]})]}),(0,H.jsx)("p",{className:"mt-5",children:"Dear Doctor,"}),(0,H.jsx)("p",{children:"I would appreciate if you could see above-named patient."}),(0,H.jsxs)("div",{className:"mb-5",children:[(null===r||void 0===r?void 0:r.referralNote)&&(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{className:"text-black-50 mb-0",children:"Referral Notes"}),null===r||void 0===r?void 0:r.referralNote]}),(null===r||void 0===r?void 0:r.appointmentDetail)&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)("div",{className:"mb-3",children:[(0,H.jsx)("p",{className:"text-black-50 mb-0",children:"Presenting Complaint"}),null===r||void 0===r||null===(e=r.appointmentDetail)||void 0===e?void 0:e.presentingComplaint]}),(0,H.jsxs)("div",{className:"mb-3",children:[(0,H.jsx)("p",{className:"text-black-50 mb-0",children:"Past Medical History"}),null===r||void 0===r||null===(l=r.appointmentDetail)||void 0===l?void 0:l.pastMedicalHistory]}),(0,H.jsxs)("div",{className:"mb-3",children:[(0,H.jsx)("p",{className:"text-black-50 mb-0",children:"Medications"}),null===r||void 0===r||null===(i=r.appointmentDetail)||void 0===i?void 0:i.medications]}),(0,H.jsxs)("div",{className:"mb-3",children:[(0,H.jsx)("p",{className:"text-black-50 mb-0",children:"Allergies"}),null===r||void 0===r||null===(t=r.appointmentDetail)||void 0===t?void 0:t.allergies]}),(0,H.jsxs)("div",{className:"mb-3",children:[(0,H.jsx)("p",{className:"text-black-50 mb-0",children:"Family History"}),null===r||void 0===r||null===(n=r.appointmentDetail)||void 0===n?void 0:n.familyHistory]}),(0,H.jsxs)("div",{className:"mb-3",children:[(0,H.jsx)("p",{className:"text-black-50 mb-0",children:"Social History"}),null===r||void 0===r||null===(o=r.appointmentDetail)||void 0===o?void 0:o.socialHistory]}),(0,H.jsxs)("div",{className:"mb-3",children:[(0,H.jsx)("p",{className:"text-black-50 mb-0",children:"Suspected Diagnosis"}),null===r||void 0===r||null===(a=r.appointmentDetail)||void 0===a?void 0:a.suspectedDiagnosis]}),(0,H.jsxs)("div",{className:"mb-3",children:[(0,H.jsx)("p",{className:"text-black-50 mb-0",children:"Recommended Actions"}),null===r||void 0===r||null===(s=r.appointmentDetail)||void 0===s?void 0:s.recommendedActions]}),(0,H.jsxs)("div",{className:"mb-3",children:[(0,H.jsx)("p",{className:"text-black-50 mb-0",children:"Sign off"}),null===r||void 0===r||null===(d=r.appointmentDetail)||void 0===d?void 0:d.signOff]})]})]}),(0,H.jsx)("p",{className:"py-3",children:"The above-named patient prefers to see you privately."}),(0,H.jsx)("p",{className:"pb-3",children:"I would appreciate your expert review and further management."}),(0,H.jsx)("p",{className:"pb-2",children:"Yours sincerely,"}),(0,H.jsxs)("p",{className:"mb-0",children:["Dr"," ",null!==m&&void 0!==m&&m.name?null===m||void 0===m?void 0:m.name:"N/A"]}),(0,H.jsxs)("p",{children:["MCRN"," ",null!==m&&void 0!==m&&m.mcrn?null===m||void 0===m?void 0:m.mcrn:"N/A"]})]})};function M(){var e,l,i,a,s,u,v,x,h,N,b,g,D,I,C,M,P,T,k,z;const{register:O,handleSubmit:Y}=(0,A.cI)(),[G,V]=(0,t.useState)(!1),[R,W]=(0,t.useState)(!0),[q,E]=(0,t.useState)(!1),[U,B]=(0,t.useState)(!1),[_,K]=(0,t.useState)(!1),Q=(0,t.useRef)(null),J=(0,j.UO)(),X=(0,f.I0)(),$=JSON.parse(localStorage.getItem("family_doc_app")),{patientAppointmentNotes:ee}=(0,f.v9)((e=>e.appointment)),le=null===ee||void 0===ee?void 0:ee.appointmentDetail,{specialistLetter:ie}=(0,f.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointmentNotes)||{}}));console.log("specialistLetter",ie),console.log("patientAppointmentNotes",ee);const te=(new Date).toISOString().slice(0,19);(0,t.useEffect)((()=>{const e={appointmentId:null===J||void 0===J?void 0:J.appointmentId};X((0,y.zp)(e))}),[X,null===J||void 0===J?void 0:J.appointmentId]);const ne=()=>{const e={appointmentId:null===J||void 0===J?void 0:J.appointmentId};X((0,y.zp)(e)),V(!1),E(!1)};return(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(d.Z,{onSubmit:Y(null!==ie&&void 0!==ie&&ie.noteId?function(e){var l,i;const t={noteId:null===ie||void 0===ie?void 0:ie.noteId,noteTypeId:2,patientId:null!==J&&void 0!==J&&J.patientId?null===J||void 0===J?void 0:J.patientId:null===ie||void 0===ie?void 0:ie.patientId,doctorId:null!==$&&void 0!==$&&$.userId?null===$||void 0===$?void 0:$.userId:null===ie||void 0===ie?void 0:ie.doctorId,referralNote:null===e||void 0===e||null===(l=e.referralNote)||void 0===l?void 0:l.trim(),specialistLetter:e.specialistLetter,referralTypeId:1,toDoctor:e.toDoctor,appointmentId:null===J||void 0===J?void 0:J.appointmentId,showNote:_,isPatient:!1,date:te,appointmentDetail:U?{appointmentDetailId:null===ie||void 0===ie||null===(i=ie.appointmentDetail)||void 0===i?void 0:i.appointmentDetailId,appointmentId:null===J||void 0===J?void 0:J.appointmentId,presentingComplaint:null===e||void 0===e?void 0:e.presentingComplaint,historyOfPresentingComplaint:null===e||void 0===e?void 0:e.presentingComplaint,pastMedicalHistory:null===e||void 0===e?void 0:e.pastMedicalHistory,medications:null===e||void 0===e?void 0:e.medications,allergies:null===e||void 0===e?void 0:e.allergies,familyHistory:null===e||void 0===e?void 0:e.familyHistory,socialHistory:null===e||void 0===e?void 0:e.socialHistory,suspectedDiagnosis:null===e||void 0===e?void 0:e.suspectedDiagnosis,recommendedActions:null===e||void 0===e?void 0:e.recommendedActions,signOff:null===e||void 0===e?void 0:e.signOff,appointmentAttended:!0,failuretoattendnotes:"",referralTypeId:1,noteId:null===ie||void 0===ie?void 0:ie.noteId}:{appointmentDetailId:0}};X((0,S.YY)({finalData:t,onCreateSuccess:ne})),W(!0)}:function(e){var l;const i={noteId:0,noteTypeId:2,patientId:null!==J&&void 0!==J&&J.patientId?null===J||void 0===J?void 0:J.patientId:null===ie||void 0===ie?void 0:ie.patientId,doctorId:null!==$&&void 0!==$&&$.userId?null===$||void 0===$?void 0:$.userId:null===ie||void 0===ie?void 0:ie.doctorId,referralNote:U?null:null===e||void 0===e||null===(l=e.referralNote)||void 0===l?void 0:l.trim(),specialistLetter:e.specialistLetter,referralTypeId:1,toDoctor:e.toDoctor,appointmentId:null===J||void 0===J?void 0:J.appointmentId,showNote:_,date:te,isPatient:!1,appointmentDetail:U?{appointmentDetailId:0,appointmentId:null===J||void 0===J?void 0:J.appointmentId,presentingComplaint:null===le||void 0===le?void 0:le.presentingComplaint,historyOfPresentingComplaint:null===le||void 0===le?void 0:le.presentingComplaint,pastMedicalHistory:null===le||void 0===le?void 0:le.pastMedicalHistory,medications:null===le||void 0===le?void 0:le.medications,allergies:null===le||void 0===le?void 0:le.allergies,familyHistory:null===le||void 0===le?void 0:le.familyHistory,socialHistory:null===le||void 0===le?void 0:le.socialHistory,suspectedDiagnosis:null===le||void 0===le?void 0:le.suspectedDiagnosis,recommendedActions:null===le||void 0===le?void 0:le.recommendedActions,signOff:null===le||void 0===le?void 0:le.signOff,appointmentAttended:!0,failuretoattendnotes:"",referralTypeId:1,noteId:0}:null};X((0,S.lU)({finalData:i,onCreateSuccess:ne})),W(!0)}),children:(0,H.jsx)(n.Z,{children:(0,H.jsx)(o.Z,{xs:12,className:"my-3",children:(0,H.jsxs)("div",{className:"h-100",children:[(0,H.jsxs)("span",{className:"d-flex justify-content-between",children:[(0,H.jsx)("p",{className:"referral-main-text",style:{color:"#2269F2"},children:"Specialist Letter"}),null!==ie&&void 0!==ie&&ie.noteId&&!1===q?(0,H.jsx)(r.Z,{id:"dropdown-item-button",title:(0,H.jsx)(p.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,H.jsxs)("div",{className:"set-dropdown-menu",children:[(0,H.jsxs)(c.Z.Item,{className:"d-flex align-items-center",children:[(0,H.jsx)(Z.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,H.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},onClick:()=>{V(!0),E(!0),W(!1)},children:"Edit"})]}),(0,H.jsx)(c.Z.Item,{className:"d-flex align-items-center",children:(0,H.jsx)(w.ZP,{trigger:(0,H.jsxs)("button",{ref:Q,className:"bg-transparent border-0 p-0",children:[(0,H.jsx)(F.bAs,{size:20})," Download PDF"]}),children:(0,H.jsx)(L,{})})})]})}):""]}),(0,H.jsx)(d.Z.Check,{type:"checkbox",id:"show-speciality-notes",label:"Show to Patient",onChange:()=>K(!_),disabled:!(!0===(null===ie||void 0===ie?void 0:ie.showNote)&&q||!1===(null===ie||void 0===ie?void 0:ie.showNote)&&q)&&!(null===ie||void 0===ie||!ie.noteId),defaultChecked:null===ie||void 0===ie?void 0:ie.showNote}),(0,H.jsxs)(d.Z.Group,{className:"mb-3 mt-2",controlId:"formBasicLabel3",children:[(0,H.jsx)(d.Z.Label,{className:"label-primary mb-0",style:{color:"#999999"},children:"Speciality"}),(0,H.jsx)(d.Z.Control,{type:"text",placeholder:"Tiredness",className:"pt-2 custom-field-picker ".concat(G&&"bg-white"),...O("specialistLetter",{required:!0}),defaultValue:null!==(e=null===ie||void 0===ie?void 0:ie.specialistLetter)&&void 0!==e?e:"",readOnly:(null===ie||void 0===ie||!ie.specialistLetter||!q)&&!(null===ie||void 0===ie||!ie.specialistLetter),maxLength:250})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-3 mt-2",controlId:"formBasicLabel3",children:[(0,H.jsx)(d.Z.Label,{className:"label-primary mb-0",style:{color:"#999999"},children:"To"}),(0,H.jsx)(d.Z.Control,{type:"text",placeholder:"Specialist name",className:"pt-2 custom-field-picker ".concat(G&&"bg-white"),...O("toDoctor",{required:!0}),readOnly:(null===ie||void 0===ie||!ie.toDoctor||!q)&&!(null===ie||void 0===ie||!ie.toDoctor),maxLength:250,defaultValue:null!==(l=null===ie||void 0===ie?void 0:ie.toDoctor)&&void 0!==l?l:""})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Referral Notes"}),!1!==U||null!==ie&&void 0!==ie&&ie.appointmentDetail?"":(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,placeholder:"Referral Note",className:"pt-2 custom-field-picker ".concat(G&&"bg-white"),...O("referralNote",{required:!0}),defaultValue:null!==ie&&void 0!==ie&&ie.referralNote?null===ie||void 0===ie?void 0:ie.referralNote:"",readOnly:(null===ie||void 0===ie||!ie.referralNote||!q)&&!(null===ie||void 0===ie||!ie.referralNote),maxLength:250})]}),(U||(null===ie||void 0===ie?void 0:ie.appointmentDetail))&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Presenting Complaint"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(R&&"bg-white"),...O("presentingComplaint"),defaultValue:null!==le&&void 0!==le&&le.presentingComplaint?null===le||void 0===le?void 0:le.presentingComplaint:null!==ie&&void 0!==ie&&null!==(i=ie.appointmentDetail)&&void 0!==i&&i.presentingComplaint?null===ie||void 0===ie||null===(a=ie.appointmentDetail)||void 0===a?void 0:a.presentingComplaint:"N/A",disabled:R})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Past Medical History"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(R&&"bg-white"),...O("pastMedicalHistory"),defaultValue:null!==le&&void 0!==le&&le.pastMedicalHistory?null===le||void 0===le?void 0:le.pastMedicalHistory:null!==ie&&void 0!==ie&&null!==(s=ie.appointmentDetail)&&void 0!==s&&s.pastMedicalHistory?null===ie||void 0===ie||null===(u=ie.appointmentDetail)||void 0===u?void 0:u.pastMedicalHistory:"N/A",disabled:R})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Medications"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(R&&"bg-white"),...O("medications"),defaultValue:null!==le&&void 0!==le&&le.medications?null===le||void 0===le?void 0:le.medications:null!==ie&&void 0!==ie&&null!==(v=ie.appointmentDetail)&&void 0!==v&&v.medications?null===ie||void 0===ie||null===(x=ie.appointmentDetail)||void 0===x?void 0:x.medications:"N/A",disabled:R})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Allergies"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(R&&"bg-white"),...O("allergies"),defaultValue:null!==le&&void 0!==le&&le.allergies?null===le||void 0===le?void 0:le.allergies:null!==ie&&void 0!==ie&&null!==(h=ie.appointmentDetail)&&void 0!==h&&h.allergies?null===ie||void 0===ie||null===(N=ie.appointmentDetail)||void 0===N?void 0:N.allergies:"N/A",disabled:R})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Family History"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(R&&"bg-white"),...O("familyHistory"),defaultValue:null!==le&&void 0!==le&&le.familyHistory?null===le||void 0===le?void 0:le.familyHistory:null!==ie&&void 0!==ie&&null!==(b=ie.appointmentDetail)&&void 0!==b&&b.familyHistory?null===ie||void 0===ie||null===(g=ie.appointmentDetail)||void 0===g?void 0:g.familyHistory:"N/A",disabled:R})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Social History"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(R&&"bg-white"),...O("socialHistory"),defaultValue:null!==le&&void 0!==le&&le.socialHistory?null===le||void 0===le?void 0:le.socialHistory:null!==ie&&void 0!==ie&&null!==(D=ie.appointmentDetail)&&void 0!==D&&D.socialHistory?null===ie||void 0===ie||null===(I=ie.appointmentDetail)||void 0===I?void 0:I.socialHistory:"N/A",disabled:R})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Suspected Diagnosis"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(R&&"bg-white"),...O("suspectedDiagnosis"),defaultValue:null!==le&&void 0!==le&&le.suspectedDiagnosis?null===le||void 0===le?void 0:le.suspectedDiagnosis:null!==ie&&void 0!==ie&&null!==(C=ie.appointmentDetail)&&void 0!==C&&C.suspectedDiagnosis?null===ie||void 0===ie||null===(M=ie.appointmentDetail)||void 0===M?void 0:M.suspectedDiagnosis:"N/A",disabled:R})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Recommended Actions"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(R&&"bg-white"),...O("recommendedActions"),defaultValue:null!==le&&void 0!==le&&le.recommendedActions?null===le||void 0===le?void 0:le.recommendedActions:null!==ie&&void 0!==ie&&null!==(P=ie.appointmentDetail)&&void 0!==P&&P.recommendedActions?null===ie||void 0===ie||null===(T=ie.appointmentDetail)||void 0===T?void 0:T.recommendedActions:"N/A",disabled:R})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Sign off"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(R&&"bg-white"),...O("signOff"),defaultValue:null!==le&&void 0!==le&&le.signOff?null===le||void 0===le?void 0:le.signOff:null!==ie&&void 0!==ie&&null!==(k=ie.appointmentDetail)&&void 0!==k&&k.signOff?null===ie||void 0===ie||null===(z=ie.appointmentDetail)||void 0===z?void 0:z.signOff:"N/A",disabled:R})]})]}),!(null!==ie&&void 0!==ie&&ie.appointmentDetail)&&le&&(0,H.jsx)("div",{className:"d-flex justify-content-end",children:(0,H.jsx)("p",{className:"mb-0",style:{color:"#2269F2",fontWeght:500,fontSize:"18px",cursor:"pointer"},onClick:()=>B(!0),children:"Generate letter with appointment notes"})}),!(null!==ie&&void 0!==ie&&ie.patientId)&&(0,H.jsx)("div",{className:"d-flex justify-content-end",children:(0,H.jsx)(m.Z,{className:"start-apt-btn",type:"submit",children:"Save"})}),(null===ie||void 0===ie?void 0:ie.patientId)&&!0===q&&(0,H.jsx)(m.Z,{className:"mt-2 start-apt-btn float-right",type:"submit",children:"Update"})]})})})})})}const P=function(){var e,l,i,t,n,o,a,s,d;const{emergancyDepartmentLetter:r}=(0,f.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointmentNotes)||{}})),{detailDTO:c}=(0,f.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointedDetail)||{}})),{getUserData:m}=(0,f.v9)((e=>e.userRole)),p=I()().format("DD/MM/YYYY");return(0,H.jsxs)("div",{className:"mb-5",children:[(0,H.jsxs)("div",{className:"text-center",children:[(0,H.jsx)("h1",{children:"FamilyDoc247"}),(0,H.jsx)("h6",{children:"General Practitioner (GP) / Family Physician"}),(0,H.jsx)("h6",{children:"Fitzwilliam Hall, Fitzwilliam Place, Dublin 2"}),(0,H.jsx)("h6",{children:"Tel: +353 1 906 9327"}),(0,H.jsx)("h6",{children:"Email : contact@familydoc247.ie"})]}),(0,H.jsx)("p",{className:"my-5",children:p}),(0,H.jsxs)("p",{className:"mb-5",children:[(0,H.jsx)("span",{className:"font-weight-600",children:"To: "}),"Emergency Department Doctor On Duty"]}),(0,H.jsxs)("div",{children:[(0,H.jsxs)("p",{children:["Re: ",null===r||void 0===r?void 0:r.patient,","," ",null!==c&&void 0!==c&&c.currentAddress?null===c||void 0===c?void 0:c.currentAddress:"N/A"]}),(0,H.jsxs)("p",{children:["DOB:"," ",I()(null!==c&&void 0!==c&&c.dob?null===c||void 0===c?void 0:c.dob:"N/A").format("MM/DD/YYYY"),", Tel: ",null!==c&&void 0!==c&&c.phoneNumber?null===c||void 0===c?void 0:c.phoneNumber:"N/A"]})]}),(0,H.jsx)("p",{className:"mt-5",children:"Dear Doctor On Duty,"}),(0,H.jsx)("p",{children:"I would appreciate if you could see above-named patient."}),(0,H.jsxs)("div",{className:"mb-5",children:[(null===r||void 0===r?void 0:r.referralNote)&&(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{className:"text-black-50 mb-0",children:"Referral Notes"}),null===r||void 0===r?void 0:r.referralNote]}),(null===r||void 0===r?void 0:r.appointmentDetail)&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)("div",{className:"mb-3",children:[(0,H.jsx)("p",{className:"text-black-50 mb-0",children:"Presenting Complaint"}),null===r||void 0===r||null===(e=r.appointmentDetail)||void 0===e?void 0:e.presentingComplaint]}),(0,H.jsxs)("div",{className:"mb-3",children:[(0,H.jsx)("p",{className:"text-black-50 mb-0",children:"Past Medical History"}),null===r||void 0===r||null===(l=r.appointmentDetail)||void 0===l?void 0:l.pastMedicalHistory]}),(0,H.jsxs)("div",{className:"mb-3",children:[(0,H.jsx)("p",{className:"text-black-50 mb-0",children:"Medications"}),null===r||void 0===r||null===(i=r.appointmentDetail)||void 0===i?void 0:i.medications]}),(0,H.jsxs)("div",{className:"mb-3",children:[(0,H.jsx)("p",{className:"text-black-50 mb-0",children:"Allergies"}),null===r||void 0===r||null===(t=r.appointmentDetail)||void 0===t?void 0:t.allergies]}),(0,H.jsxs)("div",{className:"mb-3",children:[(0,H.jsx)("p",{className:"text-black-50 mb-0",children:"Family History"}),null===r||void 0===r||null===(n=r.appointmentDetail)||void 0===n?void 0:n.familyHistory]}),(0,H.jsxs)("div",{className:"mb-3",children:[(0,H.jsx)("p",{className:"text-black-50 mb-0",children:"Social History"}),null===r||void 0===r||null===(o=r.appointmentDetail)||void 0===o?void 0:o.socialHistory]}),(0,H.jsxs)("div",{className:"mb-3",children:[(0,H.jsx)("p",{className:"text-black-50 mb-0",children:"Suspected Diagnosis"}),null===r||void 0===r||null===(a=r.appointmentDetail)||void 0===a?void 0:a.suspectedDiagnosis]}),(0,H.jsxs)("div",{className:"mb-3",children:[(0,H.jsx)("p",{className:"text-black-50 mb-0",children:"Recommended Actions"}),null===r||void 0===r||null===(s=r.appointmentDetail)||void 0===s?void 0:s.recommendedActions]}),(0,H.jsxs)("div",{className:"mb-3",children:[(0,H.jsx)("p",{className:"text-black-50 mb-0",children:"Sign off"}),null===r||void 0===r||null===(d=r.appointmentDetail)||void 0===d?void 0:d.signOff]})]})]}),(0,H.jsx)("p",{className:"pb-3",children:"I would appreciate your urgent assessment and management."}),(0,H.jsx)("p",{className:"pb-2",children:"Yours sincerely,"}),(0,H.jsxs)("p",{className:"mb-0",children:["Dr ",null!==m&&void 0!==m&&m.name?null===m||void 0===m?void 0:m.name:"N/A"]}),(0,H.jsxs)("p",{children:["MCRN ",null!==m&&void 0!==m&&m.mcrn?null===m||void 0===m?void 0:m.mcrn:"N/A"]})]})};function T(){var e,l,i,a,s,u,v,x,h,N,b,g,D,I,C,L,M,T,k,z,O;const{register:Y,handleSubmit:G}=(0,A.cI)(),V=JSON.parse(localStorage.getItem("family_doc_app")),[R,W]=(0,t.useState)(!1),[q,E]=(0,t.useState)(!0),[U,B]=(0,t.useState)(!1),[_,K]=(0,t.useState)(!1),[Q,J]=(0,t.useState)(!1),X=(0,t.useRef)(null),$=(0,j.UO)(),ee=(0,f.I0)(),{patientAppointmentNotes:le}=(0,f.v9)((e=>null===e||void 0===e?void 0:e.appointment)),ie=null===le||void 0===le?void 0:le.appointmentDetail,{emergancyDepartmentLetter:te}=(0,f.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointmentNotes)||{}})),ne=(new Date).toISOString().slice(0,19);(0,t.useEffect)((()=>{const e={appointmentId:null===$||void 0===$?void 0:$.appointmentId};ee((0,y.zp)(e))}),[ee,null===$||void 0===$?void 0:$.appointmentId]);const oe=()=>{const e={appointmentId:null===$||void 0===$?void 0:$.appointmentId};ee((0,y.zp)(e)),W(!1),B(!1)};return(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(d.Z,{onSubmit:G(null!==te&&void 0!==te&&te.noteId?function(e){var l,i;const t={noteId:null===te||void 0===te?void 0:te.noteId,noteTypeId:2,patientId:null!==$&&void 0!==$&&$.patientId?null===$||void 0===$?void 0:$.patientId:null===te||void 0===te?void 0:te.patientId,doctorId:null!==V&&void 0!==V&&V.userId?null===V||void 0===V?void 0:V.userId:null===te||void 0===te?void 0:te.doctorId,referralNote:null===e||void 0===e||null===(l=e.referralNote)||void 0===l?void 0:l.trim(),emergancyDepartmentLetter:null===e||void 0===e?void 0:e.emergancyDepartmentLetter,referralTypeId:2,toDoctor:null===e||void 0===e?void 0:e.toDoctor,appointmentId:null===$||void 0===$?void 0:$.appointmentId,showNote:Q,isPatient:!1,date:ne,appointmentDetail:_?{appointmentDetailId:null===te||void 0===te||null===(i=te.appointmentDetail)||void 0===i?void 0:i.appointmentDetailId,appointmentId:null===$||void 0===$?void 0:$.appointmentId,presentingComplaint:null===e||void 0===e?void 0:e.presentingComplaint,historyOfPresentingComplaint:null===e||void 0===e?void 0:e.presentingComplaint,pastMedicalHistory:null===e||void 0===e?void 0:e.pastMedicalHistory,medications:null===e||void 0===e?void 0:e.medications,allergies:null===e||void 0===e?void 0:e.allergies,familyHistory:null===e||void 0===e?void 0:e.familyHistory,socialHistory:null===e||void 0===e?void 0:e.socialHistory,suspectedDiagnosis:null===e||void 0===e?void 0:e.suspectedDiagnosis,recommendedActions:null===e||void 0===e?void 0:e.recommendedActions,signOff:null===e||void 0===e?void 0:e.signOff,appointmentAttended:!0,failuretoattendnotes:"",referralTypeId:1,noteId:null===te||void 0===te?void 0:te.noteId}:{appointmentDetailId:0}};ee((0,S.d9)({finalData:t,onCreateSuccess:oe})),E(!0)}:function(e){var l;const i={noteId:0,noteTypeId:2,patientId:null!==$&&void 0!==$&&$.patientId?null===$||void 0===$?void 0:$.patientId:null===te||void 0===te?void 0:te.patientId,doctorId:null!==V&&void 0!==V&&V.userId?null===V||void 0===V?void 0:V.userId:null===te||void 0===te?void 0:te.doctorId,referralNote:_?null:null===e||void 0===e||null===(l=e.referralNote)||void 0===l?void 0:l.trim(),emergancyDepartmentLetter:null===e||void 0===e?void 0:e.emergancyDepartmentLetter,referralTypeId:2,toDoctor:null===e||void 0===e?void 0:e.toDoctor,appointmentId:null===$||void 0===$?void 0:$.appointmentId,showNote:Q,date:ne,isPatient:!1,appointmentDetail:_?{appointmentDetailId:0,appointmentId:null===$||void 0===$?void 0:$.appointmentId,presentingComplaint:null===ie||void 0===ie?void 0:ie.presentingComplaint,historyOfPresentingComplaint:null===ie||void 0===ie?void 0:ie.presentingComplaint,pastMedicalHistory:null===ie||void 0===ie?void 0:ie.pastMedicalHistory,medications:null===ie||void 0===ie?void 0:ie.medications,allergies:null===ie||void 0===ie?void 0:ie.allergies,familyHistory:null===ie||void 0===ie?void 0:ie.familyHistory,socialHistory:null===ie||void 0===ie?void 0:ie.socialHistory,suspectedDiagnosis:null===ie||void 0===ie?void 0:ie.suspectedDiagnosis,recommendedActions:null===ie||void 0===ie?void 0:ie.recommendedActions,signOff:null===ie||void 0===ie?void 0:ie.signOff,appointmentAttended:!0,failuretoattendnotes:"",referralTypeId:1,noteId:0}:null};ee((0,S.Og)({finalData:i,onCreateSuccess:oe})),E(!0)}),children:(0,H.jsx)(n.Z,{children:(0,H.jsx)(o.Z,{xs:12,className:"my-3",children:(0,H.jsxs)("div",{className:"h-100",children:[(0,H.jsxs)("span",{className:"d-flex justify-content-between",children:[(0,H.jsx)("p",{className:"referral-main-text",style:{color:"#E31E27"},children:"Emergencey Department Letter"}),null!==te&&void 0!==te&&te.noteId?(0,H.jsx)(r.Z,{id:"dropdown-item-button",title:(0,H.jsx)(p.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,H.jsxs)("div",{className:"set-dropdown-menu",children:[(0,H.jsxs)(c.Z.Item,{className:"d-flex align-items-center",children:[(0,H.jsx)(Z.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,H.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},onClick:()=>{W(!0),B(!0),E(!1)},children:"Edit"})]}),(0,H.jsx)(c.Z.Item,{className:"d-flex align-items-center",children:(0,H.jsx)(w.ZP,{trigger:(0,H.jsxs)("button",{ref:X,className:"bg-transparent border-0 p-0",children:[(0,H.jsx)(F.bAs,{size:20})," Download PDF"]}),children:(0,H.jsx)(P,{})})})]})}):""]}),(0,H.jsx)(d.Z.Check,{type:"checkbox",id:"show-emergency-notes",label:"Show to Patient",onChange:()=>J(!Q),disabled:!(!0===(null===te||void 0===te?void 0:te.showNote)&&U||!1===(null===te||void 0===te?void 0:te.showNote)&&U)&&!(null===te||void 0===te||!te.noteId),defaultChecked:null===te||void 0===te?void 0:te.showNote}),(0,H.jsxs)(d.Z.Group,{className:"mb-3",controlId:"formBasicLabel3",children:[(0,H.jsx)(d.Z.Label,{className:"label-primary mb-0",style:{color:"#999999"},children:"Speciality"}),(0,H.jsx)(d.Z.Control,{type:"text",placeholder:"Tiredness",className:"pt-2 custom-field-picker ".concat(R&&"bg-white"),...Y("emergancyDepartmentLetter",{required:!0}),defaultValue:null!==(e=null===te||void 0===te?void 0:te.emergancyDepartmentLetter)&&void 0!==e?e:"",readOnly:(null===te||void 0===te||!te.emergancyDepartmentLetter||!U)&&!(null===te||void 0===te||!te.emergancyDepartmentLetter),maxLength:250})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-3 mt-2",controlId:"formBasicLabel3",children:[(0,H.jsx)(d.Z.Label,{className:"label-primary mb-0",style:{color:"#999999"},children:"To"}),(0,H.jsx)(d.Z.Control,{type:"text",placeholder:"Specialist name",className:"pt-2 custom-field-picker ".concat(R&&"bg-white"),...Y("toDoctor",{required:!0}),defaultValue:null!==(l=null===te||void 0===te?void 0:te.toDoctor)&&void 0!==l?l:"",maxLength:250,readOnly:(null===te||void 0===te||!te.toDoctor||!U)&&!(null===te||void 0===te||!te.toDoctor)})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Referral Notes"}),!1!==_||null!==te&&void 0!==te&&te.appointmentDetail?"":(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,placeholder:"Referral Note",className:"pt-2 custom-field-picker ".concat(R&&"bg-white"),...Y("referralNote",{required:!0}),defaultValue:null!==(i=null===te||void 0===te?void 0:te.referralNote)&&void 0!==i?i:"",readOnly:(null===te||void 0===te||!te.referralNote||!U)&&!(null===te||void 0===te||!te.referralNote),maxLength:250})]}),(_||(null===te||void 0===te?void 0:te.appointmentDetail))&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Presenting Complaint"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(q&&"bg-white"),...Y("presentingComplaint"),defaultValue:null!==ie&&void 0!==ie&&ie.presentingComplaint?null===ie||void 0===ie?void 0:ie.presentingComplaint:null!==te&&void 0!==te&&null!==(a=te.appointmentDetail)&&void 0!==a&&a.presentingComplaint?null===te||void 0===te||null===(s=te.appointmentDetail)||void 0===s?void 0:s.presentingComplaint:"N/A",disabled:q})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Past Medical History"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(q&&"bg-white"),...Y("pastMedicalHistory"),defaultValue:null!==ie&&void 0!==ie&&ie.pastMedicalHistory?null===ie||void 0===ie?void 0:ie.pastMedicalHistory:null!==te&&void 0!==te&&null!==(u=te.appointmentDetail)&&void 0!==u&&u.pastMedicalHistory?null===te||void 0===te||null===(v=te.appointmentDetail)||void 0===v?void 0:v.pastMedicalHistory:"N/A",disabled:q})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Medications"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(q&&"bg-white"),...Y("medications"),defaultValue:null!==ie&&void 0!==ie&&ie.medications?null===ie||void 0===ie?void 0:ie.medications:null!==te&&void 0!==te&&null!==(x=te.appointmentDetail)&&void 0!==x&&x.medications?null===te||void 0===te||null===(h=te.appointmentDetail)||void 0===h?void 0:h.medications:"N/A",disabled:q})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Allergies"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(q&&"bg-white"),...Y("allergies"),defaultValue:null!==ie&&void 0!==ie&&ie.allergies?null===ie||void 0===ie?void 0:ie.allergies:null!==te&&void 0!==te&&null!==(N=te.appointmentDetail)&&void 0!==N&&N.allergies?null===te||void 0===te||null===(b=te.appointmentDetail)||void 0===b?void 0:b.allergies:"N/A",disabled:q})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Family History"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(q&&"bg-white"),...Y("familyHistory"),defaultValue:null!==ie&&void 0!==ie&&ie.familyHistory?null===ie||void 0===ie?void 0:ie.familyHistory:null!==te&&void 0!==te&&null!==(g=te.appointmentDetail)&&void 0!==g&&g.familyHistory?null===te||void 0===te||null===(D=te.appointmentDetail)||void 0===D?void 0:D.familyHistory:"N/A",disabled:q})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Social History"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(q&&"bg-white"),...Y("socialHistory"),defaultValue:null!==ie&&void 0!==ie&&ie.socialHistory?null===ie||void 0===ie?void 0:ie.socialHistory:null!==te&&void 0!==te&&null!==(I=te.appointmentDetail)&&void 0!==I&&I.socialHistory?null===te||void 0===te||null===(C=te.appointmentDetail)||void 0===C?void 0:C.socialHistory:"N/A",disabled:q})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Suspected Diagnosis"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(q&&"bg-white"),...Y("suspectedDiagnosis"),defaultValue:null!==ie&&void 0!==ie&&ie.suspectedDiagnosis?null===ie||void 0===ie?void 0:ie.suspectedDiagnosis:null!==te&&void 0!==te&&null!==(L=te.appointmentDetail)&&void 0!==L&&L.suspectedDiagnosis?null===te||void 0===te||null===(M=te.appointmentDetail)||void 0===M?void 0:M.suspectedDiagnosis:"N/A",disabled:q})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Recommended Actions"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(q&&"bg-white"),...Y("recommendedActions"),defaultValue:null!==ie&&void 0!==ie&&ie.recommendedActions?null===ie||void 0===ie?void 0:ie.recommendedActions:null!==te&&void 0!==te&&null!==(T=te.appointmentDetail)&&void 0!==T&&T.recommendedActions?null===te||void 0===te||null===(k=te.appointmentDetail)||void 0===k?void 0:k.recommendedActions:"N/A",disabled:q})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Sign off"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(q&&"bg-white"),...Y("signOff"),defaultValue:null!==ie&&void 0!==ie&&ie.signOff?null===ie||void 0===ie?void 0:ie.signOff:null!==te&&void 0!==te&&null!==(z=te.appointmentDetail)&&void 0!==z&&z.signOff?null===te||void 0===te||null===(O=te.appointmentDetail)||void 0===O?void 0:O.signOff:"N/A",disabled:q})]})]}),!(null!==te&&void 0!==te&&te.appointmentDetail)&&ie&&(0,H.jsx)("div",{className:"d-flex justify-content-end",children:(0,H.jsx)("p",{className:"float-right mb-0",style:{color:"#2269F2",fontWeght:500,fontSize:"18px",cursor:"pointer"},onClick:()=>K(!0),children:"Generate letter with appointment notes"})}),!(null!==te&&void 0!==te&&te.patientId)&&(0,H.jsx)("div",{className:"d-flex justify-content-end",children:(0,H.jsx)(m.Z,{className:"start-apt-btn",type:"submit",children:"Save"})}),(null===te||void 0===te?void 0:te.patientId)&&!0===U&&(0,H.jsx)(m.Z,{className:"mt-2 start-apt-btn float-right",type:"submit",children:"Update"})]})})})})})}function k(e){let{slotDescription:l,aptData:i,setAptData:t,setInputFieldValues:n,inputFieldValues:o}=e;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(M,{slotDescription:l,aptData:i,setAptData:t,setInputFieldValues:n,inputFieldValues:o}),(0,H.jsx)("hr",{style:{color:"#CCCCCC",border:"1px solid"}}),(0,H.jsx)(T,{slotDescription:l,aptData:i,setAptData:t,setInputFieldValues:n,inputFieldValues:o})]})}var z=i(23196),O=i(76364);const Y=function(){var e,l,i,a,s,u,v,x,h,N,b,g,D,C,S,L,M,P,T;const[k,Y]=(0,t.useState)(!1),[G,V]=(0,t.useState)(!1),R=(0,t.useRef)(null),{register:W,handleSubmit:q,setValue:E}=(0,A.cI)(),{patientAppointmentNotes:U}=(0,f.v9)((e=>e.appointment)),B=(0,f.I0)(),_=(0,j.UO)(),{getPatientData:K}=(0,f.v9)((e=>null===e||void 0===e?void 0:e.patient)),{getUserData:Q}=(0,f.v9)((e=>null===e||void 0===e?void 0:e.userRole));(0,t.useEffect)((()=>{var e,l;null!==U&&void 0!==U&&null!==(e=U.medicalCertificate)&&void 0!==e&&e.unabletoAttendField&&E("unabletoAttendField",null===U||void 0===U||null===(l=U.medicalCertificate)||void 0===l?void 0:l.unabletoAttendField)}),[U,E]);const J=()=>{const e={appointmentId:null===_||void 0===_?void 0:_.appointmentId};B((0,y.zp)(e)),Y(!1)};return(0,H.jsx)("div",{className:"mx-4 ".concat(null!==U&&void 0!==U&&null!==(e=U.medicalCertificate)&&void 0!==e&&e.sufferingFrom&&!0!==k?"":"mb-5"),children:(0,H.jsx)(d.Z,{onSubmit:q((function(e){var l,i,t;const n={medicalCertificateId:null!==U&&void 0!==U&&null!==(l=U.medicalCertificate)&&void 0!==l&&l.medicalCertificateId?null===U||void 0===U||null===(i=U.medicalCertificate)||void 0===i?void 0:i.medicalCertificateId:0,appointmentId:null===_||void 0===_?void 0:_.appointmentId,name:e.sufferingFrom,showMedicalCertificate:G,fromDate:null===e||void 0===e?void 0:e.fromDate,toDate:null===e||void 0===e?void 0:e.toDate,unabletoAttendField:e.unabletoAttendField,pdfFile:null,sufferingFrom:null===e||void 0===e?void 0:e.sufferingFrom};null!==U&&void 0!==U&&null!==(t=U.medicalCertificate)&&void 0!==t&&t.sufferingFrom?B((0,z.T_)({finalData:n,onCreateSuccess:J})):B((0,z._d)({finalData:n,onCreateSuccess:J}))})),className:"med-certificate",children:(0,H.jsxs)(n.Z,{children:[(0,H.jsxs)(o.Z,{md:12,className:"d-flex justify-content-between",children:[(0,H.jsx)(d.Z.Check,{type:"checkbox",id:"show-medical-certificate",label:"Show to Patient",onChange:()=>{V(!G)},disabled:!(!0===(null===U||void 0===U||null===(l=U.medicalCertificate)||void 0===l?void 0:l.showMedicalCertificate)&&k||!1===(null===U||void 0===U||null===(i=U.medicalCertificate)||void 0===i?void 0:i.showMedicalCertificate)&&k)&&!(null===U||void 0===U||null===(a=U.medicalCertificate)||void 0===a||!a.medicalCertificateId),defaultChecked:null===U||void 0===U||null===(s=U.medicalCertificate)||void 0===s?void 0:s.showMedicalCertificate}),(null===U||void 0===U||null===(u=U.medicalCertificate)||void 0===u?void 0:u.sufferingFrom)&&!1===k&&(0,H.jsx)(r.Z,{id:"dropdown-item-med",title:(0,H.jsx)(p.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,H.jsxs)("div",{className:"set-dropdown-menu",children:[(0,H.jsxs)(c.Z.Item,{className:"d-flex align-items-center",onClick:()=>{Y(!0)},children:[(0,H.jsx)(Z.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,H.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},children:"Edit"})]}),(0,H.jsx)(c.Z.Item,{className:"d-flex align-items-center",children:(0,H.jsx)(w.ZP,{trigger:(0,H.jsxs)("button",{ref:R,className:"bg-transparent border-0 p-0",children:[(0,H.jsx)(F.bAs,{size:20})," Download PDF"]}),children:(0,H.jsx)(O.Z,{MedicalCertificateData:null===U||void 0===U?void 0:U.medicalCertificate,getUserData:Q,detailDTO:K})})})]})})]}),(0,H.jsx)(o.Z,{lg:6,xs:12,children:(0,H.jsxs)(d.Z.Group,{children:[(0,H.jsx)(d.Z.Label,{children:"From"}),(0,H.jsx)(d.Z.Control,{type:"date",placeholderText:"DD / MM / YY",className:"custom-date",defaultValue:I()(null===U||void 0===U||null===(v=U.medicalCertificate)||void 0===v?void 0:v.fromDate).format("DD-MM-YYYY"),disabled:(null===U||void 0===U||null===(x=U.medicalCertificate)||void 0===x||!x.fromDate||!k)&&!(null===U||void 0===U||null===(h=U.medicalCertificate)||void 0===h||!h.fromDate),name:"fromDate",...W("fromDate",{required:!0})})]})}),(0,H.jsx)(o.Z,{lg:6,xs:12,children:(0,H.jsxs)(d.Z.Group,{controlId:"",children:[(0,H.jsx)(d.Z.Label,{className:"",children:"To"}),(0,H.jsx)(d.Z.Control,{type:"date",placeholderText:"DD / MM / YY",className:"custom-date",defaultValue:I()(null===U||void 0===U||null===(N=U.medicalCertificate)||void 0===N?void 0:N.toDate).format("DD-MM-YYYY"),disabled:(null===U||void 0===U||null===(b=U.medicalCertificate)||void 0===b||!b.toDate||!k)&&!(null===U||void 0===U||null===(g=U.medicalCertificate)||void 0===g||!g.toDate),name:"toDate",...W("toDate",{required:!0})})]})}),(0,H.jsx)(o.Z,{xs:12,children:(0,H.jsxs)(d.Z.Group,{className:"my-3",controlId:"unable-to-attend",children:[(0,H.jsx)(d.Z.Label,{children:"Unable to Attend"}),(0,H.jsxs)(d.Z.Select,{"aria-label":"Select Unable to Attend",...W("unabletoAttendField",{required:!0}),disabled:(null===U||void 0===U||null===(D=U.medicalCertificate)||void 0===D||!D.unabletoAttendField||!k)&&!(null===U||void 0===U||null===(C=U.medicalCertificate)||void 0===C||!C.unabletoAttendField),children:[(0,H.jsx)("option",{value:"",children:"Select Value"}),(0,H.jsx)("option",{value:"work",children:"Work"}),(0,H.jsx)("option",{value:"school",children:"School"}),(0,H.jsx)("option",{value:"college",children:"College"}),(0,H.jsx)("option",{value:"jury duty",children:"Jury Duty"})]})]})}),(0,H.jsx)(o.Z,{xs:12,children:(0,H.jsxs)(d.Z.Group,{className:"mb-3",controlId:"medicalFormField",children:[(0,H.jsx)(d.Z.Label,{className:"label-primary mt-2",children:"Suffering Certificate"}),(0,H.jsx)("span",{className:"d-flex justify-content-between",children:(0,H.jsx)(d.Z.Control,{as:"textarea",rows:3,className:"".concat((k||(null===U||void 0===U||null===(S=U.medicalCertificate)||void 0===S?void 0:S.sufferingFrom))&&"bg-transparent"),placeholder:"Tell about some medical certificate",...W("sufferingFrom",{required:!0}),defaultValue:(null===U||void 0===U||null===(L=U.medicalCertificate)||void 0===L?void 0:L.sufferingFrom)||"",readOnly:(null===U||void 0===U||null===(M=U.medicalCertificate)||void 0===M||!M.sufferingFrom||!k)&&!(null===U||void 0===U||null===(P=U.medicalCertificate)||void 0===P||!P.sufferingFrom),maxLength:250})})]})}),(0,H.jsx)(o.Z,{xs:3,className:"w-100",children:(!(null!==U&&void 0!==U&&null!==(T=U.medicalCertificate)&&void 0!==T&&T.sufferingFrom)||!0===k)&&(0,H.jsx)(m.Z,{className:"mb-3 start-apt-btn float-right",type:"submit",children:"Save"})})]})})})};var G=i(80591),V=i(52802),R=i(3810);function W(){var e,l,i,D,S,L,M,P,T,z,O,W,q,E,U,B,_,K,Q,J,X,$,ee,le,ie,te,ne,oe,ae,se;const[de,re]=(0,t.useState)(!1),ce=(0,t.useRef)(null),{register:me,handleSubmit:pe,reset:ue}=(0,A.cI)(),ve=(0,j.UO)(),xe=(0,f.I0)(),he=(new Date).toISOString().slice(0,19),{getPatientData:fe}=(0,f.v9)((e=>e.patient)),{patientAppointmentNotes:je}=(0,f.v9)((e=>e.appointment)),Ne=JSON.parse(localStorage.getItem("family_doc_app"));const be=[{dataField:"medicineName",text:"Medicine Name",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("p",{className:"color-99 mb-0",children:"Medicine Name"}),(0,H.jsx)("p",{className:"table-custom-data",children:null!==l&&void 0!==l&&l.medicineName?null===l||void 0===l?void 0:l.medicineName:"N/A"})]})},{dataField:"doseFrequency",text:"Dose Frequency",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("p",{className:"color-99 mb-0",children:"Dose Frequency"}),(0,H.jsx)("p",{className:"table-custom-data",children:null!==l&&void 0!==l&&l.doseFrequency?null===l||void 0===l?void 0:l.doseFrequency:"N/A"})]})},{dataField:"dose",text:"Dose",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("p",{className:"color-99 mb-0",children:"Dose"}),(0,H.jsx)("p",{className:"table-custom-data",children:null!==l&&void 0!==l&&l.dose?null===l||void 0===l?void 0:l.dose:"N/A"})]})},{dataField:"formulation",text:"Formulation",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("p",{className:"color-99 mb-0",children:"Formulation"}),(0,H.jsx)("p",{className:"table-custom-data",children:null!==l&&void 0!==l&&l.formulation?null===l||void 0===l?void 0:l.formulation:"N/A"})]})},{dataField:"quantity",text:"Quantity",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("p",{className:"color-99 mb-0",children:"Quantity"}),(0,H.jsx)("p",{className:"table-custom-data",children:null!==l&&void 0!==l&&l.quantity?null===l||void 0===l?void 0:l.quantity:"N/A"})]})}],ye={paginationSize:2,pageStartIndex:1,alwaysShowAllBtns:!0,withFirstAndLast:!1,hideSizePerPage:!0,showTotal:!0,paginationTotalRenderer:(e,l,i)=>(0,H.jsxs)("span",{className:"react-bootstrap-table-pagination-total",children:[(0,H.jsxs)("b",{children:[" ",e," "]})," to ",(0,H.jsx)("b",{children:l})," out of ",(0,H.jsxs)("b",{children:[i," entries"]})]}),disablePageTitle:!0,sizePerPageList:[{text:"2",value:2}]};(0,t.useEffect)((()=>{const e={patientId:null===ve||void 0===ve?void 0:ve.patientId};xe((0,b._s)(e))}),[xe,null===ve||void 0===ve?void 0:ve.patientId]),(0,t.useEffect)((()=>{const e={userId:null===Ne||void 0===Ne?void 0:Ne.userId};xe((0,G.PR)(e))}),[xe,null===Ne||void 0===Ne?void 0:Ne.userId]),(0,t.useEffect)((()=>{const e={appointmentId:null===ve||void 0===ve?void 0:ve.appointmentId};xe((0,y.zp)(e))}),[xe,null===ve||void 0===ve?void 0:ve.appointmentId]);const ge=()=>{const e={appointmentId:null===ve||void 0===ve?void 0:ve.appointmentId};xe((0,y.zp)(e)),re(!1),ue()};const De=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date(null===je||void 0===je?void 0:je.appointentDate),l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";return null===e||void 0===e?void 0:e.toLocaleDateString(l,{weekday:"short"})}();const Ie=null===je||void 0===je?void 0:je.startTime,Ae=new Date(Ie),Ce=Ae.getTimezoneOffset(),Ze=new Date(Ae.getTime()-6e4*Ce).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("nav",{"aria-label":"breadcrumb",children:(0,H.jsxs)("ol",{className:"breadcrumb",children:[(0,H.jsx)("li",{className:"breadcrumb-item",children:(0,H.jsx)(N.rU,{to:R.m.PATIENTS,className:"text-decoration-none fs-5",style:{color:"#999999"},children:"Patients"})}),(0,H.jsx)(h.hjJ,{style:{color:"#999999"},className:"ms-2 mt-2"}),(0,H.jsx)("li",{className:"breadcrumb-item active fs-5","aria-current":"page",style:{color:"#999999"},children:"".concat(null===fe||void 0===fe?void 0:fe.firstName," ").concat(null===fe||void 0===fe?void 0:fe.lastName)}),(0,H.jsx)(h.hjJ,{style:{color:"#999999"},className:"ms-2 mt-2"}),(0,H.jsx)("li",{className:"breadcrumb-item active fs-5","aria-current":"page",style:{color:"#999999"},children:"Appointments"}),(0,H.jsx)(h.hjJ,{style:{color:"#999999"},className:"ms-2 mt-2"}),(0,H.jsx)("li",{className:"breadcrumb-item active fs-5","aria-current":"page",style:{color:"#6045EB"},children:"Appointment Notes"})]})}),(0,H.jsxs)(n.Z,{className:"patient-appointment-notes-details",children:[(0,H.jsx)(o.Z,{xl:3,lg:4,md:4,children:(0,H.jsx)("div",{className:"shadow-sm",children:(0,H.jsx)(x.Z,{name:null!==fe&&void 0!==fe&&fe.firstName?"".concat(null===fe||void 0===fe?void 0:fe.firstName," ").concat(null===fe||void 0===fe?void 0:fe.lastName):"N/A",genderInfo:"true",gender:null!==fe&&void 0!==fe&&fe.gender?null===fe||void 0===fe?void 0:fe.gender:"N/A",dobInfo:"true",dob:null!==fe&&void 0!==fe&&fe.dob?null===fe||void 0===fe?void 0:fe.dob.split("T")[0]:"N/A",locationInfo:"true",location:null!==fe&&void 0!==fe&&fe.currentAddress?null===fe||void 0===fe?void 0:fe.currentAddress:"N/A",currentLocationInfo:"true",currentLocation:null!==fe&&void 0!==fe&&fe.currentAddress?null===fe||void 0===fe?void 0:fe.currentAddress:"N/A",patientLocalGPInfo:"true",patientLocalGP:null!==fe&&void 0!==fe&&fe.patientLocalGP?null===fe||void 0===fe?void 0:fe.patientLocalGP:"N/A",emailInfo:"true",email:null!==fe&&void 0!==fe&&fe.email?null===fe||void 0===fe?void 0:fe.email:"N/A",pharmacyInfo:"true",pharmacy:"Clinix",phoneInfo:"true",phone:null!==fe&&void 0!==fe&&fe.phoneNumber?null===fe||void 0===fe?void 0:fe.phoneNumber:"N/A",image:null===fe||void 0===fe?void 0:fe.imageUrl})})}),(0,H.jsx)(o.Z,{xl:9,lg:8,md:8,children:(0,H.jsxs)(a.Z,{className:"px-4 pt-4 shadow-sm patient-appointment-notes-details",children:[(0,H.jsx)("div",{className:"py-3",children:(0,H.jsx)("h4",{className:"px-2 py-2 header-border",children:"Appointmnet Notes"})}),(0,H.jsx)(s.Z,{defaultActiveKey:"0",children:(0,H.jsxs)(s.Z.Item,{eventKey:"0",className:"my-3",children:[(0,H.jsx)(s.Z.Header,{children:(0,H.jsx)("h4",{children:"Appointment Details"})}),(0,H.jsx)(s.Z.Body,{className:"py-4",children:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{className:"d-flex justify-content-between py-3 pb-4",children:(0,H.jsxs)("div",{className:"d-flex",children:[(0,H.jsx)("img",{src:v.Z.APPOINTMENT_ICON,alt:"Appointment Icon",className:"appointment-icon-size"}),(0,H.jsxs)("p",{className:"ps-2 pt-1 mb-0 fw-bold align-items-center",children:[De,","," ",I()(null===je||void 0===je?void 0:je.appointentDate).format("DD-MMM-YYYY"),", ",Ze]})]})}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{style:{color:"#999999"},className:"mb-1",children:"Presenting Complaint"}),(0,H.jsx)("p",{children:null!==je&&void 0!==je&&null!==(e=je.appointmentDetail)&&void 0!==e&&e.presentingComplaint?null===je||void 0===je||null===(l=je.appointmentDetail)||void 0===l?void 0:l.presentingComplaint:"N/A"})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{style:{color:"#999999"},className:"mb-1",children:"Past Medical History"}),(0,H.jsx)("p",{children:null!==je&&void 0!==je&&null!==(i=je.appointmentDetail)&&void 0!==i&&i.pastMedicalHistory?null===je||void 0===je||null===(D=je.appointmentDetail)||void 0===D?void 0:D.pastMedicalHistory:"N/A"})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{style:{color:"#999999"},className:"mb-1",children:"Medications"}),(0,H.jsx)("p",{children:null!==je&&void 0!==je&&null!==(S=je.appointmentDetail)&&void 0!==S&&S.medications?null===je||void 0===je||null===(L=je.appointmentDetail)||void 0===L?void 0:L.medications:"N/A"})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{style:{color:"#999999"},className:"mb-1",children:"Allergies"}),(0,H.jsx)("p",{children:null!==je&&void 0!==je&&null!==(M=je.appointmentDetail)&&void 0!==M&&M.allergies?null===je||void 0===je||null===(P=je.appointmentDetail)||void 0===P?void 0:P.allergies:"N/A"})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{style:{color:"#999999"},className:"mb-1",children:"Family History"}),(0,H.jsx)("p",{children:null!==je&&void 0!==je&&null!==(T=je.appointmentDetail)&&void 0!==T&&T.familyHistory?null===je||void 0===je||null===(z=je.appointmentDetail)||void 0===z?void 0:z.familyHistory:"N/A"})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{style:{color:"#999999"},className:"mb-1",children:"Social History"}),(0,H.jsx)("p",{children:null!==je&&void 0!==je&&null!==(O=je.appointmentDetail)&&void 0!==O&&O.socialHistory?null===je||void 0===je||null===(W=je.appointmentDetail)||void 0===W?void 0:W.socialHistory:"N/A"})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{style:{color:"#999999"},className:"mb-1",children:"Suspected Diagnosis"}),(0,H.jsx)("p",{children:null!==je&&void 0!==je&&null!==(q=je.appointmentDetail)&&void 0!==q&&q.suspectedDiagnosis?null===je||void 0===je||null===(E=je.appointmentDetail)||void 0===E?void 0:E.suspectedDiagnosis:"N/A"})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{style:{color:"#999999"},className:"mb-1",children:"Recommended Action"}),(0,H.jsx)("p",{children:null!==je&&void 0!==je&&null!==(U=je.appointmentDetail)&&void 0!==U&&U.recommendedActions?null===je||void 0===je||null===(B=je.appointmentDetail)||void 0===B?void 0:B.recommendedActions:"N/A"})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{style:{color:"#999999"},className:"mb-1",children:"Sign off"}),(0,H.jsx)("p",{children:null!==je&&void 0!==je&&null!==(_=je.appointmentDetail)&&void 0!==_&&_.signOff?null===je||void 0===je||null===(K=je.appointmentDetail)||void 0===K?void 0:K.signOff:"N/A"})]})]})})]})}),(0,H.jsx)(s.Z,{children:(0,H.jsxs)(s.Z.Item,{eventKey:"0",className:"my-3",children:[(0,H.jsx)(s.Z.Header,{children:(0,H.jsx)("h4",{children:"Clinical Notes"})}),(0,H.jsx)(s.Z.Body,{className:"mx-4 ".concat(null!==je&&void 0!==je&&null!==(Q=je.note)&&void 0!==Q&&Q.note&&!0!==de?"":"mb-5"),children:(0,H.jsxs)(d.Z,{onSubmit:pe((function(e){var l,i,t,n;const o={noteId:null!==je&&void 0!==je&&null!==(l=je.note)&&void 0!==l&&l.noteId?null===je||void 0===je||null===(i=je.note)||void 0===i?void 0:i.noteId:0,patientId:null!==ve&&void 0!==ve&&ve.patientId?null===ve||void 0===ve?void 0:ve.patientId:null===je||void 0===je||null===(t=je.note)||void 0===t?void 0:t.patientId,doctorId:null===Ne||void 0===Ne?void 0:Ne.userId,appointmentId:null===ve||void 0===ve?void 0:ve.appointmentId,noteTypeId:1,note:null===e||void 0===e?void 0:e.note,date:he,showNote:!0,appointmentDetail:null!==je&&void 0!==je&&je.note?{appointmentDetailId:0}:null};null!==je&&void 0!==je&&null!==(n=je.note)&&void 0!==n&&n.noteId?xe((0,C.fW)({finalData:o,moveToNext:ge})):xe((0,C.K1)({finalData:o,moveToNext:ge}))})),children:[(0,H.jsx)(d.Z.Group,{className:"mb-3",controlId:"medicalForm.ControlTextarea1",children:(0,H.jsxs)("span",{className:"d-flex justify-content-between",children:[(0,H.jsx)(d.Z.Control,{as:"textarea",rows:3,className:"".concat((de||(null===je||void 0===je||null===(J=je.note)||void 0===J?void 0:J.note))&&"bg-transparent"),placeholder:"Tell about Clinical Notes",...me("note",{required:!0}),defaultValue:null!==(X=null===je||void 0===je||null===($=je.note)||void 0===$?void 0:$.note)&&void 0!==X?X:"",readOnly:(null===je||void 0===je||null===(ee=je.note)||void 0===ee||!ee.note||!de)&&!(null===je||void 0===je||null===(le=je.note)||void 0===le||!le.note),maxLength:250}),(null===je||void 0===je||null===(ie=je.note)||void 0===ie?void 0:ie.note)&&!1===de&&(0,H.jsx)(r.Z,{id:"dropdown-item-button",title:(0,H.jsx)(p.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,H.jsx)("div",{className:"set-dropdown-menu",children:(0,H.jsxs)(c.Z.Item,{className:"d-flex align-items-center",onClick:()=>{re(!0)},children:[(0,H.jsx)(Z.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,H.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},children:"Edit"})]})})})]})}),(!(null!==je&&void 0!==je&&null!==(te=je.note)&&void 0!==te&&te.note)||!0===de)&&(0,H.jsx)(m.Z,{className:"mb-3 start-apt-btn float-right",type:"submit",children:"Save"})]})})]})}),(0,H.jsx)(s.Z,{children:(0,H.jsxs)(s.Z.Item,{eventKey:"0",className:"my-3",children:[(0,H.jsx)(s.Z.Header,{children:(0,H.jsx)("h4",{children:"Prescription"})}),(0,H.jsx)(s.Z.Body,{className:"py-4",children:(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(a.Z,{className:"bg-light px-3 mb-3",children:(0,H.jsx)("div",{className:"custom-table-spacing",children:(null===je||void 0===je||null===(ne=je.prescription)||void 0===ne||null===(oe=ne.medicineList)||void 0===oe?void 0:oe.length)>0?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{className:"d-flex justify-content-end pt-3",children:(0,H.jsx)(w.ZP,{trigger:(0,H.jsxs)("button",{ref:ce,className:"border-0 px-3 py-2 rounded-2",children:[(0,H.jsx)(F.bAs,{size:20})," Download PDF"]}),children:(0,H.jsx)(V.Z,{prescriptionData:null===je||void 0===je?void 0:je.prescription})})}),(0,H.jsx)(g.Z,{keyField:"id",data:null!==je&&void 0!==je&&null!==(ae=je.prescription)&&void 0!==ae&&ae.medicineList?null===je||void 0===je||null===(se=je.prescription)||void 0===se?void 0:se.medicineList:[],columns:be,bordered:!1,rowStyle:function(){return{backgroundColor:"#F8F8F8"}},wrapperClasses:"table-responsive",pagination:(0,u.ZP)(ye)})]}):(0,H.jsx)("p",{className:"text-black text-center w-100 mb-0 py-2",children:"No Prescription"})})})})})]})}),(0,H.jsx)(s.Z,{children:(0,H.jsxs)(s.Z.Item,{eventKey:"0",className:"my-3",children:[(0,H.jsx)(s.Z.Header,{children:(0,H.jsx)("h4",{children:"Referral"})}),(0,H.jsx)(s.Z.Body,{className:"py-0",children:(0,H.jsx)(k,{})})]})}),(0,H.jsx)(s.Z,{children:(0,H.jsxs)(s.Z.Item,{eventKey:"0",className:"my-3",children:[(0,H.jsx)(s.Z.Header,{children:(0,H.jsx)("h4",{style:{color:"#44BC19"},children:"Medical Certificate"})}),(0,H.jsx)(s.Z.Body,{children:(0,H.jsx)(Y,{})})]})})]})})]})]})}}}]);
//# sourceMappingURL=5380.692fdd32.chunk.js.map