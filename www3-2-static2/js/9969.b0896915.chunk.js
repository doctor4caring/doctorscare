"use strict";(self.webpackChunkfamily_doc_app=self.webpackChunkfamily_doc_app||[]).push([[9969],{45793:(e,s,l)=>{l.d(s,{Z:()=>t});var a=l(29086);const t=async e=>{try{const s=await a.Z.post("/digitalOcean/post",e);return null===s||void 0===s?void 0:s.data}catch(s){return s}}},17505:(e,s,l)=>{l.d(s,{c:()=>n});var a=l(3810),t=l(80184);function n(e){return(0,t.jsx)("div",{className:"error-message-field-generic",children:(0,t.jsx)("p",{className:"my-1",children:e.message?e.message:a.p.SYSTEM_ERROR})})}},60842:(e,s,l)=>{l.d(s,{Z:()=>r});l(72791);var a=l(59513),t=l.n(a),n=l(39126),i=(l(68639),l(80184));const r=e=>{let{selectedDateState:s,onChange:l,dateFormat:a="dd MMM yyyy",placeholderText:r="Date",className:o="",datePickerClassName:d="custom-field-picker px-2",useDrDateClass:c=!0,...m}=e;return console.log("disabled",m),(0,i.jsxs)("div",{className:"position-relative d-flex mb-3 ".concat(o),...m,children:[(0,i.jsx)(t(),{selected:s,onChange:l,dateFormat:a,placeholderText:r,className:"".concat(d," ").concat(c?"dr-date-w":"w-100"),disabled:null===m||void 0===m?void 0:m.disabled,minDate:null===m||void 0===m?void 0:m.mindate}),(0,i.jsx)(n.zlR,{size:18,className:"custom__date_icon"})]})}},93590:(e,s,l)=>{l.r(s),l.d(s,{default:()=>f});var a=l(72791),t=l(89743),n=l(2677),i=l(3593),r=l(80184);const o=e=>{let{activeStep:s,steps:l}=e;const a=(s+1)/(null===l||void 0===l?void 0:l.length)*100;return(0,r.jsxs)(t.Z,{className:"profileHeader px-5 d-flex align-items-center justify-content-between",children:[(0,r.jsx)(n.Z,{xl:3,className:"d-flex",children:(0,r.jsx)("h2",{className:"fw-bold fs-3 mb-0",children:"Complete Profile"})}),(0,r.jsxs)(n.Z,{xl:4,className:"d-flex align-items-center justify-content-between",children:[(0,r.jsx)("h6",{className:"fw-semibold text-nowrap mb-0",children:"Profile Completed"}),(0,r.jsx)("div",{className:"w-75 mx-3",children:(0,r.jsx)(i.Z,{now:a})}),(0,r.jsx)("h6",{className:"fw-semibold mb-0",children:"".concat(a.toFixed(0),"%")})]})]})};var d=l(11087),c=l(56355),m=l(3810),u=l(10857);const p=[{label:"General Information",link:m.m.PERSONAL_INFORMATION},{label:"Medical History",link:m.m.MEDICAL_HISTORY},{label:"Pharmacy",link:m.m.PHARMACY}],x=e=>{let{activeStep:s}=e;const[l,t]=(0,a.useState)(!1),[n,i]=(0,a.useState)([]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:"sidebar-toggle",onClick:()=>{t(!l)},children:(0,r.jsx)(c.Fm7,{})}),(0,r.jsx)("div",{className:"profileSidebar ".concat(l?"visible":""),children:(0,r.jsxs)("aside",{className:"d-flex flex-column justify-content-center align-items-center",children:[(0,r.jsx)(d.rU,{to:m.m.PATIENT_DASHBOARD,className:"logo mr-0 header-logo-image text-decoration-none mt-5",children:(0,r.jsx)("img",{alt:"sidebar logo",src:u.Z.SIDEBAR_LOGO})}),(0,r.jsx)("ul",{className:"list-unstyled py-3 mt-5 d-flex flex-column justify-content-center align-items-start",children:p.map(((e,l)=>(0,r.jsxs)("li",{className:"mb-4",children:[(0,r.jsxs)(d.rU,{to:e.link,className:l===s?"active":n.includes(l)?"completed":"",onClick:()=>(e=>{n.includes(e)||i([...n,e])})(l),children:[(0,r.jsx)("span",{className:"p-3 spanBorder rounded-circle me-2",children:"0".concat(l+1)}),e.label]}),l!==(null===p||void 0===p?void 0:p.length)-1&&(0,r.jsx)("span",{className:"d-flex justify-content-start ps-4 mt-4",children:(0,r.jsx)("img",{alt:"vertical line",src:u.Z.VERTICAL_LINE})})]},l)))})]})}),(0,r.jsx)(o,{activeStep:s,steps:p})]})};var h=l(57689);const f=function(e){let{children:s}=e,l=0;switch((0,h.TH)().pathname){case m.m.MEDICAL_HISTORY:l=1;break;case m.m.PHARMACY:l=2;break;default:l=0}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o,{}),(0,r.jsxs)("main",{children:[(0,r.jsx)(x,{activeStep:l}),(0,r.jsx)("section",{className:"profile_wrapper px-3 px-md-4 px-lg-0",children:s})]})]})}},69969:(e,s,l)=>{l.r(s),l.d(s,{default:()=>_});var a=l(72791),t=l(36638),n=l(95070),i=l(43360),r=l(89743),o=l(2677),d=l(53392),c=l(23853),m=l(75737),u=l.n(m),p=(l(98404),l(78820)),x=l(57689),h=l(10857),f=l(93590),v=l(3810),j=l(61134),N=l(17505),b=l(36455),g=l(59434),y=l(72426),I=l.n(y),Z=l(45793),w=l(73683),C=l(88135),S=l(49739),P=l(25779),O=l(80184);function A(e){let{show:s,onClose:l}=e;const{handleSubmit:t,register:n}=(0,j.cI)(),r=JSON.parse(localStorage.getItem("family_doc_app")),[o,d]=(0,a.useState)(["","","",""]),[c,m]=(0,a.useState)(60),[u,p]=(0,a.useState)(null),{isLoading:x}=(0,g.v9)((e=>e.auth));(0,a.useEffect)((()=>{const e=setInterval((()=>{m((e=>e-1))}),1e3);return p(e),()=>clearInterval(e)}),[]),(0,a.useEffect)((()=>{0===c&&clearInterval(u)}),[c,u]);const h=(0,g.I0)(),f=()=>{l()};return(0,O.jsxs)(C.Z,{show:s,onHide:l,size:"md",backdrop:"static",children:[(0,O.jsx)(C.Z.Header,{closeButton:!0,children:(0,O.jsx)(C.Z.Title,{style:{fontSize:"19px",fontWeight:"bold"},children:"Verify Phone Number"})}),(0,O.jsx)(C.Z.Body,{children:(0,O.jsxs)("form",{className:"p-3",onSubmit:t((e=>{const s=e.otp0+e.otp1+e.otp2+e.otp3,l={userId:null===r||void 0===r?void 0:r.userId,OTP:s};h((0,P.j5)({resendOtpData:l,moveToNext:f}))})),children:[(0,O.jsx)("p",{className:"text-center mb-5",children:"Please enter the code below we\u2019ve sent to your phone number"}),o.map(((e,s)=>(0,O.jsx)("input",{type:"text",id:"otp".concat(s),name:"otp".concat(s),maxLength:1,value:e,...n("otp".concat(s),{required:!0}),onChange:e=>function(e,s){const l=e.target.value,a=[...o];var t;a[s]=l.replace(/\D/,""),d(a),s<5&&l&&(null===(t=document.getElementById("otp".concat(s+1)))||void 0===t||t.focus())}(e,s),onKeyDown:e=>function(e,s){var l;"Backspace"===e.key&&!o[s]&&s>0&&(null===(l=document.getElementById("otp".concat(s-1)))||void 0===l||l.focus())}(e,s),className:"otp-field me-3 py-1 text-center",style:{width:"20%",fontweight:500,fontSize:"31px"}},s))),(0,O.jsx)(i.Z,{className:"w-100 mt-5 ".concat(x&&"disabled"),style:{background:"#000071"},type:"submit",children:!0===x?(0,O.jsx)(S.Z,{color:"white",size:25,className:"d-flex m-auto"}):"Confirm Code"})]})}),(0,O.jsx)(C.Z.Footer,{})]})}var F=l(82573),E=l(60842);const _=()=>{const[e,s]=(0,a.useState)(!1),[l,m]=(0,a.useState)(),[y,C]=(0,a.useState)(),{getPatientData:S,isError:_,isLoading:T,isSuccess:D}=(0,g.v9)((e=>e.patient)),[R,k]=(0,a.useState)(null!==S&&void 0!==S&&S.dob?new Date(null===S||void 0===S?void 0:S.dob.split("T")[0]):null),{isresendOtp:L}=(0,g.v9)((e=>null===e||void 0===e?void 0:e.verifyNumber)),[M,G]=(0,a.useState)(null===S||void 0===S?void 0:S.phoneNumber),H=JSON.parse(localStorage.getItem("family_doc_app")),q=(0,x.s0)(),B=(0,g.I0)(),{register:Y,handleSubmit:z,formState:{errors:V},setValue:U,control:K}=(0,j.cI)();(0,a.useEffect)((()=>{k(S?new Date(S.dob.split("T")[0]):null)}),[S]),(0,a.useEffect)((()=>{U("firstName",(null===S||void 0===S?void 0:S.firstName)||""),U("lastName",(null===S||void 0===S?void 0:S.lastName)||""),U("genderId",(null===S||void 0===S?void 0:S.genderId)||""),U("patientLocalGP",(null===S||void 0===S?void 0:S.patientLocalGP)||""),U("email",(null===H||void 0===H?void 0:H.email)||""),U("phoneNumber",(null===S||void 0===S?void 0:S.phoneNumber)||""),U("currentAddress",(null===S||void 0===S?void 0:S.currentAddress)||"")}),[S,H]),(0,a.useEffect)((()=>{const e={patientId:null===H||void 0===H?void 0:H.userId};B((0,b._s)(e))}),[B,null===H||void 0===H?void 0:H.userId]);(0,a.useEffect)((()=>{const e={patientId:null===H||void 0===H?void 0:H.userId};B((0,F.jX)(e))}),[B,null===H||void 0===H?void 0:H.userId]),(0,a.useEffect)((()=>{B((0,F.VT)({pharmacyName:null,pharmacyLocation:null}))}),[B]),(0,a.useEffect)((()=>{const e={patientId:null===H||void 0===H?void 0:H.userId};B((0,F.jX)(e))}),[B,null===H||void 0===H?void 0:H.userId]);const J=()=>{q(v.m.MEDICAL_HISTORY)};const X=()=>{s(!0)};return(0,O.jsxs)("div",{className:"main-personalprofile",children:[(0,O.jsx)(f.default,{className:"pt-5 ",children:(0,O.jsx)("div",{className:"mx-auto width_75",children:S&&(0,O.jsxs)(t.Z,{onSubmit:z((function(e){const s={patientId:null===H||void 0===H?void 0:H.userId,firstName:null===e||void 0===e?void 0:e.firstName,lastName:null===e||void 0===e?void 0:e.lastName,image:null!==l&&void 0!==l&&l.keyName?null===l||void 0===l?void 0:l.keyName:null!==S&&void 0!==S&&S.image?null===S||void 0===S?void 0:S.image:"",dob:R?I()(R).format("YYYY-MM-DD"):null,genderId:+(null===e||void 0===e?void 0:e.genderId),patientLocalGP:null===e||void 0===e?void 0:e.patientLocalGP,phoneNumber:(null===e||void 0===e?void 0:e.phoneNumber)||"",currentAddress:null===e||void 0===e?void 0:e.currentAddress,nextOfKinName:e.nextOfKinName,nextOfKinNumber:e.nextOfKinNumber,countryCode:"",remainingPhone:""};B((0,b.xu)({finalData:s,moveToNext:J}))})),children:[(0,O.jsxs)(n.Z,{className:"width_75 mx-auto",children:[(0,O.jsx)(n.Z.Header,{className:"bg-white py-4",children:(0,O.jsx)("h5",{className:"fw-semibold mb-0",children:"Personal Information"})}),(0,O.jsx)(n.Z.Body,{className:"px-4 px-md-5",children:T?(0,O.jsx)("span",{className:"fst-italic h-100 d-flex justify-content-center align-items-center flex-column",style:{color:"#999999"},children:"Loading..."}):D?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:"upload_pic profile_upload profileContent",children:[(0,O.jsx)("img",{alt:"upload",className:"Profile-2 test-border",src:(null===l||void 0===l?void 0:l.baseUrl)||(null===S||void 0===S?void 0:S.imageUrl)||h.Z.PROFILE_UPLOAD}),(0,O.jsxs)(i.Z,{className:"ms-sm-5 ms-0 mt-3 mt-sm-0",children:[(0,O.jsxs)("label",{htmlFor:"patient-pic",className:"text-center w-100 d-flex align-items-center",children:[(0,O.jsx)(c.Yjd,{className:"fs-5 me-2"}),"Upload"]}),(0,O.jsx)(t.Z.Control,{onChange:e=>(async e=>{let s=e.target.files[0];if(s){const e=s.name.lastIndexOf("."),l=s.name.slice(0,e),a=s.name.slice(e+1,s.name.length);(0,w.ZP)(s).then((e=>{C(!0);const s={name:l,base64:e,fileExtension:"".concat(a)};(0,Z.Z)(s).then((e=>{e&&(m(e),C(!1))}))}))}})(e),type:"file",id:"patient-pic",name:"patient-pic",accept:"image/*"})]})]}),(0,O.jsxs)(r.Z,{className:"mt-5",children:[(0,O.jsxs)(o.Z,{md:6,children:[(0,O.jsxs)(t.Z.Group,{controlId:"",className:"mb-3",children:[(0,O.jsxs)(d.Z,{className:"fw-semibold fs-6",children:["First Name",(0,O.jsx)("span",{style:{color:"#FF3A3A"},children:" *"})]}),(0,O.jsx)(t.Z.Control,{type:"text",placeholder:"John",className:"p-2",...Y("firstName",{required:!(null!==S&&void 0!==S&&S.firstName)})}),V.firstName&&(0,O.jsx)(N.c,{message:"This Field is Required"})]}),(0,O.jsxs)("div",{className:"patient__info-date",children:[(0,O.jsxs)("label",{className:"fw-semibold fs-6 mb-2",children:["D.O.B",(0,O.jsx)("span",{style:{color:"#FF3A3A"},children:" *"})]}),(0,O.jsx)(E.Z,{selectedDateState:R,onChange:e=>k(e),useDrDateClass:!1,dateFormat:"dd/MM/yyyy",placeholderText:"day/month/year"})]}),!R&&(0,O.jsx)(N.c,{message:"This Field is Required"})]}),(0,O.jsxs)(o.Z,{md:6,children:[(0,O.jsxs)(t.Z.Group,{controlId:"",className:"mb-3",children:[(0,O.jsxs)(d.Z,{className:"fw-semibold fs-6",children:["Last Name",(0,O.jsx)("span",{style:{color:"#FF3A3A"},children:" *"})]}),(0,O.jsx)(t.Z.Control,{type:"text",placeholder:"Smith",className:"p-2",...Y("lastName",{required:!(null!==S&&void 0!==S&&S.lastName)})}),V.lastName&&(0,O.jsx)(N.c,{message:"This Field is Required"})]}),(0,O.jsxs)(t.Z.Group,{controlId:"",className:"mb-3",children:[(0,O.jsxs)(d.Z,{className:"fw-semibold fs-6",children:["Gender",(0,O.jsx)("span",{style:{color:"#FF3A3A"},children:" *"})]}),(0,O.jsxs)(t.Z.Select,{className:"formSelect","aria-label":"Default select example",...Y("genderId",{required:!(null!==S&&void 0!==S&&S.genderId)}),children:[V.genderId&&(0,O.jsx)(N.c,{message:"This Field is Required"}),(0,O.jsx)("option",{value:101,children:"Male"}),(0,O.jsx)("option",{value:102,children:"Female"}),(0,O.jsx)("option",{value:103,children:"Other"})]})]})]}),(0,O.jsx)(o.Z,{xl:12,children:(0,O.jsxs)(t.Z.Group,{controlId:"",className:"mb-3",children:[(0,O.jsx)(d.Z,{className:"fw-semibold fs-6",children:"Patient Local GP"}),(0,O.jsx)(t.Z.Control,{type:"text",placeholder:"Patient Local GP",className:"p-2",...Y("patientLocalGP")}),V.patientLocalGP&&(0,O.jsx)(N.c,{message:"This Field is Required"})]})}),(0,O.jsx)(o.Z,{md:6,children:(0,O.jsxs)(t.Z.Group,{controlId:"",className:"mb-3",children:[(0,O.jsx)(d.Z,{className:"fw-semibold fs-6",children:"Email"}),(0,O.jsx)(t.Z.Control,{type:"email",defaultValue:null===H||void 0===H?void 0:H.email,placeholder:"patient@gmail.com",className:"p-2",disabled:!0})]})}),(0,O.jsxs)(o.Z,{md:6,children:[(0,O.jsxs)(d.Z,{className:"fw-semibold fs-6",children:["Phone Number",(0,O.jsx)("span",{style:{color:"#FF3A3A"},children:" *"})]}),(0,O.jsxs)("div",{className:"position-relative verify-btn",children:[(0,O.jsx)(j.Qr,{control:K,name:"phoneNumber",rules:{required:null===S||void 0===S?void 0:S.phoneNumber},defaultValue:null===S||void 0===S?void 0:S.phoneNumber,render:e=>{let{field:s}=e;return(0,O.jsx)(u(),{country:"ie",value:s.value,onChange:e=>s.onChange("+".concat(e))})}}),(0,O.jsx)(i.Z,{className:"fs-5 primary_bg position-absolute bottom-0",size:"sm",variant:"primary",onClick:function(){const e={userId:null===H||void 0===H?void 0:H.userId,phoneNumber:M||(null===S||void 0===S?void 0:S.phoneNumber)};B((0,P.fi)({finalData:e,moveToOTPCode:X}))},disabled:null===L||void 0===L?void 0:L.data,children:"Verify"}),null===L&&(0,O.jsx)(N.c,{message:"Phone Verification is Required"})]})]}),(0,O.jsx)(o.Z,{md:6,children:(0,O.jsxs)(t.Z.Group,{controlId:"",className:"mb-3",children:[(0,O.jsxs)(d.Z,{className:"fw-semibold fs-6",children:["Current Address",(0,O.jsx)("span",{style:{color:"#FF3A3A"},children:" *"})]}),(0,O.jsx)(t.Z.Control,{type:"text",placeholder:"4140 Parker Rd. Allentown, New Mexico 31134",className:"p-2",...Y("currentAddress",{required:!(null!==S&&void 0!==S&&S.currentAddress)})}),V.currentAddress&&(0,O.jsx)(N.c,{message:"This Field is Required"})]})})]})]}):_?(0,O.jsx)("span",{className:"text-danger fst-italic h-100 d-flex justify-content-center align-items-center flex-column",children:"Network Error"}):null})]}),(0,O.jsx)("div",{className:"py-3 d-flex justify-content-end width_75 mx-auto",children:(0,O.jsxs)(i.Z,{className:"px-4 px-md-5 fs-5 py-2 primary_bg",size:"sm",variant:"primary",type:"submit",children:["Save & Next ",(0,O.jsx)(p.Td4,{className:"fs-6"})," "]})})]})})}),(0,O.jsx)(A,{show:e,onClose:()=>s(!1)})]})}},3593:(e,s,l)=>{l.d(s,{Z:()=>p});var a=l(41418),t=l.n(a),n=l(72791),i=l(10162),r=l(11701),o=l(80184);const d=1e3;function c(e,s,l){const a=(e-s)/(l-s)*100;return Math.round(a*d)/d}function m(e,s){let{min:l,now:a,max:n,label:i,visuallyHidden:r,striped:d,animated:m,className:u,style:p,variant:x,bsPrefix:h,...f}=e;return(0,o.jsx)("div",{ref:s,...f,role:"progressbar",className:t()(u,"".concat(h,"-bar"),{["bg-".concat(x)]:x,["".concat(h,"-bar-animated")]:m,["".concat(h,"-bar-striped")]:m||d}),style:{width:"".concat(c(a,l,n),"%"),...p},"aria-valuenow":a,"aria-valuemin":l,"aria-valuemax":n,children:r?(0,o.jsx)("span",{className:"visually-hidden",children:i}):i})}const u=n.forwardRef(((e,s)=>{let{isChild:l=!1,...a}=e;const d={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...a};if(d.bsPrefix=(0,i.vE)(d.bsPrefix,"progress"),l)return m(d,s);const{min:c,now:u,max:p,label:x,visuallyHidden:h,striped:f,animated:v,bsPrefix:j,variant:N,className:b,children:g,...y}=d;return(0,o.jsx)("div",{ref:s,...y,className:t()(b,j),children:g?(0,r.UI)(g,(e=>(0,n.cloneElement)(e,{isChild:!0}))):m({min:c,now:u,max:p,label:x,visuallyHidden:h,striped:f,animated:v,bsPrefix:j,variant:N},s)})}));u.displayName="ProgressBar";const p=u},49739:(e,s,l)=>{l.d(s,{Z:()=>d});var a=l(72791),t=l(75617),n=l(6707),i=function(){return i=Object.assign||function(e){for(var s,l=1,a=arguments.length;l<a;l++)for(var t in s=arguments[l])Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t]);return e},i.apply(this,arguments)},r=function(e,s){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.indexOf(a)<0&&(l[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(a=Object.getOwnPropertySymbols(e);t<a.length;t++)s.indexOf(a[t])<0&&Object.prototype.propertyIsEnumerable.call(e,a[t])&&(l[a[t]]=e[a[t]])}return l},o=(0,n.i)("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");const d=function(e){var s=e.loading,l=void 0===s||s,n=e.color,d=void 0===n?"#000000":n,c=e.speedMultiplier,m=void 0===c?1:c,u=e.cssOverride,p=void 0===u?{}:u,x=e.size,h=void 0===x?35:x,f=r(e,["loading","color","speedMultiplier","cssOverride","size"]),v=i({background:"transparent !important",width:(0,t.E)(h),height:(0,t.E)(h),borderRadius:"100%",border:"2px solid",borderTopColor:d,borderBottomColor:"transparent",borderLeftColor:d,borderRightColor:d,display:"inline-block",animation:"".concat(o," ").concat(.75/m,"s 0s infinite linear"),animationFillMode:"both"},p);return l?a.createElement("span",i({style:v},f)):null}}}]);
//# sourceMappingURL=9969.b0896915.chunk.js.map