"use strict";(self.webpackChunkfamily_doc_app=self.webpackChunkfamily_doc_app||[]).push([[6933],{14045:(e,s,n)=>{n.d(s,{Z:()=>l});var i=n(88135),t=n(80184);function l(e){let{children:s,...n}=e;const{handleClose:l,show:a,title:o,className:r}=n;return(0,t.jsx)("div",{children:(0,t.jsxs)(i.Z,{show:a,onHide:l,className:r,backdrop:"static",children:[(0,t.jsx)(i.Z.Header,{className:"py-3",closeButton:!0,children:(0,t.jsx)(i.Z.Title,{className:"modalTitle",children:(0,t.jsx)("span",{className:"font-weight-600",children:o})})}),(0,t.jsx)(i.Z.Body,{children:s})]})})}},86933:(e,s,n)=>{n.r(s),n.d(s,{default:()=>E});var i=n(72791),t=n(95070),l=n(11087),a=n(84373),o=n(3810),r=n(43360),d=n(53392),c=n(59434),u=n(65764),m=n(53473),p=n(9085),h=n(49739),v=n(73683),x=n(57689),j=n(14045),N=n(65426),b=n(80184);const f=(0,m.J)("pk_test_51NS6LFJQrjlyogPPYu6MAtBwgWPzIIaMnvVPha7Q3hqUaMujHWqKXoIYJRIU2K5nD3m6LR5Vou39EPYY4XBpCYGu00hDwqw9BH");function w(e){let{handleClose:s,show:n,planData:t}=e;const l=JSON.parse(localStorage.getItem("family_doc_app")),[a,r]=(0,i.useState)(!1),d=(0,c.I0)(),m=(0,x.s0)(),h=()=>{m(o.m.PATIENT_PLANS)};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.Ix,{}),(0,b.jsx)(j.Z,{handleClose:s,show:n,title:"Checkout",className:"modal-stripe",backdrop:"static",children:(0,b.jsx)(u.Elements,{stripe:f,children:(0,b.jsx)(y,{isLoading:a,setIsLoading:r,newCoachHire:function(e){let s={patientPlanId:0,planId:null===t||void 0===t?void 0:t.planId,userId:null===l||void 0===l?void 0:l.userId,patientStripeCustomerId:null===l||void 0===l?void 0:l.patientStripeCustomerId,stripeToken:e,fee:null===t||void 0===t?void 0:t.amount,planDuration:null===t||void 0===t?void 0:t.duration};d((0,N.Mk)({finalData:s,moveToNext:h}))},planData:t})})})]})}const C=()=>{const e=function(){const e=()=>window.innerWidth<450?"16px":"18px",[s,n]=(0,i.useState)(e);return(0,i.useEffect)((()=>{const s=()=>{n(e())};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}})),s}();return(0,i.useMemo)((()=>({style:{base:{fontSize:e,color:"#424770",letterSpacing:"0.025em",fontFamily:"Source Code Pro, monospace","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}})),[e])},y=e=>{var s;let{isLoading:n,setIsLoading:i,newCoachHire:t,planData:l}=e;const a=(0,u.useStripe)(),o=(0,u.useElements)(),c=C(),m=null===l||void 0===l||null===(s=l.amount)||void 0===s?void 0:s.toFixed(2);return(0,b.jsxs)("div",{className:"py-2 stripe",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(d.Z,{children:"Subscription Plan Fee"}),(0,b.jsx)("input",{type:"text",value:"\u20ac".concat(m||"N/A"),disabled:!0,className:"mt-0 w-100"})]}),(0,b.jsxs)("form",{onSubmit:async e=>{if(i(!0),e.preventDefault(),a&&o)try{var s;const e=o.getElement(u.CardNumberElement),i=await a.createToken(e);var n;if(i.error)throw new Error(null===i||void 0===i||null===(n=i.error)||void 0===n?void 0:n.message);const l=null===i||void 0===i||null===(s=i.token)||void 0===s?void 0:s.id;l&&t(l)}catch(l){(0,v.P_)(null===l||void 0===l?void 0:l.message,"error"),i(!1)}},children:[(0,b.jsxs)("div",{children:["Card number",(0,b.jsx)(u.CardNumberElement,{options:c})]}),(0,b.jsxs)("div",{children:["Expiration date",(0,b.jsx)(u.CardExpiryElement,{options:c})]}),(0,b.jsxs)("div",{children:["CVC",(0,b.jsx)(u.CardCvcElement,{options:c})]}),(0,b.jsx)("div",{className:"d-flex justify-content-center mt-3",children:(0,b.jsx)(r.Z,{variant:"primary",className:"w-100 py-2 primary_bg",radius:"0px",type:"submit",disabled:n,children:n?(0,b.jsx)(h.Z,{color:"white",size:25,className:"d-flex m-auto"}):"Confirm"})})]})]})};const P=function(e){let{subscriptionPlansList:s}=e;const[n,t]=(0,i.useState)(),[l,a]=(0,i.useState)(!1);return(0,b.jsxs)("div",{className:"patient__prescription-forms custom-plans",children:[null===s||void 0===s?void 0:s.map(((e,s)=>(0,b.jsxs)("div",{className:"container",children:[(0,b.jsx)("h3",{className:"title mt-2 fw-bold",children:null===e||void 0===e?void 0:e.name}),(0,b.jsxs)("h3",{className:"price",children:["$",null===e||void 0===e?void 0:e.amount,(0,b.jsxs)("span",{children:[" / ",null===e||void 0===e?void 0:e.duration]})]}),(0,b.jsx)("p",{className:"description",children:null===e||void 0===e?void 0:e.description}),(0,b.jsxs)("p",{className:"m-0",children:[(0,b.jsx)("b",{children:"No. of Appointment(s):"})," ",null===e||void 0===e?void 0:e.numberOfConsultation]}),(0,b.jsxs)("p",{className:"m-0",children:[(0,b.jsx)("b",{children:"No. of Prescription(s):"})," ",null===e||void 0===e?void 0:e.numberOfPrescriptions]}),(0,b.jsx)(r.Z,{className:"subscribe-button",onClick:()=>{a(!0),t(e)},children:"Buy Now"})]},"id-".concat(s)))),(0,b.jsx)(w,{planData:n,handleClose:()=>a(!1),show:l})]})};var g=n(46587);function E(){const{subscriptionPlansList:e,isLoading:s,isError:n,isSuccess:r}=(0,c.v9)((e=>null===e||void 0===e?void 0:e.subscriptionPlans)),d=(0,c.I0)();return(0,i.useEffect)((()=>{d((0,N.Kt)())}),[d]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("nav",{"aria-label":"breadcrumb",children:(0,b.jsxs)("ol",{className:"breadcrumb",children:[(0,b.jsx)("li",{className:"breadcrumb-item",children:(0,b.jsx)(l.rU,{to:o.m.PATIENT_PLANS,className:"text-decoration-none fs-5 color-99",children:"My Plans"})}),(0,b.jsx)(a.hjJ,{className:"mx-1 mt-2 color-99"}),(0,b.jsx)("li",{className:"breadcrumb-item active fs-5","aria-current":"page",style:{color:"#000071"},children:"Subscription Plans"})]})}),(0,b.jsx)(t.Z,{className:"shadow-sm p-4",children:(0,b.jsx)("div",{children:r?(null===e||void 0===e?void 0:e.length)>0?(0,b.jsx)(P,{subscriptionPlansList:e}):(0,b.jsx)("p",{className:"text-center mt-3",children:"No Record Found"}):s?(0,b.jsx)(g.Z,{}):n?(0,b.jsx)("p",{className:"text-center mt-3",children:"Network Error..."}):null})})]})}}}]);
//# sourceMappingURL=6933.5f2779d2.chunk.js.map