"use strict";(self.webpackChunkfamily_doc_app=self.webpackChunkfamily_doc_app||[]).push([[5204],{52268:(e,n,t)=>{t.d(n,{Tf:()=>s,_Y:()=>o,bA:()=>a,df:()=>c,lt:()=>l,sP:()=>i});const a=[{lookupId:6,value:"Nurse"},{lookupId:7,value:"Receptionist"}],i=[{lookupId:101,value:"Male"},{lookupId:102,value:"Female"},{lookupId:103,value:"Other"}],s={Destroyed:"destroyed",Error:"error",Incoming:"incoming",Registered:"registered",Registering:"registering",TokenWillExpire:"tokenWillExpire",Unregistered:"unregistered"},l={Connected:"connected",Accept:"accept",Audio:"audio",Cancel:"cancel",Disconnect:"disconnect",Error:"error",Mute:"mute",Reconnected:"reconnected",Reconnecting:"reconnecting",Reject:"reject",Ringing:"ringing",Sample:"sample",Volume:"volume",WarningCleared:"warning-cleared",Warning:"warning"},o=[{lookupId:401,name:"Multiple Choice",value:"Radio"},{lookupId:402,name:"Checkbox",value:"Checkbox"},{lookupId:404,name:"Paragraph",value:"TextBox"}],c=[{lookupId:801,value:"1 Month"},{lookupId:802,value:"3 Months"},{lookupId:803,value:"6 Months"},{lookupId:804,value:"12 Months"}]},43426:(e,n,t)=>{t.d(n,{Z:()=>o});t(72791);var a=t(95070),i=t(72426),s=t.n(i),l=t(80184);function o(e){const{name:n,genderInfo:t,gender:i,dobInfo:o,dob:c,professionInfo:d,profession:r,currentLocationInfo:m,currentLocation:h,patientLocalGPInfo:u,patientLocalGP:p,emailInfo:v,email:x,phoneInfo:j,phone:y,specialityInfo:f,speciality:N,pharmacyInfo:g,pharmacy:b,locationInfo:D,location:I,nextOfKinName:w,nextOfKinNumber:P,nextOfKinNameInfo:S,nextOfKinNumberInfo:Z,image:C}=e;return(0,l.jsx)(a.Z,{className:"generic-card",children:(0,l.jsxs)(a.Z.Body,{className:"p-0 main-personalprofile position-relative",children:[(0,l.jsx)("div",{className:"ds-top"}),(0,l.jsxs)("div",{className:"position-relative",children:[(0,l.jsx)("div",{className:"avatar-holder upload_pic profile_upload profileContent",children:(0,l.jsx)("img",{src:C||"https://ui-avatars.com/api/?name=".concat("".concat(n),"&background=000071&color=fff"),alt:"Patient"})}),(0,l.jsx)("div",{className:"name",children:n||"N/A"})]}),(0,l.jsxs)("div",{className:"mx-4 card-content patient-personal-details",children:[t&&(0,l.jsxs)(l.Fragment,{children:[" ",(0,l.jsxs)("span",{className:"d-flex flex-wrap justify-content-between pt-3",children:[(0,l.jsx)("p",{children:"Gender"}),(0,l.jsx)("p",{children:i||"N/A"})]}),(0,l.jsx)("hr",{})]}),o&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,l.jsx)("p",{children:"D.O.B"}),(0,l.jsx)("p",{children:s()(c).format("MM/DD/YYYY")})]}),(0,l.jsx)("hr",{})]}),D&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,l.jsx)("p",{children:"Location"}),(0,l.jsx)("p",{children:I||"N/A"})]}),(0,l.jsx)("hr",{})]}),d&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,l.jsx)("p",{children:"Profession/Occupation:"}),(0,l.jsx)("p",{children:r||"N/A"})]}),(0,l.jsx)("hr",{})]}),m&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,l.jsx)("p",{children:"Current Location"}),(0,l.jsx)("p",{children:h||"N/A"})]}),(0,l.jsx)("hr",{})]}),u&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,l.jsx)("p",{children:"Patient Local GP"}),(0,l.jsx)("p",{children:p||"N/A"})]}),(0,l.jsx)("hr",{})]}),v&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,l.jsx)("p",{children:"Email"}),(0,l.jsx)("p",{children:x||"N/A"})]}),(0,l.jsx)("hr",{})]}),g&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,l.jsx)("p",{children:"Pharmacy"}),(0,l.jsx)("p",{children:b||"N/A"})]}),(0,l.jsx)("hr",{})]}),j&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,l.jsx)("p",{children:"Phone"}),(0,l.jsx)("p",{children:y||"N/A"})]}),(0,l.jsx)("hr",{})]}),S&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,l.jsx)("p",{children:"Next of Kin Name"}),(0,l.jsx)("p",{children:w||"N/A"})]}),(0,l.jsx)("hr",{})]}),Z&&(0,l.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,l.jsx)("p",{children:"Next of Kin Number"}),(0,l.jsx)("p",{children:P||"N/A"})]}),f&&(0,l.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,l.jsx)("p",{children:"Speciality"}),(0,l.jsx)("p",{children:N||"N/A"})]})]})]})})}},31338:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Y});var a=t(72791),i=t(89743),s=t(2677),l=t(95070),o=t(19485),c=t(61734),d=t(69764),r=t(36638),m=t(43360),h=t(88135),u=t(58617),p=t(56355),v=t(84373),x=t(20240),j=t(78820),y=t(80184);const f=function(e){const{showEndModal:n,handleCloseEndModal:t,discounthandlerEnd:a}=e;return(0,y.jsx)("div",{children:(0,y.jsxs)(h.Z,{show:n,onHide:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"appointment-modal",children:[(0,y.jsx)(h.Z.Header,{closeButton:!0}),(0,y.jsxs)(h.Z.Body,{children:[(0,y.jsx)("div",{className:"d-flex justify-content-center ",children:(0,y.jsx)("span",{className:"stethoscope-icon",children:(0,y.jsx)(p.K7y,{size:34})})}),(0,y.jsxs)("div",{className:"my-3",children:[(0,y.jsx)("h4",{className:"text-center w-50 mx-auto my-0",style:{fontWeight:600},children:"You are about to end this appointment"}),(0,y.jsx)("p",{className:"text-center mt-3 mb-4",children:"Note: If you end tha appointment, you will be unable to reconnect"})]}),(0,y.jsx)("span",{className:"d-flex justify-content-center mt-2 mb-5",children:(0,y.jsx)(m.Z,{className:"end-apt-btn",onClick:()=>(a(),void t()),children:"End Appointment"})})]})]})})};class N extends a.Component{constructor(e){var n,t;super(e),this.setAudio=e=>{this.setState({audio:e})},this.setVideo=e=>{this.setState({video:e})},this.setShowEndModal=e=>{this.setState({showEndModal:e})},this.changeVideoSource=e=>{"camera"!==this.state.videoSource?this.setState({videoSource:"camera"}):this.setState({videoSource:"screen"})},this.onError=e=>{this.setState({error:"Failed to publish: ".concat(e.message)})},this.discounthandler=async()=>{var e,n,t,a,i;await(null===(e=this.props)||void 0===e||null===(n=e.otSession)||void 0===n||null===(t=n.current)||void 0===t||null===(a=t.sessionHelper)||void 0===a||null===(i=a.session)||void 0===i?void 0:i.destroy())},this.discounthandlerEnd=async()=>{await this.props.otSession.current.sessionHelper.session.destroy()},this.state={error:null,audio:!0,video:(null===(n=this.props.videoCallData)||void 0===n||!n.isAudio)&&(null!==(t=this.props.videoCallData)&&void 0!==t&&t.isVideo,!0),showEndModal:!1,videoSource:"camera"}}render(){return(0,y.jsxs)("div",{className:"videocall publisher",children:[(0,y.jsxs)("div",{className:"d-flex justify-content-end me-3 position-relative publisher-video-box",children:[(0,y.jsx)("div",{children:(0,y.jsx)(x.VI,{properties:{publishAudio:this.state.audio,publishVideo:this.state.video,videoSource:"screen"===this.state.videoSource?"screen":void 0}})}),(0,y.jsxs)("div",{className:"position-absolute d-flex justify-content-between align-items-center",style:{right:"1rem",top:"8.8rem",width:"25%"},children:[(0,y.jsx)("div",{className:"publisher-name",children:(0,y.jsx)("h6",{className:"text-white mb-0",children:this.props.user.name})}),!1===this.state.audio&&(0,y.jsx)("div",{className:"publisher-mute",children:(0,y.jsx)(j.Q4c,{className:"strem--controls-icon cursor m-2 text-white",size:20,onClick:()=>this.setAudio(!1)})})]})]}),(0,y.jsx)("div",{className:"row pt-5 px-2",children:(0,y.jsx)("div",{className:"randox-div",children:(0,y.jsx)("div",{className:"position_set",children:(0,y.jsxs)("div",{className:"d-flex justify-content-between streem-control-container w-100",children:[(0,y.jsxs)("div",{children:[this.state.audio?(0,y.jsx)("span",{className:"botton-icons me-4",children:(0,y.jsx)(j.aRZ,{className:"strem--controls-icon cursor m-2",size:24,onClick:()=>this.setAudio(!1)})}):(0,y.jsx)("span",{className:"botton-icons me-4",children:(0,y.jsx)(j.Q4c,{className:"strem--controls-icon cursor m-2",size:24,onClick:()=>this.setAudio(!0)})}),this.state.video?(0,y.jsx)("span",{className:"botton-icons me-4",children:(0,y.jsx)(p.KoQ,{className:"strem--controls-icon cursor m-2",size:24,onClick:()=>this.setVideo(!1)})}):(0,y.jsx)("span",{className:"botton-icons me-4",children:(0,y.jsx)(p.uCi,{className:"strem--controls-icon cursor m-2",size:24,onClick:()=>this.setVideo(!0)})})]}),(0,y.jsx)("span",{className:"appointment-last-span",children:this.props.user&&this.props.user&&this.props.user.token&&"Patient"===this.props.user.role&&(0,y.jsx)("div",{className:"end_call",children:(0,y.jsx)(m.Z,{style:{background:"#FD2121",border:"none"},onClick:()=>this.setShowEndModal(!0),className:"px-4",children:"End Appointment"})})})]})})})}),(0,y.jsx)(f,{showEndModal:this.state.showEndModal,handleCloseEndModal:()=>this.setShowEndModal(!1),discounthandlerEnd:async()=>{this.discounthandlerEnd()},slotDescription:this.props.slotDescription})]})}}const g=N;t(763);a.Component;class b extends a.Component{constructor(e){super(e),this.setAudio=e=>{this.setState({audio:e})},this.setVideo=e=>{this.setState({video:e})},this.onError=e=>{this.setState({error:"Failed to subscribe: ".concat(e.message)})},this.state={error:null,audio:!0,video:!0}}render(){return(0,y.jsx)("div",{className:"subscriber",children:(0,y.jsxs)("div",{className:"position-relative",children:[(0,y.jsx)("div",{children:(0,y.jsx)(x.dR,{properties:{subscribeToAudio:this.state.audio,subscribeToVideo:this.state.video}})}),(0,y.jsx)("div",{className:"position-absolute d-flex justify-content-between align-items-center",style:{right:"0",top:"39rem",width:"100%",bottom:"0",left:"2rem"},children:(0,y.jsx)("div",{className:"publisher-name",children:(0,y.jsx)("h6",{className:"text-white mb-0",children:this.props.slotDescription.patientName})})})]})})}}const D=b;class I extends a.Component{constructor(e){super(e),this.onSignalRecieve=e=>{console.log("onSignalReceive => ",JSON.parse(e.data))},this.onError=e=>{this.setState({error:"Failed to connect: ".concat(e.message)})},this.otSession=a.createRef(),this.state={error:null,connected:!1},this.sessionEvents={sessionConnected:()=>{this.setState({connected:!0})},sessionDisconnected:()=>{this.setState({connected:!1})}}}render(){var e,n,t,a,i,s,l,o,c,d,r,m,h;return(0,y.jsxs)(x.Bp,{ref:this.otSession,apiKey:"47602941",sessionId:null===(e=this.props)||void 0===e||null===(n=e.videoCallData)||void 0===n?void 0:n.vonageSessionId,token:null===(t=this.props)||void 0===t||null===(a=t.videoCallData)||void 0===a?void 0:a.token,eventHandlers:this.sessionEvents,onError:this.onError,children:[this.state.error?(0,y.jsx)("div",{id:"error",children:this.state.error}):null,(0,y.jsxs)("div",{className:"position-relative w-100",children:[0===(null===(i=this.otSession)||void 0===i||null===(s=i.current)||void 0===s||null===(l=s.state)||void 0===l||null===(o=l.streams)||void 0===o?void 0:o.length)&&(0,y.jsx)(P,{show:null===(c=this.otSession)||void 0===c||null===(d=c.current)||void 0===d||null===(r=d.state)||void 0===r||null===(m=r.streams)||void 0===m?void 0:m.length,session:this.otSession}),(0,y.jsx)(x.e_,{children:(0,y.jsx)(D,{slotDescription:this.props.slotDescription})}),(0,y.jsx)(g,{user:this.props.user,setShowEndModal:this.props.setShowEndModal,otSession:this.otSession,slotDescription:this.props.slotDescription,videoCallData:null===(h=this.props)||void 0===h?void 0:h.videoCallData})]})]})}}const w=(0,x.kK)(I);function P(e){var n,t,i;let{session:s}=e;const[l,o]=(0,a.useState)();return(0,a.useEffect)((()=>{var e,n,t;o(null===(e=s.current)||void 0===e||null===(n=e.state)||void 0===n||null===(t=n.streams)||void 0===t?void 0:t.length)}),[null===(n=s.current)||void 0===n||null===(t=n.state)||void 0===t||null===(i=t.streams)||void 0===i?void 0:i.length]),(0,y.jsx)("div",{className:"video-appointment abcd ".concat(0===l?"d-block":"d-none"),children:(0,y.jsxs)("div",{className:"d-flex align-items-center justify-content-center h-100",children:[(0,y.jsx)(u.HQH,{className:"exclamation-icon me-2 mb-3",size:28}),(0,y.jsx)("p",{className:"not-joined-text m-0",style:{fontWeight:600},children:"The Patient has not yet joined the appointment"})]})})}var S=t(21334),Z=t(59434),C=t(24278),E=t(49739);function k(){const e=JSON.parse(localStorage.getItem("slotDescription")),n=(0,Z.I0)(),t=JSON.parse(localStorage.getItem("family_doc_app")),[i,s]=(0,a.useState)(1),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),{videoCallData:r,isLoading:x}=(0,Z.v9)((e=>e.vonageData)),j=()=>{const t={appointmentId:null===e||void 0===e?void 0:e.appointmentId};n((0,C.MM)(t))};return(0,y.jsxs)(y.Fragment,{children:[1===i&&(0,y.jsxs)("div",{className:"video-appointment",children:[(0,y.jsxs)("div",{className:"d-flex align-items-center justify-content-center h-100",children:[(0,y.jsx)(u.HQH,{className:"exclamation-icon me-2 mb-3",size:28}),(0,y.jsx)("p",{className:"not-joined-text m-0",style:{fontWeight:600},children:"The patient has not yet joined the appointment"})]}),(0,y.jsx)("div",{className:"px-2 my-4 d-flex flex-wrap justify-content-end align-items-center",children:(0,y.jsx)(m.Z,{style:{background:"#000071"},onClick:()=>o(!0),className:"px-4",children:"Start Appointment"})}),(0,y.jsxs)(h.Z,{show:l,onHide:()=>{o(!1)},size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"appointment-modal",children:[(0,y.jsx)(h.Z.Header,{closeButton:!0}),(0,y.jsxs)(h.Z.Body,{children:[(0,y.jsx)("div",{className:"d-flex justify-content-center",children:(0,y.jsx)("span",{className:"stethoscope-icon",children:(0,y.jsx)(p.K7y,{size:34})})}),(0,y.jsx)("div",{className:"my-3",children:(0,y.jsx)("h4",{className:"text-center w-50 mx-auto my-0",children:"You are about to start this appointment"})}),(0,y.jsx)("span",{className:"d-flex justify-content-center",children:(0,y.jsx)(m.Z,{className:"start-apt-btn ".concat(x&&"disabled"),onClick:()=>(()=>{const t={sessionId:null===e||void 0===e?void 0:e.vonageSessionId};n((0,S.sR)({finalData:t,moveToNext:j})),s(2)})(),children:!0===x?(0,y.jsx)(E.Z,{color:"white",size:25,className:"d-flex m-auto"}):"Start"})}),(0,y.jsxs)("span",{className:"d-flex justify-content-center align-items-center mb-3 mt-4",style:{cursor:"pointer"},children:[(0,y.jsx)(v.PjY,{size:25}),(0,y.jsx)("p",{className:"mb-0",style:{fontWeight:500,fontSize:"18px"},children:"Go Back"})]})]})]})]}),2===i&&!1===x&&(0,y.jsx)("div",{className:"appointment-started",children:(0,y.jsx)("span",{className:"",children:(0,y.jsx)(w,{videoCallData:r,user:t,setShowEndModal:d,slotDescription:e})})})]})}var A=t(43426),L=t(72426),T=t.n(L),O=t(61134),H=t(95985),M=t(82573),F=t(66979),K=t(17425),R=t(39126),z=t(38713),B=t(95431),V=(t(10215),t(69499)),_=t(52268);const G=()=>{var e;const{register:n}=(0,O.cI)(),[t,i]=(0,a.useState)(_.Tf.Unregistered),[s,l]=(0,a.useState)(null),[o,c]=(0,a.useState)(null),{videoCallData:d}=((0,Z.I0)(),(0,Z.v9)((e=>(null===e||void 0===e?void 0:e.vonageData)||{}))),{patientAppointedDetail:h}=(0,Z.v9)((e=>e.appointment));function u(e){i(_.Tf.Registering),console.log("Initializing a new device",t);let n=new B.AS(null===e||void 0===e?void 0:e.twilioToken,{logLevel:1,codecPreferences:["opus","pcmu"]});!function(e){e.on("registered",(function(){console.log("The device is ready to make and receive incoming calls."),i(_.Tf.Registered)})),e.on("registering",(function(){i(_.Tf.Registering)})),e.on("error",(function(e){console.log("Twilio.Device Error: "+e.message),i(_.Tf.Error)})),e.audio.on("deviceChange",(function(){console.log("device Change")}))}(n),n.register(),async function(e,n){var t;const a=null===n||void 0===n?void 0:n.callingDeviceIdentity;var i={To:null===h||void 0===h||null===(t=h.detailDTO)||void 0===t?void 0:t.phoneNumber,callingDeviceIdentity:a};if(e){console.log("Attempting to call ".concat(i.To," ..."));const n=await e.connect({params:i});c(n),n&&(l(_.lt.Connected),console.log("setCallStateConnected",s)),console.log("Connection successful:",l),n.on("accept",(function(){console.log("'accepted' means the call has finished connecting and the state is now 'open'"),l(_.lt.Accept)})),n.on("ringing",(function(){console.log("Ringing ..."),l(_.lt.Ringing)})),n.on("disconnect",(function(){console.log("Call Disconnected"),l(_.lt.Disconnect,(()=>{console.log("callState",s)}))})),n.on("cancel",(function(){console.log("Call Cancelled"),l(_.lt.Cancel)}))}else console.log("Unable to make call.")}(n,e)}function p(){console.log("Requesting Access Token...");u({twilioToken:null===d||void 0===d?void 0:d.twilioToken,callingDeviceIdentity:null===d||void 0===d?void 0:d.twilioIdentity})}return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"d-flex justify-content-center",children:(0,y.jsx)("img",{src:V.Z.TWILIO_LOGO,alt:"Twilio Logo",width:120,height:"auto",className:"".concat("disconnect"!==s&&"unregistered"!==t&&"error"!==t?"rotate-img":"")})}),(0,y.jsxs)(r.Z.Group,{className:"mb-2",controlId:"numberField",children:[(0,y.jsx)(r.Z.Label,{className:"fw-bold",children:"Phone Number"}),(0,y.jsx)(r.Z.Control,{type:"text",placeholder:"+1 530 673 3342",size:"md",...n("toNumber",{required:!0}),defaultValue:null===h||void 0===h||null===(e=h.detailDTO)||void 0===e?void 0:e.phoneNumber,disabled:!0,className:"custom-field-picker bg-transparent"})]}),"error"===t?(0,y.jsx)("p",{className:"mb-0",style:{fontSize:"14px",color:"#E31E27"},children:"Unable to Connect Server"}):"",(0,y.jsx)("div",{className:"d-flex",children:"ringing"===s?(0,y.jsx)("p",{className:"mb-0 mx-auto my-0",style:{color:"#44BC19"},children:"Ringing ..."}):"registering"===t?(0,y.jsx)("p",{className:"mb-0 mx-auto my-0",style:{color:"#FFB400"},children:"Registring ..."}):(0,y.jsx)(m.Z,{style:{background:"transparent",border:"none",color:"#E31E27"},disabled:!d,className:"fw-bold px-4 mx-auto my-0 cursor-pointer",onClick:"unregistered"===t||"disconnect"===s||"error"===t?p:function(){o&&(console.log("Hanging up ...",o),o.disconnect())},children:"unregistered"===t||"disconnect"===s||"error"===t?"Call":"Hang Up"})})]})};function Y(){var e,n,t,h,u,p,v,x,j,f,N,g,b,D,I,w,P,S,E,L,B,V,_,Y,W,U,Q,J,X,q,$,ee,ne,te,ae,ie,se,le,oe,ce,de,re,me,he,ue,pe,ve;const{register:xe,handleSubmit:je,setValue:ye,reset:fe}=(0,O.cI)(),{patientAppointedDetail:Ne}=(0,Z.v9)((e=>e.appointment)),[ge,be]=(0,a.useState)(""),{patientPharmacy:De}=(0,Z.v9)((e=>e)),[Ie,we]=(0,a.useState)(!1),[Pe,Se]=(0,a.useState)(),[Ze,Ce]=(0,a.useState)({}),[Ee,ke]=(0,a.useState)(!1),Ae=JSON.parse(localStorage.getItem("slotDescription"));console.log("slotDescription",Ae);const Le=(0,Z.I0)();console.log("patientAppointedDetail",Ne),(0,a.useEffect)((()=>{const e={patientId:null===Ae||void 0===Ae?void 0:Ae.patientId,appointmentId:null===Ae||void 0===Ae?void 0:Ae.appointmentId};Le((0,C.gS)(e))}),[Le,null===Ae||void 0===Ae?void 0:Ae.appointmentId,null===Ae||void 0===Ae?void 0:Ae.patientId]),(0,a.useEffect)((()=>{const e={patientId:null===Ae||void 0===Ae?void 0:Ae.patientId};Le((0,M.jX)(e))}),[Le,null===Ae||void 0===Ae?void 0:Ae.patientId]),(0,a.useEffect)((()=>{const e={appointmentId:null===Ae||void 0===Ae?void 0:Ae.appointmentId};Le((0,H.kU)(e))}),[Le,null===Ae||void 0===Ae?void 0:Ae.appointmentId]),(0,a.useEffect)((()=>{Le((0,M.VT)({pharmacyName:null,pharmacyLocation:null}))}),[Le]);const Te=()=>{const e={PatientId:null===Ae||void 0===Ae?void 0:Ae.patientId};Le((0,M.jX)(e)),we(!1)};const Oe=()=>{const e={patientId:null===Ae||void 0===Ae?void 0:Ae.patientId};Le((0,M.jX)(e)),we(!1),fe()};return(0,y.jsx)("div",{className:"p-4 consultation-main vh-100",children:(0,y.jsxs)(i.Z,{children:[(0,y.jsx)(s.Z,{xl:3,lg:4,md:4,xs:12,className:"h-100 mb-3",children:(0,y.jsx)(A.Z,{name:"".concat(null===Ne||void 0===Ne||null===(e=Ne.detailDTO)||void 0===e?void 0:e.firstName," ").concat(null===Ne||void 0===Ne||null===(n=Ne.detailDTO)||void 0===n?void 0:n.lastName),genderInfo:"true",gender:null===Ne||void 0===Ne||null===(t=Ne.detailDTO)||void 0===t?void 0:t.gender,dobInfo:"true",dob:T()(null===Ne||void 0===Ne||null===(h=Ne.detailDTO)||void 0===h?void 0:h.dob).format("DD-MM-YYYY"),currentLocationInfo:"true",currentLocation:null===Ne||void 0===Ne||null===(u=Ne.detailDTO)||void 0===u?void 0:u.currentAddress,patientLocalGPInfo:"true",patientLocalGP:null===Ne||void 0===Ne||null===(p=Ne.detailDTO)||void 0===p?void 0:p.patientLocalGP,emailInfo:"true",email:null===Ne||void 0===Ne||null===(v=Ne.detailDTO)||void 0===v?void 0:v.email,phoneInfo:"true",phone:null===Ne||void 0===Ne||null===(x=Ne.detailDTO)||void 0===x?void 0:x.phoneNumber,nextOfKinNameInfo:"true",nextOfKinName:null===Ne||void 0===Ne||null===(j=Ne.detailDTO)||void 0===j?void 0:j.nextOfKinName,nextOfKinNumberInfo:"true",nextOfKinNumber:null===Ne||void 0===Ne||null===(f=Ne.detailDTO)||void 0===f?void 0:f.nextOfKinNumber,image:null===Ne||void 0===Ne||null===(N=Ne.detailDTO)||void 0===N?void 0:N.imageUrl})}),(0,y.jsx)(s.Z,{xl:6,lg:8,md:8,xs:12,className:"mb-3 bg-white px-0",children:(0,y.jsx)(l.Z,{className:"tele-consultation-tabs",children:(0,y.jsx)(l.Z.Body,{className:"p-0",children:(0,y.jsx)(o.Z,{defaultActiveKey:"videoAppointment",id:"uncontrolled-tab-example",children:(0,y.jsx)(c.Z,{eventKey:"videoAppointment",title:"Appointment",children:(0,y.jsx)(k,{slotDescription:Ae})})})})})}),(0,y.jsx)(s.Z,{xl:3,lg:6,md:12,xs:12,className:"mb-3",children:(0,y.jsx)(l.Z,{className:"tele-consultation-accordion h-100",children:(0,y.jsx)(l.Z.Body,{className:"mx-3",children:(0,y.jsxs)(d.Z,{defaultActiveKey:"0",children:[(0,y.jsxs)(d.Z.Item,{eventKey:"0",className:"my-3",children:[(0,y.jsx)(d.Z.Header,{children:(0,y.jsx)("h5",{className:"mb-0",children:"Past Medical History"})}),(0,y.jsx)(d.Z.Body,{className:"py-4",children:null!==Ne&&void 0!==Ne&&null!==(g=Ne.patientHistory)&&void 0!==g&&g.pastMedicalHistory?null===Ne||void 0===Ne||null===(b=Ne.patientHistory)||void 0===b?void 0:b.pastMedicalHistory:"N/A"})]}),(0,y.jsxs)(d.Z.Item,{eventKey:"1",className:"my-3",children:[(0,y.jsx)(d.Z.Header,{children:(0,y.jsx)("h5",{className:"mb-0",children:"Current Medications"})}),(0,y.jsx)(d.Z.Body,{className:"py-4",children:null!==Ne&&void 0!==Ne&&null!==(D=Ne.patientHistory)&&void 0!==D&&D.currentMedical?null===Ne||void 0===Ne||null===(I=Ne.patientHistory)||void 0===I?void 0:I.currentMedical:"N/A"})]}),(0,y.jsxs)(d.Z.Item,{eventKey:"2",className:"my-3",children:[(0,y.jsx)(d.Z.Header,{children:(0,y.jsx)("h5",{className:"mb-0",children:"Allergy (with any medication)"})}),(0,y.jsx)(d.Z.Body,{className:"py-4",children:null!==Ne&&void 0!==Ne&&null!==(w=Ne.patientHistory)&&void 0!==w&&w.allergyHistory?null===Ne||void 0===Ne||null===(P=Ne.patientHistory)||void 0===P?void 0:P.allergyHistory:"N/A"})]}),(0,y.jsxs)(d.Z.Item,{eventKey:"3",className:"my-3",children:[(0,y.jsx)(d.Z.Header,{children:(0,y.jsx)("h5",{className:"mb-0",children:"Pharmacy"})}),(0,y.jsxs)(d.Z.Body,{className:"pt-2",children:[(0,y.jsx)(r.Z,{onSubmit:je((function(e){var n,t,a;const i={pharmacyId:Pe||0,pharmacyEmail:null===e||void 0===e?void 0:e.pharmacyEmail,pharmacyName:null===e||void 0===e?void 0:e.pharmacyName,pharmacyLocation:null===e||void 0===e?void 0:e.pharmacyLocation,country:null===e||void 0===e?void 0:e.country,ig_xcord:"",ig_ycord:"",userId:null===Ne||void 0===Ne||null===(n=Ne.detailDTO)||void 0===n?void 0:n.patientId};null!==De&&void 0!==De&&null!==(t=De.patientPharmacyData)&&void 0!==t&&t.pharmacyId,Le((0,M.Hy)({finalData:i,moveToNext:Te}));const s=null===De||void 0===De||null===(a=De.allPatientPharmacyData)||void 0===a?void 0:a.find((n=>n.pharmacyName===(null===e||void 0===e?void 0:e.pharmacyName)));s&&(ye("pharmacyLocation",s.pharmacyLocation),ye("country",s.country),ye("pharmacyEmail",s.pharmacyEmail),Ce(s))})),children:(0,y.jsx)(i.Z,{children:(0,y.jsxs)(s.Z,{lg:12,children:[(0,y.jsxs)("div",{className:"d-flex justify-content-between align-items-baseline",children:[(0,y.jsxs)("span",{className:"w-100",children:[(0,y.jsx)(r.Z.Label,{className:"fw-bold",children:"Pharmacy Name"}),(0,y.jsxs)(r.Z.Group,{children:[null!==De&&void 0!==De&&null!==(S=De.patientPharmacyData)&&void 0!==S&&S.pharmacyName&&!1===Ie?(0,y.jsx)("p",{children:null===De||void 0===De||null===(E=De.patientPharmacyData)||void 0===E?void 0:E.pharmacyName}):(0,y.jsx)(r.Z.Control,{list:"pharmacyNameList",defaultValue:null!==(L=null===De||void 0===De||null===(B=De.patientPharmacyData)||void 0===B?void 0:B.pharmacyName)&&void 0!==L?L:"",...xe("pharmacyName"),onChange:e=>{var n;const t=null===De||void 0===De||null===(n=De.allPatientPharmacyData)||void 0===n?void 0:n.find((n=>n.pharmacyName===e.target.value));t?(ye("pharmacyLocation",t.pharmacyLocation),ye("country",t.country),Ce(t),Se(t.pharmacyId)):(ye("pharmacyLocation",""),ye("country",""),Ce({}))},placeholder:"Select Pharmacy Name",size:"lg",className:"".concat(!(null!==De&&void 0!==De&&De.allPatientPharmacyData)&&"bg-transparent"),readOnly:(null===De||void 0===De||null===(V=De.patientPharmacyData)||void 0===V||!V.pharmacyName||!Ie)&&!(null===De||void 0===De||null===(_=De.patientPharmacyData)||void 0===_||!_.pharmacyName),disabled:!(null!==De&&void 0!==De&&De.allPatientPharmacyData)}),(0,y.jsx)("datalist",{id:"pharmacyNameList",children:null===De||void 0===De||null===(Y=De.allPatientPharmacyData)||void 0===Y?void 0:Y.map((e=>(0,y.jsx)("option",{value:null===e||void 0===e?void 0:e.pharmacyName,children:e.pharmacyName},null===e||void 0===e?void 0:e.pharmacyId)))})]})]}),(null===De||void 0===De||null===(W=De.patientPharmacyData)||void 0===W?void 0:W.pharmacyId)&&(null===De||void 0===De||null===(U=De.patientPharmacyData)||void 0===U?void 0:U.pharmacyEmail)&&!1===Ie&&(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"d-flex justify-content-center align-items-center mb-2",style:{height:"29px",width:"32px",backgroundColor:"#E1EBFF",borderRadius:"5px",cursor:"pointer"},onClick:()=>we(!0),children:(0,y.jsx)(R.HlX,{style:{color:"#2269F2",fontSize:"18px"}})}),(0,y.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"29px",width:"32px",backgroundColor:"#FFDADD",borderRadius:"5px",cursor:"pointer"},onClick:()=>{be(null===Ae||void 0===Ae?void 0:Ae.patientId),ke(!0)},children:(0,y.jsx)(K.w6k,{style:{color:"#E63946",fontSize:"18px"}})})]})]}),(0,y.jsxs)(r.Z.Group,{children:[(0,y.jsx)(r.Z.Label,{className:"fw-bold mt-2",children:"Address"}),null!==De&&void 0!==De&&null!==(Q=De.patientPharmacyData)&&void 0!==Q&&Q.pharmacyLocation&&!1===Ie?(0,y.jsx)("p",{children:null===De||void 0===De||null===(J=De.patientPharmacyData)||void 0===J?void 0:J.pharmacyLocation}):(0,y.jsx)(r.Z.Control,{type:"text",size:"lg",placeholder:"Select Address",...xe("pharmacyLocation"),defaultValue:null!==De&&void 0!==De&&null!==(X=De.patientPharmacyData)&&void 0!==X&&X.pharmacyLocation?null===De||void 0===De||null===(q=De.patientPharmacyData)||void 0===q?void 0:q.pharmacyLocation:"",className:"".concat(!(null!==De&&void 0!==De&&De.allPatientPharmacyData)&&"bg-transparent"),readOnly:(null===De||void 0===De||null===($=De.patientPharmacyData)||void 0===$||!$.pharmacyLocation||!Ie)&&!(null===De||void 0===De||null===(ee=De.patientPharmacyData)||void 0===ee||!ee.pharmacyLocation),maxLength:250,disabled:!(null!==De&&void 0!==De&&De.allPatientPharmacyData)})]}),(0,y.jsxs)(r.Z.Group,{children:[(0,y.jsx)(r.Z.Label,{className:"fw-bold mt-2",children:"Country"}),null!==De&&void 0!==De&&null!==(ne=De.patientPharmacyData)&&void 0!==ne&&ne.country&&!1===Ie?(0,y.jsx)("p",{children:null===De||void 0===De||null===(te=De.patientPharmacyData)||void 0===te?void 0:te.country}):(0,y.jsx)(r.Z.Control,{type:"text",size:"lg",placeholder:"Country",...xe("country"),defaultValue:null!==(ae=null===De||void 0===De||null===(ie=De.patientPharmacyData)||void 0===ie?void 0:ie.country)&&void 0!==ae?ae:"",readOnly:(null===De||void 0===De||null===(se=De.patientPharmacyData)||void 0===se||!se.country||!Ie)&&!(null===De||void 0===De||null===(le=De.patientPharmacyData)||void 0===le||!le.country),className:"".concat(!(null!==De&&void 0!==De&&De.allPatientPharmacyData)&&"bg-transparent"),maxLength:250,disabled:!(null!==De&&void 0!==De&&De.allPatientPharmacyData)})]}),(0,y.jsxs)(r.Z.Group,{children:[(0,y.jsx)(r.Z.Label,{className:"fw-bold mt-2",children:"Pharmacy Email"}),null!==De&&void 0!==De&&null!==(oe=De.patientPharmacyData)&&void 0!==oe&&oe.pharmacyEmail&&!1===Ie?(0,y.jsx)("p",{children:null===De||void 0===De||null===(ce=De.patientPharmacyData)||void 0===ce?void 0:ce.pharmacyEmail}):(0,y.jsx)(r.Z.Control,{type:"email",size:"lg",placeholder:"Pharmacy Email",...xe("pharmacyEmail"),defaultValue:null!==(de=null===De||void 0===De||null===(re=De.patientPharmacyData)||void 0===re?void 0:re.pharmacyEmail)&&void 0!==de?de:"",readOnly:(null===De||void 0===De||null===(me=De.patientPharmacyData)||void 0===me||!me.pharmacyEmail||!Ie)&&!(null===De||void 0===De||null===(he=De.patientPharmacyData)||void 0===he||!he.pharmacyEmail),className:"".concat(!(null!==De&&void 0!==De&&De.allPatientPharmacyData)&&"bg-transparent"),maxLength:250,disabled:!(null!==De&&void 0!==De&&De.allPatientPharmacyData)})]}),(!(null!==De&&void 0!==De&&null!==(ue=De.patientPharmacyData)&&void 0!==ue&&ue.pharmacyId)||!(null!==De&&void 0!==De&&null!==(pe=De.patientPharmacyData)&&void 0!==pe&&pe.pharmacyEmail)||!0===Ie)&&(0,y.jsxs)(m.Z,{className:"px-3 mt-3 primary_bg float-right",size:"sm",type:"submit",children:[null!==De&&void 0!==De&&null!==(ve=De.patientPharmacyData)&&void 0!==ve&&ve.pharmacyId?"Update ":"Add ","Pharmacy"]})]})})}),(0,y.jsx)(z.c,{show:Ee,onHide:()=>ke(!1),heading:"Delete Pharmacy",title:"this pharmacy",removeFunc:function(){const e={patientId:ge};Le((0,M.ai)({finalData:e,onCreateSuccess:Oe}))}})]})]}),(0,y.jsxs)(d.Z.Item,{eventKey:"4",className:"my-3",children:[(0,y.jsx)(d.Z.Header,{children:(0,y.jsx)("h5",{className:"mb-0",children:"Appointment Reason"})}),(0,y.jsx)(d.Z.Body,{className:"py-4",children:null!==Ae&&void 0!==Ae&&Ae.reasonForAppoinment?null===Ae||void 0===Ae?void 0:Ae.reasonForAppoinment:"N/A"})]})]})})})}),(0,y.jsx)(s.Z,{xl:3,lg:6,md:12,xs:12,className:"mb-3",children:(0,y.jsx)(l.Z,{children:(0,y.jsx)(l.Z.Body,{className:"mx-3",children:(0,y.jsx)(G,{})})})}),(0,y.jsx)(s.Z,{xl:6,lg:12,md:12,xs:12,children:(0,y.jsx)(F.default,{})})]})})}}}]);
//# sourceMappingURL=5204.1055338d.chunk.js.map