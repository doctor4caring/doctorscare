"use strict";(self.webpackChunkfamily_doc_app=self.webpackChunkfamily_doc_app||[]).push([[8893],{52268:(e,n,t)=>{t.d(n,{Tf:()=>s,_Y:()=>l,bA:()=>i,df:()=>c,lt:()=>o,sP:()=>a});const i=[{lookupId:6,value:"Nurse"},{lookupId:7,value:"Receptionist"}],a=[{lookupId:101,value:"Male"},{lookupId:102,value:"Female"},{lookupId:103,value:"Other"}],s={Destroyed:"destroyed",Error:"error",Incoming:"incoming",Registered:"registered",Registering:"registering",TokenWillExpire:"tokenWillExpire",Unregistered:"unregistered"},o={Connected:"connected",Accept:"accept",Audio:"audio",Cancel:"cancel",Disconnect:"disconnect",Error:"error",Mute:"mute",Reconnected:"reconnected",Reconnecting:"reconnecting",Reject:"reject",Ringing:"ringing",Sample:"sample",Volume:"volume",WarningCleared:"warning-cleared",Warning:"warning"},l=[{lookupId:401,name:"Multiple Choice",value:"Radio"},{lookupId:402,name:"Checkbox",value:"Checkbox"},{lookupId:404,name:"Paragraph",value:"TextBox"}],c=[{lookupId:801,value:"1 Month"},{lookupId:802,value:"3 Months"},{lookupId:803,value:"6 Months"},{lookupId:804,value:"12 Months"}]},43426:(e,n,t)=>{t.d(n,{Z:()=>l});t(72791);var i=t(95070),a=t(72426),s=t.n(a),o=t(80184);function l(e){const{name:n,genderInfo:t,gender:a,dobInfo:l,dob:c,professionInfo:d,profession:r,currentLocationInfo:h,currentLocation:u,patientLocalGPInfo:m,patientLocalGP:p,emailInfo:v,email:x,phoneInfo:j,phone:y,specialityInfo:g,speciality:f,pharmacyInfo:N,pharmacy:b,locationInfo:D,location:I,image:w}=e;return(0,o.jsx)(i.Z,{className:"generic-card",children:(0,o.jsxs)(i.Z.Body,{className:"p-0 main-personalprofile position-relative",children:[(0,o.jsx)("div",{className:"ds-top"}),(0,o.jsxs)("div",{className:"position-relative",children:[(0,o.jsx)("div",{className:"avatar-holder upload_pic profile_upload profileContent",children:(0,o.jsx)("img",{src:w||"https://ui-avatars.com/api/?name=".concat("".concat(n),"&background=000071&color=fff"),alt:"Patient"})}),(0,o.jsx)("div",{className:"name",children:n||"N/A"})]}),(0,o.jsxs)("div",{className:"mx-4 card-content patient-personal-details",children:[t&&(0,o.jsxs)(o.Fragment,{children:[" ",(0,o.jsxs)("span",{className:"d-flex flex-wrap justify-content-between pt-3",children:[(0,o.jsx)("p",{children:"Gender"}),(0,o.jsx)("p",{children:a||"N/A"})]}),(0,o.jsx)("hr",{})]}),l&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,o.jsx)("p",{children:"D.O.B"}),(0,o.jsx)("p",{children:s()(c).format("MM/DD/YYYY")})]}),(0,o.jsx)("hr",{})]}),D&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,o.jsx)("p",{children:"Location"}),(0,o.jsx)("p",{children:I||"N/A"})]}),(0,o.jsx)("hr",{})]}),d&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,o.jsx)("p",{children:"Profession/Occupation:"}),(0,o.jsx)("p",{children:r||"N/A"})]}),(0,o.jsx)("hr",{})]}),h&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,o.jsx)("p",{children:"Current Location"}),(0,o.jsx)("p",{children:u||"N/A"})]}),(0,o.jsx)("hr",{})]}),m&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,o.jsx)("p",{children:"Patient Local GP"}),(0,o.jsx)("p",{children:p||"N/A"})]}),(0,o.jsx)("hr",{})]}),v&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,o.jsx)("p",{children:"Email"}),(0,o.jsx)("p",{children:x||"N/A"})]}),(0,o.jsx)("hr",{})]}),N&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,o.jsx)("p",{children:"Pharmacy"}),(0,o.jsx)("p",{children:b||"N/A"})]}),(0,o.jsx)("hr",{})]}),j&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,o.jsx)("p",{children:"Phone"}),(0,o.jsx)("p",{children:y||"N/A"})]}),(0,o.jsx)("hr",{})]}),g&&(0,o.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,o.jsx)("p",{children:"Speciality"}),(0,o.jsx)("p",{children:f||"N/A"})]})]})]})})}},55552:(e,n,t)=>{t.r(n),t.d(n,{default:()=>W});var i=t(72791),a=t(89743),s=t(2677),o=t(95070),l=t(19485),c=t(61734),d=t(69764),r=t(43360),h=t(88135),u=t(58617),m=t(56355),p=t(84373),v=t(20240),x=t(78820),j=t(80184);const y=function(e){const{showEndModal:n,handleCloseEndModal:t,discounthandlerEnd:i}=e;return(0,j.jsx)("div",{children:(0,j.jsxs)(h.Z,{show:n,onHide:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"appointment-modal",children:[(0,j.jsx)(h.Z.Header,{closeButton:!0}),(0,j.jsxs)(h.Z.Body,{children:[(0,j.jsx)("div",{className:"d-flex justify-content-center ",children:(0,j.jsx)("span",{className:"stethoscope-icon",children:(0,j.jsx)(m.K7y,{size:34})})}),(0,j.jsxs)("div",{className:"my-3",children:[(0,j.jsx)("h4",{className:"text-center w-50 mx-auto my-0",style:{fontWeight:600},children:"You are about to end this appointment"}),(0,j.jsx)("p",{className:"text-center mt-3 mb-4",children:"Note: If you end this appointment, you will not be able to reconnect"})]}),(0,j.jsx)("span",{className:"d-flex justify-content-center mt-2 mb-5",children:(0,j.jsx)(r.Z,{className:"end-apt-btn",onClick:()=>(i(),void t()),children:"End Appointment"})})]})]})})};class g extends i.Component{constructor(e){var n,t;super(e),this.setAudio=e=>{this.setState({audio:e})},this.setVideo=e=>{this.setState({video:e})},this.setShowEndModal=e=>{this.setState({showEndModal:e})},this.changeVideoSource=e=>{"camera"!==this.state.videoSource?this.setState({videoSource:"camera"}):this.setState({videoSource:"screen"})},this.onError=e=>{this.setState({error:"Failed to publish: ".concat(e.message)})},this.discounthandler=async()=>{var e,n,t,i,a;await(null===(e=this.props)||void 0===e||null===(n=e.otSession)||void 0===n||null===(t=n.current)||void 0===t||null===(i=t.sessionHelper)||void 0===i||null===(a=i.session)||void 0===a?void 0:a.destroy())},this.discounthandlerEnd=async()=>{await this.props.otSession.current.sessionHelper.session.destroy()},this.state={error:null,audio:!0,video:(null===(n=this.props.videoCallData)||void 0===n||!n.isAudio)&&(null!==(t=this.props.videoCallData)&&void 0!==t&&t.isVideo,!0),showEndModal:!1,videoSource:"camera"}}render(){return(0,j.jsxs)("div",{className:"videocall publisher",children:[(0,j.jsxs)("div",{className:"d-flex justify-content-end me-3 position-relative publisher-video-box",children:[(0,j.jsx)("div",{children:(0,j.jsx)(v.VI,{properties:{publishAudio:this.state.audio,publishVideo:this.state.video,videoSource:"screen"===this.state.videoSource?"screen":void 0}})}),(0,j.jsxs)("div",{className:"position-absolute d-flex justify-content-between align-items-center",style:{right:"1rem",top:"8.8rem",width:"25%"},children:[(0,j.jsx)("div",{className:"publisher-name",children:(0,j.jsx)("h6",{className:"text-white mb-0",children:this.props.user.name})}),!1===this.state.audio&&(0,j.jsx)("div",{className:"publisher-mute",children:(0,j.jsx)(x.Q4c,{className:"strem--controls-icon cursor m-2 text-white",size:20,onClick:()=>this.setAudio(!1)})})]})]}),(0,j.jsx)("div",{className:"row pt-5 px-2",children:(0,j.jsx)("div",{className:"randox-div",children:(0,j.jsx)("div",{className:"position_set",children:(0,j.jsxs)("div",{className:"d-flex justify-content-between streem-control-container w-100",children:[(0,j.jsxs)("div",{children:[this.state.audio?(0,j.jsx)("span",{className:"botton-icons me-4",children:(0,j.jsx)(x.aRZ,{className:"strem--controls-icon cursor m-2",size:24,onClick:()=>this.setAudio(!1)})}):(0,j.jsx)("span",{className:"botton-icons me-4",children:(0,j.jsx)(x.Q4c,{className:"strem--controls-icon cursor m-2",size:24,onClick:()=>this.setAudio(!0)})}),this.state.video?(0,j.jsx)("span",{className:"botton-icons me-4",children:(0,j.jsx)(m.KoQ,{className:"strem--controls-icon cursor m-2",size:24,onClick:()=>this.setVideo(!1)})}):(0,j.jsx)("span",{className:"botton-icons me-4",children:(0,j.jsx)(m.uCi,{className:"strem--controls-icon cursor m-2",size:24,onClick:()=>this.setVideo(!0)})})]}),(0,j.jsx)("span",{className:"appointment-last-span",children:this.props.user&&this.props.user&&this.props.user.token&&"Patient"===this.props.user.role&&(0,j.jsx)("div",{className:"end_call",children:(0,j.jsx)(r.Z,{style:{background:"#FD2121",border:"none"},onClick:()=>this.setShowEndModal(!0),className:"px-4",children:"End Appointment"})})})]})})})}),(0,j.jsx)(y,{showEndModal:this.state.showEndModal,handleCloseEndModal:()=>this.setShowEndModal(!1),discounthandlerEnd:async()=>{this.discounthandlerEnd()},slotDescription:this.props.slotDescription})]})}}const f=g;t(763);i.Component;class N extends i.Component{constructor(e){super(e),this.setAudio=e=>{this.setState({audio:e})},this.setVideo=e=>{this.setState({video:e})},this.onError=e=>{this.setState({error:"Failed to subscribe: ".concat(e.message)})},this.state={error:null,audio:!0,video:!0}}render(){return(0,j.jsx)("div",{className:"subscriber",children:(0,j.jsxs)("div",{className:"position-relative",children:[(0,j.jsx)("div",{children:(0,j.jsx)(v.dR,{properties:{subscribeToAudio:this.state.audio,subscribeToVideo:this.state.video}})}),(0,j.jsx)("div",{className:"position-absolute d-flex justify-content-between align-items-center",style:{right:"0",top:"36rem",width:"100%",bottom:"0",left:"2rem"},children:(0,j.jsx)("div",{className:"publisher-name",children:(0,j.jsx)("h6",{className:"text-white mb-0",children:this.props.slotDescription.patientName})})})]})})}}const b=N;class D extends i.Component{constructor(e){super(e),this.onSignalRecieve=e=>{console.log("onSignalReceive => ",JSON.parse(e.data))},this.onError=e=>{this.setState({error:"Failed to connect: ".concat(e.message)})},this.otSession=i.createRef(),this.state={error:null,connected:!1},this.sessionEvents={sessionConnected:()=>{this.setState({connected:!0})},sessionDisconnected:()=>{this.setState({connected:!1})}}}render(){var e,n,t,i,a,s,o,l,c,d,r,h,u;return(0,j.jsxs)(v.Bp,{ref:null===this||void 0===this?void 0:this.otSession,apiKey:"47602941",sessionId:null===this||void 0===this||null===(e=this.props)||void 0===e||null===(n=e.videoCallData)||void 0===n?void 0:n.vonageSessionId,token:null===this||void 0===this||null===(t=this.props)||void 0===t||null===(i=t.videoCallData)||void 0===i?void 0:i.token,eventHandlers:null===this||void 0===this?void 0:this.sessionEvents,onError:this.onError,children:[this.state.error?(0,j.jsx)("div",{id:"error",children:this.state.error}):null,(0,j.jsxs)("div",{className:"position-relative w-100",children:[0===(null===(a=this.otSession)||void 0===a||null===(s=a.current)||void 0===s||null===(o=s.state)||void 0===o||null===(l=o.streams)||void 0===l?void 0:l.length)&&(0,j.jsx)(w,{show:null===(c=this.otSession)||void 0===c||null===(d=c.current)||void 0===d||null===(r=d.state)||void 0===r||null===(h=r.streams)||void 0===h?void 0:h.length,session:this.otSession}),(0,j.jsx)(v.e_,{children:(0,j.jsx)(b,{slotDescription:this.props.slotDescription})}),(0,j.jsx)(f,{user:this.props.user,setShowEndModal:this.props.setShowEndModal,otSession:this.otSession,slotDescription:this.props.slotDescription,videoCallData:null===(u=this.props)||void 0===u?void 0:u.videoCallData})]})]})}}const I=(0,v.kK)(D);function w(e){var n,t,a;let{session:s}=e;const[o,l]=(0,i.useState)();return(0,i.useEffect)((()=>{var e,n,t;l(null===(e=s.current)||void 0===e||null===(n=e.state)||void 0===n||null===(t=n.streams)||void 0===t?void 0:t.length)}),[null===(n=s.current)||void 0===n||null===(t=n.state)||void 0===t||null===(a=t.streams)||void 0===a?void 0:a.length]),(0,j.jsx)("div",{className:"video-appointment abcd ".concat(0===o?"d-block":"d-none"),children:(0,j.jsxs)("div",{className:"d-flex align-items-center justify-content-center h-100",children:[(0,j.jsx)(u.HQH,{className:"exclamation-icon me-2 mb-3",size:28}),(0,j.jsx)("p",{className:"not-joined-text m-0",style:{fontWeight:600},children:"The Patient has not yet joined the appointment"})]})})}var S=t(21334),P=t(59434),Z=t(24278),C=t(49739);function E(){const e=JSON.parse(localStorage.getItem("slotDescription")),n=(0,P.I0)(),t=JSON.parse(localStorage.getItem("family_doc_app")),[a,s]=(0,i.useState)(1),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1),{videoCallData:v,isLoading:x}=(0,P.v9)((e=>null===e||void 0===e?void 0:e.vonageData)),y=()=>{const t={appointmentId:null===e||void 0===e?void 0:e.appointmentId};n((0,Z.MM)(t))};return(0,j.jsxs)(j.Fragment,{children:[1===a&&(0,j.jsxs)("div",{className:"video-appointment",children:[(0,j.jsxs)("div",{className:"d-flex align-items-center justify-content-center h-100",children:[(0,j.jsx)(u.HQH,{className:"exclamation-icon me-2 mb-3",size:28}),(0,j.jsx)("p",{className:"not-joined-text m-0",style:{fontWeight:600},children:"The patient has not yet joined the appointment"})]}),(0,j.jsx)("div",{className:"px-2 my-4 d-flex flex-wrap justify-content-end align-items-center",children:(0,j.jsx)(r.Z,{style:{background:"#000071"},onClick:()=>l(!0),className:"px-4",children:"Start Appointment"})}),(0,j.jsxs)(h.Z,{show:o,onHide:()=>{l(!1)},size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"appointment-modal",children:[(0,j.jsx)(h.Z.Header,{closeButton:!0}),(0,j.jsxs)(h.Z.Body,{children:[(0,j.jsx)("div",{className:"d-flex justify-content-center",children:(0,j.jsx)("span",{className:"stethoscope-icon",children:(0,j.jsx)(m.K7y,{size:34})})}),(0,j.jsx)("div",{className:"my-3",children:(0,j.jsx)("h4",{className:"text-center w-50 mx-auto my-0",children:"You are about to start this appointment"})}),(0,j.jsx)("span",{className:"d-flex justify-content-center",children:(0,j.jsx)(r.Z,{className:"start-apt-btn ".concat(x&&"disabled"),onClick:()=>(()=>{const t={sessionId:null===e||void 0===e?void 0:e.vonageSessionId};n((0,S.sR)({finalData:t,moveToNext:y})),s(2)})(),children:!0===x?(0,j.jsx)(C.Z,{color:"white",size:25,className:"d-flex m-auto"}):"Start"})}),(0,j.jsxs)("span",{className:"d-flex justify-content-center align-items-center mb-3 mt-4",style:{cursor:"pointer"},children:[(0,j.jsx)(p.PjY,{size:25}),(0,j.jsx)("p",{className:"mb-0",style:{fontWeight:500,fontSize:"18px"},children:"Go Back"})]})]})]})]}),2===a&&!1===x&&(0,j.jsx)("div",{className:"appointment-started",children:(0,j.jsx)("span",{className:"",children:(0,j.jsx)(I,{videoCallData:v,user:t,setShowEndModal:d,slotDescription:e})})})]})}var k=t(43426),A=t(95985),L=t(82573),T=t(76637),H=t(36638),F=t(61134),M=t(95431),R=(t(10215),t(10857)),O=t(52268);const z=()=>{var e;const{register:n}=(0,F.cI)(),[t,a]=(0,i.useState)(O.Tf.Unregistered),[s,o]=(0,i.useState)(null),[l,c]=(0,i.useState)(null),{videoCallData:d}=((0,P.I0)(),(0,P.v9)((e=>(null===e||void 0===e?void 0:e.vonageData)||{}))),{patientAppointedDetail:h}=(0,P.v9)((e=>e.appointment));function u(e){a(O.Tf.Registering),console.log("Initializing a new device",t);let n=new M.AS(null===e||void 0===e?void 0:e.twilioToken,{logLevel:1,codecPreferences:["opus","pcmu"]});!function(e){e.on("registered",(function(){console.log("The device is ready to make and receive incoming calls."),a(O.Tf.Registered)})),e.on("registering",(function(){a(O.Tf.Registering)})),e.on("error",(function(e){console.log("Twilio.Device Error: "+e.message),a(O.Tf.Error)})),e.audio.on("deviceChange",(function(){console.log("device Change")}))}(n),n.register(),async function(e,n){var t;const i=null===n||void 0===n?void 0:n.callingDeviceIdentity;var a={To:null===h||void 0===h||null===(t=h.detailDTO)||void 0===t?void 0:t.phoneNumber,callingDeviceIdentity:i};if(e){console.log("Attempting to call ".concat(a.To," ..."));const n=await e.connect({params:a});c(n),n&&(o(O.lt.Connected),console.log("setCallStateConnected",s)),console.log("Connection successful:",o),n.on("accept",(function(){console.log("'accepted' means the call has finished connecting and the state is now 'open'"),o(O.lt.Accept)})),n.on("ringing",(function(){console.log("Ringing ..."),o(O.lt.Ringing)})),n.on("disconnect",(function(){console.log("Call Disconnected"),o(O.lt.Disconnect,(()=>{console.log("callState",s)}))})),n.on("cancel",(function(){console.log("Call Cancelled"),o(O.lt.Cancel)}))}else console.log("Unable to make call.")}(n,e)}function m(){console.log("Requesting Access Token...");u({twilioToken:null===d||void 0===d?void 0:d.twilioToken,callingDeviceIdentity:null===d||void 0===d?void 0:d.twilioIdentity})}return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"d-flex justify-content-center",children:(0,j.jsx)("img",{src:R.Z.TWILIO_LOGO,alt:"Twilio Logo",width:120,height:"auto",className:"".concat("disconnect"!==s&&"unregistered"!==t&&"error"!==t?"rotate-img":"")})}),(0,j.jsxs)(H.Z.Group,{className:"mb-2",controlId:"numberField",children:[(0,j.jsx)(H.Z.Label,{className:"fw-bold",children:"Phone Number"}),(0,j.jsx)(H.Z.Control,{type:"text",placeholder:"+1 530 673 3342",size:"md",...n("toNumber",{required:!0}),defaultValue:null===h||void 0===h||null===(e=h.detailDTO)||void 0===e?void 0:e.phoneNumber,disabled:!0,className:"custom-field-picker bg-transparent"})]}),"error"===t?(0,j.jsx)("p",{className:"mb-0",style:{fontSize:"14px",color:"#E31E27"},children:"Unable to Connect Server"}):"",(0,j.jsx)("div",{className:"d-flex",children:"ringing"===s?(0,j.jsx)("p",{className:"mb-0 mx-auto my-0",style:{color:"#44BC19"},children:"Ringing ..."}):"registering"===t?(0,j.jsx)("p",{className:"mb-0 mx-auto my-0",style:{color:"#FFB400"},children:"Registring ..."}):(0,j.jsx)(r.Z,{style:{background:"transparent",border:"none",color:"#E31E27"},disabled:!d,className:"fw-bold px-4 mx-auto my-0 cursor-pointer",onClick:"unregistered"===t||"disconnect"===s||"error"===t?m:function(){l&&(console.log("Hanging up ...",l),l.disconnect())},children:"unregistered"===t||"disconnect"===s||"error"===t?"Switch to Phone Call":"Hang Up"})})]})};var B=t(38713),_=t(17425),V=t(63521),G=t(39126);function K(){var e,n,t,o,l,c,d,h,u,m,p,v,x,y,g,f,N,b,D,I,w,S,Z,C,E,k,A;const[T,M]=(0,i.useState)(""),[R,O]=(0,i.useState)(!1),[z,K]=(0,i.useState)(),[W,Y]=(0,i.useState)({}),[U,J]=(0,i.useState)(!1),[Q,X]=(0,i.useState)(),{patientPharmacy:q}=(0,P.v9)((e=>e||{})),{patientAppointedDetail:$}=(0,P.v9)((e=>e.appointment)),{register:ee,handleSubmit:ne,setValue:te,reset:ie}=(0,F.cI)(),ae=JSON.parse(localStorage.getItem("slotDescription")),se=(0,P.I0)(),oe=()=>{const e={PatientId:null===ae||void 0===ae?void 0:ae.patientId};se((0,L.jX)(e)),O(!1)};const le=()=>{const e={patientId:null===ae||void 0===ae?void 0:ae.patientId};se((0,L.jX)(e)),O(!1),ie()};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(H.Z,{onSubmit:ne((function(e){var n,t,i,a,s,o,l;const c={pharmacyId:z||(null===q||void 0===q||null===(n=q.patientPharmacyData)||void 0===n?void 0:n.pharmacyId)||0,pharmacyEmail:null===e||void 0===e?void 0:e.pharmacyEmail,pharmacyName:Q||(null===q||void 0===q||null===(t=q.patientPharmacyData)||void 0===t?void 0:t.pharmacyName)||"",pharmacyLocation:(null===e||void 0===e?void 0:e.pharmacyLocation)||(null===q||void 0===q||null===(i=q.patientPharmacyData)||void 0===i?void 0:i.pharmacyLocation)||"",country:(null===e||void 0===e?void 0:e.country)||(null===q||void 0===q||null===(a=q.patientPharmacyData)||void 0===a?void 0:a.country)||"",ig_xcord:"",ig_ycord:"",userId:null===$||void 0===$||null===(s=$.detailDTO)||void 0===s?void 0:s.patientId};null!==q&&void 0!==q&&null!==(o=q.patientPharmacyData)&&void 0!==o&&o.pharmacyId,se((0,L.Hy)({finalData:c,moveToNext:oe}));const d=null===q||void 0===q||null===(l=q.allPatientPharmacyData)||void 0===l?void 0:l.find((e=>e.pharmacyName===Q));d&&(te("pharmacyLocation",d.pharmacyLocation),te("country",d.country),te("pharmacyEmail",d.pharmacyEmail),Y(d))})),children:(0,j.jsx)(a.Z,{children:(0,j.jsxs)(s.Z,{lg:12,children:[(0,j.jsxs)("div",{className:"d-flex justify-content-between align-items-baseline",children:[(0,j.jsxs)("span",{className:"w-100",children:[(0,j.jsx)(H.Z.Label,{className:"fw-bold",children:"Pharmacy Name"}),(0,j.jsxs)(H.Z.Group,{children:[null!==q&&void 0!==q&&null!==(e=q.patientPharmacyData)&&void 0!==e&&e.pharmacyName&&!R?(0,j.jsx)("p",{children:null===q||void 0===q||null===(n=q.patientPharmacyData)||void 0===n?void 0:n.pharmacyName}):(0,j.jsx)(V.ReactSearchAutocomplete,{items:null===q||void 0===q||null===(t=q.allPatientPharmacyData)||void 0===t?void 0:t.map((e=>({id:null===e||void 0===e?void 0:e.pharmacyId,name:null===e||void 0===e?void 0:e.pharmacyName,location:null===e||void 0===e?void 0:e.pharmacyLocation,country:null===e||void 0===e?void 0:e.country,display:"".concat(null===e||void 0===e?void 0:e.pharmacyName," - ").concat(null===e||void 0===e?void 0:e.pharmacyLocation)}))),onClear:()=>{te("pharmacyLocation",""),te("country",""),Y({})},onSearch:(e,n)=>{n?(te("pharmacyLocation",null===n||void 0===n?void 0:n.location),te("country",null===n||void 0===n?void 0:n.country),Y(n),K(null===n||void 0===n?void 0:n.id)):(te("pharmacyLocation",""),te("country",""),Y({}))},onSelect:e=>{e&&(X(null===e||void 0===e?void 0:e.name),te("pharmacyLocation",null===e||void 0===e?void 0:e.location),te("country",null===e||void 0===e?void 0:e.country),Y(e),K(null===e||void 0===e?void 0:e.id))},formatResult:e=>(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("span",{style:{display:"block",textAlign:"left"},className:"fw-bold text-wrap",children:null===e||void 0===e?void 0:e.name}),(0,j.jsx)("span",{style:{display:"block",textAlign:"left",fontSize:"15px"},className:"text-wrap",children:null===e||void 0===e?void 0:e.location})]}),autoFocus:!0,placeholder:"Select Pharmacy Name",inputSearchString:null!==(o=null===q||void 0===q||null===(l=q.patientPharmacyData)||void 0===l?void 0:l.pharmacyName)&&void 0!==o?o:"",styling:{height:"46px",border:"1px solid #dee2e6",borderRadius:"0.375rem",boxShadow:"none"},className:"auto__search-field"}),(0,j.jsx)("datalist",{id:"pharmacyNameList",children:null===q||void 0===q||null===(c=q.allPatientPharmacyData)||void 0===c?void 0:c.map((e=>(0,j.jsx)("option",{value:null===e||void 0===e?void 0:e.pharmacyName,children:null===e||void 0===e?void 0:e.pharmacyLocation},null===e||void 0===e?void 0:e.pharmacyId)))})]})]}),(null===q||void 0===q||null===(d=q.patientPharmacyData)||void 0===d?void 0:d.pharmacyId)&&!R&&(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"d-flex justify-content-center align-items-center mb-2",style:{height:"29px",width:"32px",backgroundColor:"#E1EBFF",borderRadius:"5px",cursor:"pointer"},onClick:()=>O(!0),children:(0,j.jsx)(G.HlX,{style:{color:"#2269F2",fontSize:"18px"}})}),(0,j.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"29px",width:"32px",backgroundColor:"#FFDADD",borderRadius:"5px",cursor:"pointer"},onClick:()=>{M(null===ae||void 0===ae?void 0:ae.patientId),J(!0)},children:(0,j.jsx)(_.w6k,{style:{color:"#E63946",fontSize:"18px"}})})]})]}),(0,j.jsxs)(H.Z.Group,{children:[(0,j.jsx)(H.Z.Label,{className:"fw-bold mt-2",children:"Address"}),null!==q&&void 0!==q&&null!==(h=q.patientPharmacyData)&&void 0!==h&&h.pharmacyLocation&&!R?(0,j.jsx)("p",{children:null===q||void 0===q||null===(u=q.patientPharmacyData)||void 0===u?void 0:u.pharmacyLocation}):(0,j.jsx)(H.Z.Control,{type:"text",placeholder:"Select Address",...ee("pharmacyLocation"),defaultValue:null!==q&&void 0!==q&&null!==(m=q.patientPharmacyData)&&void 0!==m&&m.pharmacyLocation?null===q||void 0===q||null===(p=q.patientPharmacyData)||void 0===p?void 0:p.pharmacyLocation:"",className:"".concat(!(null!==q&&void 0!==q&&q.allPatientPharmacyData)&&"bg-transparent"),readOnly:(null===q||void 0===q||null===(v=q.patientPharmacyData)||void 0===v||!v.pharmacyLocation||!R)&&!(null===q||void 0===q||null===(x=q.patientPharmacyData)||void 0===x||!x.pharmacyLocation),maxLength:250,disabled:!(null!==q&&void 0!==q&&q.allPatientPharmacyData)})]}),(0,j.jsxs)(H.Z.Group,{children:[(0,j.jsx)(H.Z.Label,{className:"fw-bold mt-2",children:"County"}),null!==q&&void 0!==q&&null!==(y=q.patientPharmacyData)&&void 0!==y&&y.country&&!1===R?(0,j.jsx)("p",{children:null===q||void 0===q||null===(g=q.patientPharmacyData)||void 0===g?void 0:g.country}):(0,j.jsx)(H.Z.Control,{type:"text",placeholder:"County",...ee("country"),defaultValue:null!==(f=null===q||void 0===q||null===(N=q.patientPharmacyData)||void 0===N?void 0:N.country)&&void 0!==f?f:"",readOnly:(null===q||void 0===q||null===(b=q.patientPharmacyData)||void 0===b||!b.country||!R)&&!(null===q||void 0===q||null===(D=q.patientPharmacyData)||void 0===D||!D.country),className:"".concat(!(null!==q&&void 0!==q&&q.allPatientPharmacyData)&&"bg-transparent"),maxLength:250,disabled:!(null!==q&&void 0!==q&&q.allPatientPharmacyData)})]}),(0,j.jsxs)(H.Z.Group,{children:[(0,j.jsx)(H.Z.Label,{className:"fw-bold mt-2",children:"Pharmacy Email"}),null!==q&&void 0!==q&&null!==(I=q.patientPharmacyData)&&void 0!==I&&I.pharmacyEmail&&!R?(0,j.jsx)("p",{children:null===q||void 0===q||null===(w=q.patientPharmacyData)||void 0===w?void 0:w.pharmacyEmail}):(0,j.jsx)(H.Z.Control,{type:"email",placeholder:"Pharmacy Email",...ee("pharmacyEmail"),defaultValue:null!==(S=null===q||void 0===q||null===(Z=q.patientPharmacyData)||void 0===Z?void 0:Z.pharmacyEmail)&&void 0!==S?S:"",maxLength:250})]}),(!(null!==q&&void 0!==q&&null!==(C=q.patientPharmacyData)&&void 0!==C&&C.pharmacyId)||R||!(null!==q&&void 0!==q&&null!==(E=q.patientPharmacyData)&&void 0!==E&&E.pharmacyEmail))&&(0,j.jsxs)(r.Z,{className:"px-3 mt-3 primary_bg float-right",size:"sm",type:"submit",children:[null!==q&&void 0!==q&&null!==(k=q.patientPharmacyData)&&void 0!==k&&k.pharmacyId||null===q||void 0===q||null===(A=q.patientPharmacyData)||void 0===A||!A.pharmacyEmail?"Update ":"Add ","Pharmacy"]})]})})}),(0,j.jsx)(B.c,{show:U,onHide:()=>J(!1),heading:"Delete Pharmacy",title:"this pharmacy",removeFunc:function(){const e={patientId:T};se((0,L.ai)({finalData:e,onCreateSuccess:le}))}})]})}function W(){var e,n,t,r,h,u,m,p,v,x,y,g,f,N,b;const{patientAppointedDetail:D}=(0,P.v9)((e=>e.appointment)),I=JSON.parse(localStorage.getItem("slotDescription")),w=(0,P.I0)();return(0,i.useEffect)((()=>{const e={patientId:null===I||void 0===I?void 0:I.patientId,appointmentId:null===I||void 0===I?void 0:I.appointmentId};w((0,Z.gS)(e))}),[w,null===I||void 0===I?void 0:I.appointmentId,null===I||void 0===I?void 0:I.patientId]),(0,i.useEffect)((()=>{const e={patientId:null===I||void 0===I?void 0:I.patientId};w((0,L.jX)(e))}),[w,null===I||void 0===I?void 0:I.patientId]),(0,i.useEffect)((()=>{const e={appointmentId:null===I||void 0===I?void 0:I.appointmentId};w((0,A.kU)(e))}),[w,null===I||void 0===I?void 0:I.appointmentId]),(0,i.useEffect)((()=>{w((0,L.VT)({pharmacyName:null,pharmacyLocation:null}))}),[w]),(0,j.jsx)("div",{className:"p-4 consultation-main vh-100",children:(0,j.jsxs)(a.Z,{children:[(0,j.jsx)(s.Z,{xl:3,lg:4,md:4,xs:12,className:"h-100 mb-3",children:(0,j.jsx)(k.Z,{name:"".concat(null===D||void 0===D||null===(e=D.detailDTO)||void 0===e?void 0:e.firstName," ").concat(null===D||void 0===D||null===(n=D.detailDTO)||void 0===n?void 0:n.lastName),genderInfo:"true",gender:null===D||void 0===D||null===(t=D.detailDTO)||void 0===t?void 0:t.gender,dobInfo:"true",dob:null===D||void 0===D||null===(r=D.detailDTO)||void 0===r?void 0:r.dob,currentLocationInfo:"true",currentLocation:null===D||void 0===D||null===(h=D.detailDTO)||void 0===h?void 0:h.currentAddress,patientLocalGPInfo:"true",patientLocalGP:null===D||void 0===D||null===(u=D.detailDTO)||void 0===u?void 0:u.patientLocalGP,emailInfo:"true",email:null===D||void 0===D||null===(m=D.detailDTO)||void 0===m?void 0:m.email,phoneInfo:"true",phone:null===D||void 0===D||null===(p=D.detailDTO)||void 0===p?void 0:p.phoneNumber,image:null===D||void 0===D||null===(v=D.detailDTO)||void 0===v?void 0:v.imageUrl})}),(0,j.jsx)(s.Z,{xl:6,lg:8,md:8,xs:12,className:"mb-3 bg-white px-0",style:{height:"50rem"},children:(0,j.jsx)(o.Z,{className:"tele-consultation-tabs",children:(0,j.jsx)(o.Z.Body,{className:"p-0",children:(0,j.jsx)(l.Z,{defaultActiveKey:"videoAppointment",id:"uncontrolled-tab-example",children:(0,j.jsx)(c.Z,{eventKey:"videoAppointment",title:"Appointment",children:(0,j.jsx)(E,{slotDescription:I})})})})})}),(0,j.jsx)(s.Z,{xl:3,lg:6,md:12,xs:12,className:"mb-3",children:(0,j.jsx)(o.Z,{className:"tele-consultation-accordion h-100",children:(0,j.jsx)(o.Z.Body,{children:(0,j.jsxs)("div",{style:{height:"48rem",overflowY:"scroll"},children:[(0,j.jsxs)(d.Z,{defaultActiveKey:"0",children:[(0,j.jsxs)(d.Z.Item,{eventKey:"0",className:"my-3",children:[(0,j.jsx)(d.Z.Header,{children:(0,j.jsx)("h5",{className:"mb-0",children:"Past Medical History"})}),(0,j.jsx)(d.Z.Body,{className:"py-4",children:null!==D&&void 0!==D&&null!==(x=D.patientHistory)&&void 0!==x&&x.pastMedicalHistory?null===D||void 0===D||null===(y=D.patientHistory)||void 0===y?void 0:y.pastMedicalHistory:"N/A"})]}),(0,j.jsxs)(d.Z.Item,{eventKey:"1",className:"my-3",children:[(0,j.jsx)(d.Z.Header,{children:(0,j.jsx)("h5",{className:"mb-0",children:"Current Medications"})}),(0,j.jsx)(d.Z.Body,{className:"py-4",children:null!==D&&void 0!==D&&null!==(g=D.patientHistory)&&void 0!==g&&g.currentMedical?null===D||void 0===D||null===(f=D.patientHistory)||void 0===f?void 0:f.currentMedical:"N/A"})]}),(0,j.jsxs)(d.Z.Item,{eventKey:"2",className:"my-3",children:[(0,j.jsx)(d.Z.Header,{children:(0,j.jsx)("h5",{className:"mb-0",children:"Allergy (to any medication)"})}),(0,j.jsx)(d.Z.Body,{className:"py-4",children:null!==D&&void 0!==D&&null!==(N=D.patientHistory)&&void 0!==N&&N.allergyHistory?null===D||void 0===D||null===(b=D.patientHistory)||void 0===b?void 0:b.allergyHistory:"N/A"})]}),(0,j.jsxs)(d.Z.Item,{eventKey:"3",className:"my-3",children:[(0,j.jsx)(d.Z.Header,{children:(0,j.jsx)("h5",{className:"mb-0",children:"Appointment Reason"})}),(0,j.jsx)(d.Z.Body,{className:"py-4",children:null!==I&&void 0!==I&&I.reasonForAppoinment?null===I||void 0===I?void 0:I.reasonForAppoinment:"N/A"})]})]}),(0,j.jsxs)(o.Z,{className:"border",children:[(0,j.jsx)(o.Z.Header,{children:"Pharmacy"}),(0,j.jsx)(o.Z.Body,{children:(0,j.jsx)(K,{})})]})]})})})}),(0,j.jsx)(s.Z,{xl:3,lg:6,md:12,xs:12,className:"mb-3",children:(0,j.jsx)(o.Z,{children:(0,j.jsx)(o.Z.Body,{className:"mx-3",children:(0,j.jsx)(z,{})})})}),(0,j.jsx)(s.Z,{xl:6,lg:12,md:12,xs:12,children:(0,j.jsx)(T.default,{})})]})})}}}]);
//# sourceMappingURL=8893.5966fac2.chunk.js.map