"use strict";(self.webpackChunkfamily_doc_app=self.webpackChunkfamily_doc_app||[]).push([[6979],{38713:(e,l,i)=>{i.d(l,{c:()=>a});i(72791);var t=i(88135),n=i(43360),o=i(39126),s=i(80184);function a(e){return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(t.Z,{show:e.show,onHide:e.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"appointment-modal",children:[(0,s.jsx)(t.Z.Header,{closeButton:!0}),(0,s.jsxs)(t.Z.Body,{children:[(0,s.jsx)("div",{className:"d-flex justify-content-center",children:(0,s.jsx)("div",{className:"p-4 rounded-circle m-auto",style:{background:"#EDEAFD"},children:(0,s.jsx)(o.yvY,{className:"fw-bold",size:"24",style:{color:"#6045EB"}})})}),(0,s.jsx)("h3",{className:"text-center mx-auto mt-4",style:{fontWeight:600},children:e.heading}),(0,s.jsxs)("p",{className:"text-center mt-3 mb-4",children:["Are you sure you want to delete ",e.title,"?"]}),(0,s.jsx)("span",{className:"d-flex justify-content-center",children:(0,s.jsx)(n.Z,{style:{background:"#FD2121",border:"none"},className:"px-4 mb-3",onClick:()=>{e.removeFunc(),e.onHide()},children:"Delete"})})]})]})})}},76364:(e,l,i)=>{i.d(l,{Z:()=>a});var t=i(59434),n=i(72426),o=i.n(n),s=i(80184);const a=function(e){const{medicalCertificateData:l,doctorDetails:i}=e,{detailDTO:n}=(0,t.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointedDetail)||{}})),{getPatientData:a}=(0,t.v9)((e=>e.patient)),d=o()().format("DD/MM/YYYY");return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{children:"FamilyDoc247"}),(0,s.jsx)("h6",{children:"General Practitioner (GP) / Family Physician"}),(0,s.jsx)("h6",{children:"Fitzwilliam Hall, Fitzwilliam Place, Dublin 2"}),(0,s.jsx)("h6",{children:"Tel: +353 1 906 9327"}),(0,s.jsx)("h6",{children:"Email : contact@familydoc247.ie"})]}),(0,s.jsx)("div",{className:"py-4",children:(0,s.jsx)("h1",{align:"center",children:"Medical Certificate"})}),(0,s.jsxs)("div",{className:"d-flex",children:[(0,s.jsx)("span",{className:"font-weight-600 me-5",children:"Re: "}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"mb-0",children:null!==a&&void 0!==a&&a.firstName?null===a||void 0===a?void 0:a.firstName:(null===n||void 0===n?void 0:n.firstName)+" "+(null===a||void 0===a?void 0:a.lastName)?null===a||void 0===a?void 0:a.lastName:null===n||void 0===n?void 0:n.lastName}),(0,s.jsx)("p",{children:null!==a&&void 0!==a&&a.currentAddress?null===a||void 0===a?void 0:a.currentAddress:null===n||void 0===n?void 0:n.currentAddress})]})]}),(0,s.jsxs)("div",{className:"d-flex",children:[(0,s.jsx)("span",{className:"font-weight-600 me-4",children:"Date: "}),(0,s.jsx)("p",{className:"pb-4 me-0",children:d})]}),(0,s.jsxs)("p",{className:"py-3",children:["This is to certify in my opinion that the above named patient is/was suffering from ",null===l||void 0===l?void 0:l.sufferingFrom]}),(0,s.jsx)("div",{className:"pt-2 pb-4 d-flex",children:(0,s.jsxs)("p",{children:["And is ",(0,s.jsx)("span",{className:"font-weight-600",children:"unable"})," to attend"," ",null===l||void 0===l?void 0:l.unabletoAttendField]})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"font-weight-600",children:"From: "}),o()(null===l||void 0===l?void 0:l.fromDate).format("DD-MM-YYYY")?o()(null===l||void 0===l?void 0:l.fromDate).format("DD-MM-YYYY"):"N/A"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"font-weight-600",children:"To: "}),o()(null===l||void 0===l?void 0:l.toDate).format("DD-MM-YYYY")?o()(null===l||void 0===l?void 0:l.toDate).format("DD-MM-YYYY"):"N/A"]})]}),(0,s.jsxs)("div",{className:"pt-4",children:[(0,s.jsxs)("p",{className:"mb-0",children:["Dr ",null!==i&&void 0!==i&&i.doctor?null===i||void 0===i?void 0:i.doctor:"N/A"]}),(0,s.jsxs)("p",{children:["MCRN ",null!==i&&void 0!==i&&i.mcrn?null===i||void 0===i?void 0:i.mcrn:"N/A"]})]})]})}},52802:(e,l,i)=>{i.d(l,{Z:()=>o});var t=i(59434),n=i(80184);const o=function(e){var l;const{prescriptionData:i}=e,{getUserData:o}=(0,t.v9)((e=>e.userRole));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h1",{children:"FamilyDoc247"}),(0,n.jsx)("h6",{children:"General Practitioner (GP) / Family Physician"}),(0,n.jsx)("h6",{children:"Fitzwilliam Hall, Fitzwilliam Place, Dublin 2"}),(0,n.jsx)("h6",{children:"Tel: +353 1 906 9327"}),(0,n.jsx)("h6",{children:"Email : familydoc.gp@healthmail.ie"})]}),(0,n.jsx)("div",{className:"pdf-table",children:(null===i||void 0===i||null===(l=i.medicineList)||void 0===l?void 0:l.length)>0?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"my-5",children:[(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Medicine"}),(0,n.jsx)("th",{children:"Formulation"}),(0,n.jsx)("th",{children:"Dose"}),(0,n.jsx)("th",{children:"Frequency"}),(0,n.jsx)("th",{children:"Duration"})]})}),(0,n.jsx)("tbody",{children:null===i||void 0===i?void 0:i.medicineList.map(((e,l)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.medicineName}),(0,n.jsx)("td",{children:e.formulation}),(0,n.jsx)("td",{children:e.dose}),(0,n.jsx)("td",{children:e.doseFrequency}),(0,n.jsx)("td",{children:e.quantity})]},l)))})]}),(0,n.jsxs)("div",{className:"mt-4 mb-5",children:[(0,n.jsx)("h5",{children:"Notes:"}),(0,n.jsx)("ul",{children:null===i||void 0===i?void 0:i.medicineList.map(((e,l)=>(0,n.jsx)("li",{children:e.note},l)))})]})]})}):(0,n.jsx)("p",{children:"No Record Found"})}),(0,n.jsxs)("p",{className:"mb-0",children:["Dr"," ",null!==i&&void 0!==i&&i.doctorName?null===i||void 0===i?void 0:i.doctorName:null!==o&&void 0!==o&&o.name?null===o||void 0===o?void 0:o.name:"N/A"]}),(0,n.jsxs)("p",{children:["MCRN"," ",null!==i&&void 0!==i&&i.mcrn?null===i||void 0===i?void 0:i.mcrn:null!==o&&void 0!==o&&o.mcrn?null===o||void 0===o?void 0:o.mcrn:"N/A"]})]})}},66979:(e,l,i)=>{i.r(l),i.d(l,{default:()=>ie});var t=i(72791),n=i(47022),o=i(89743),s=i(2677),a=i(36638),d=i(95070),r=i(69764),c=i(43360),m=i(88135),u=i(4053),p=(i(68639),i(95758),i(3810)),v=(i(67758),i(57689)),x=i(59513),h=i.n(x),f=i(39126),j=i(27012),g=i(78820),N=i(56355),b=i(72426),y=i.n(b),D=i(59434),Z=i(23196),I=i(61134),C=i(80184);function A(e){var l,i,n,d,r,m,u,p,v,x,b,A,F,w,S,H,k,L,P,T,M,z,O,V,G,Y,q,E,R,W,B,Q;let{checkedApt:_,setInputFieldValues:J,inputFieldValues:U}=e;const{register:K,handleSubmit:X,reset:$}=(0,I.cI)(),ee=JSON.parse(localStorage.getItem("slotDescription")),[le,ie]=(0,t.useState)(null),[te,ne]=(0,t.useState)(null),[oe,se]=(0,t.useState)(!1),[ae,de]=(0,t.useState)(""),[re]=(0,t.useState)(1e3),ce=(0,D.I0)(),me=(0,D.v9)((e=>{var l,i;return null===e||void 0===e||null===(l=e.appointmentDetails)||void 0===l||null===(i=l.createAppointmentDetails)||void 0===i?void 0:i.data})),ue=(0,D.v9)((e=>{var l;return null===e||void 0===e||null===(l=e.appointmentDetails)||void 0===l?void 0:l.getAptDetails})),pe=e=>l=>{J((i=>({...i,[e]:l.target.value})))},ve=re-ae.length;(0,t.useEffect)((()=>{const e={appointmentId:null===ee||void 0===ee?void 0:ee.appointmentId};ce((0,Z.mQ)(e))}),[ce,null===ee||void 0===ee?void 0:ee.appointmentId]);const xe=e=>{const l={appointmentId:null===ee||void 0===ee?void 0:ee.appointmentId};ce((0,Z.mQ)(l)),se(!1),$()};return console.log("appointmentDetails",me),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("span",{className:"d-flex justify-content-end",children:!1===oe&&(null===ue||void 0===ue?void 0:ue.data)&&(0,C.jsxs)(c.Z,{className:"edit-btn py-1 px-3 d-flex align-items-center",onClick:()=>{se(!0)},children:[(0,C.jsx)(N.ffH,{}),(0,C.jsx)("p",{className:"mb-0 ps-2",children:"Edit"})]})}),(0,C.jsx)(a.Z,{onSubmit:X((function(e){var l,i;const t={appointmentDetailId:null!==me&&void 0!==me&&me.appointmentDetailId?null===me||void 0===me?void 0:me.appointmentDetailId:null!==ue&&void 0!==ue&&null!==(l=ue.data)&&void 0!==l&&l.appointmentDetailId?null===ue||void 0===ue||null===(i=ue.data)||void 0===i?void 0:i.appointmentDetailId:0,appointmentId:null===ee||void 0===ee?void 0:ee.appointmentId,presentingComplaint:e.presentingComplaint?e.presentingComplaint:null!==me&&void 0!==me&&me.presentingComplaint?null===me||void 0===me?void 0:me.presentingComplaint:"",historyOfPresentingComplaint:e.presentingComplaint?e.presentingComplaint:null!==me&&void 0!==me&&me.presentingComplaint?null===me||void 0===me?void 0:me.presentingComplaint:"",pastMedicalHistory:e.pastMedicalHistory?e.pastMedicalHistory:null!==me&&void 0!==me&&me.pastMedicalHistory?null===me||void 0===me?void 0:me.pastMedicalHistory:"",medications:e.medications?e.medications:null!==me&&void 0!==me&&me.medications?null===me||void 0===me?void 0:me.medications:"",allergies:e.allergies?e.allergies:null!==me&&void 0!==me&&me.allergies?null===me||void 0===me?void 0:me.allergies:"",familyHistory:e.familyHistory?e.familyHistory:null!==me&&void 0!==me&&me.familyHistory?null===me||void 0===me?void 0:me.familyHistory:"",socialHistory:e.socialHistory?e.socialHistory:null!==me&&void 0!==me&&me.socialHistory?null===me||void 0===me?void 0:me.socialHistory:"",suspectedDiagnosis:null!==e&&void 0!==e&&e.suspectedDiagnosis?null===e||void 0===e?void 0:e.suspectedDiagnosis:null!==me&&void 0!==me&&me.suspectedDiagnosis?null===me||void 0===me?void 0:me.suspectedDiagnosis:"",recommendedActions:null!==e&&void 0!==e&&e.recommendedActions?null===e||void 0===e?void 0:e.recommendedActions:null!==me&&void 0!==me&&me.recommendedActions?null===me||void 0===me?void 0:me.recommendedActions:"",signOff:null!==e&&void 0!==e&&e.signOff?null===e||void 0===e?void 0:e.signOff:null!==me&&void 0!==me&&me.signOff?null===me||void 0===me?void 0:me.signOff:"",appointmentAttended:!0===_,failuretoattendnotes:null!==e&&void 0!==e&&e.failuretoattendnotes?null===e||void 0===e?void 0:e.failuretoattendnotes:null!==me&&void 0!==me&&me.failuretoattendnotes?null===me||void 0===me?void 0:me.failuretoattendnotes:""};null!==ue&&void 0!==ue&&ue.data?ce((0,Z.gx)({finalData:t,onCreateSuccess:xe})):ce((0,Z.rp)({finalData:t,onCreateSuccess:xe}))})),children:(0,C.jsxs)(o.Z,{children:[!_||null!==ue&&void 0!==ue&&null!==(l=ue.data)&&void 0!==l&&l.failuretoattendnotes?(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(s.Z,{xs:12,children:(0,C.jsxs)(a.Z.Group,{style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Failure to attend notes"}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:5,placeholder:"Add notes for failure to attend",className:"pt-2 ".concat(oe&&"bg-transparent"),...K("failuretoattendnotes",{required:!0}),onChange:e=>{de(e.target.value)},isInvalid:ae.length>re,style:{height:"200px",whiteSpace:"pre-wrap"},maxLength:250,defaultValue:null!==(R=null===ue||void 0===ue||null===(W=ue.data)||void 0===W?void 0:W.failuretoattendnotes)&&void 0!==R?R:"",readOnly:(null===ue||void 0===ue||null===(B=ue.data)||void 0===B||!B.failuretoattendnotes||!oe)&&!(null===ue||void 0===ue||null===(Q=ue.data)||void 0===Q||!Q.failuretoattendnotes)}),(0,C.jsxs)("span",{className:"mt-3 float-right",bg:"".concat(ae.length>re?"danger":"primary"),children:["Remaining characters ",ve]})]})})}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(s.Z,{xs:6,className:"pe-0",children:[(0,C.jsx)("p",{className:"mb-2",style:{fontSize:"18px",fontWeight:500},children:"Appointment Date"}),(0,C.jsxs)("span",{className:"d-flex",children:[(0,C.jsx)(h(),{selected:ee&&new Date(ee.appointmentDate),onChange:e=>ie(e),dateFormat:"dd MMM yyyy",placeholderText:"23 Jan 2023",className:"custom-field-picker py-2 px-3 w-100 bg-transparent",disabled:!0}),(0,C.jsx)(f.zlR,{className:"custom-date-icon",size:18,style:{top:"12px",right:"34px"}})]})]}),(0,C.jsxs)(s.Z,{xs:6,className:"ps-0",children:[(0,C.jsx)("p",{className:"mb-2",style:{fontSize:"18px",fontWeight:500},children:"Appointment Time"}),(0,C.jsx)("div",{className:"time-picker",children:(0,C.jsx)(j.Z,{value:null===ee||void 0===ee?void 0:ee.appointmentStartTime,onChange:e=>{ne(e)},name:"appointmentTime",format:"HH:mm",clearIcon:null,disabled:!0,disableClock:!1,clockIcon:(0,C.jsx)(g.Gtc,{style:{color:"#999999"},size:16}),renderValue:e=>y()(e,"HH:mm").locale("en-gb").format("h:mm A"),className:"w-100 custom-field-picker py-2 px-3 bg-transparent"})})]}),(0,C.jsx)(s.Z,{xs:12,children:(0,C.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsxs)(a.Z.Label,{className:"mb-0",children:["Presenting Complaint",(0,C.jsx)("span",{style:{color:"#FF3A3A"},children:"*"})]}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:1,placeholder:"Tiredness",className:"pt-2 ".concat(oe&&"bg-transparent"),...K("presentingComplaint"),name:"presentingComplaint",defaultValue:(null===U||void 0===U?void 0:U.presentingComplaint)||(null===ue||void 0===ue||null===(i=ue.data)||void 0===i?void 0:i.presentingComplaint),onChange:pe("presentingComplaint"),maxLength:250,required:!0,readOnly:(null===ue||void 0===ue||null===(n=ue.data)||void 0===n||!n.presentingComplaint||!oe)&&!(null===ue||void 0===ue||null===(d=ue.data)||void 0===d||!d.presentingComplaint)})]})}),(0,C.jsx)(s.Z,{xs:12,children:(0,C.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsxs)(a.Z.Label,{className:"mb-0",children:["Past Medical History",(0,C.jsx)("span",{style:{color:"#FF3A3A"},children:"*"})]}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about past medical history",className:"pt-2 ".concat(oe&&"bg-transparent"),...K("pastMedicalHistory"),name:"pastMedicalHistory",defaultValue:(null===U||void 0===U?void 0:U.pastMedicalHistory)||(null===ue||void 0===ue||null===(r=ue.data)||void 0===r?void 0:r.pastMedicalHistory),onChange:pe("pastMedicalHistory"),readOnly:(null===ue||void 0===ue||null===(m=ue.data)||void 0===m||!m.pastMedicalHistory||!oe)&&!(null===ue||void 0===ue||null===(u=ue.data)||void 0===u||!u.pastMedicalHistory),maxLength:250,required:!0})]})}),(0,C.jsx)(s.Z,{xs:12,children:(0,C.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsxs)(a.Z.Label,{className:"mb-0",children:["Medications",(0,C.jsx)("span",{style:{color:"#FF3A3A"},children:"*"})]}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about past medical history",className:"pt-2 ".concat(oe&&"bg-transparent"),...K("medications"),name:"medications",defaultValue:(null===U||void 0===U?void 0:U.medications)||(null===ue||void 0===ue||null===(p=ue.data)||void 0===p?void 0:p.medications),onChange:pe("medications"),readOnly:(null===ue||void 0===ue||null===(v=ue.data)||void 0===v||!v.medications||!oe)&&!(null===ue||void 0===ue||null===(x=ue.data)||void 0===x||!x.medications),maxLength:250,required:!0})]})}),(0,C.jsx)(s.Z,{xs:12,children:(0,C.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsxs)(a.Z.Label,{className:"mb-0",children:["Allergies",(0,C.jsx)("span",{style:{color:"#FF3A3A"},children:"*"})]}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about allergy history",className:"pt-2 ".concat(oe&&"bg-transparent"),...K("allergies"),name:"allergies",defaultValue:(null===U||void 0===U?void 0:U.allergies)||(null===ue||void 0===ue||null===(b=ue.data)||void 0===b?void 0:b.allergies),onChange:pe("allergies"),readOnly:(null===ue||void 0===ue||null===(A=ue.data)||void 0===A||!A.allergies||!oe)&&!(null===ue||void 0===ue||null===(F=ue.data)||void 0===F||!F.allergies),maxLength:250,required:!0})]})}),(0,C.jsx)(s.Z,{xs:12,children:(0,C.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsxs)(a.Z.Label,{className:"mb-0",children:["Family History",(0,C.jsx)("span",{style:{color:"#FF3A3A"},children:"*"})]}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about family history",className:"pt-2 ".concat(oe&&"bg-transparent"),...K("familyHistory"),name:"familyHistory",defaultValue:(null===U||void 0===U?void 0:U.familyHistory)||(null===ue||void 0===ue||null===(w=ue.data)||void 0===w?void 0:w.familyHistory),onChange:pe("familyHistory"),readOnly:(null===ue||void 0===ue||null===(S=ue.data)||void 0===S||!S.familyHistory||!oe)&&!(null===ue||void 0===ue||null===(H=ue.data)||void 0===H||!H.familyHistory),maxLength:250,required:!0})]})}),(0,C.jsx)(s.Z,{xs:12,children:(0,C.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsxs)(a.Z.Label,{className:"mb-0",children:["Social History",(0,C.jsx)("span",{style:{color:"#FF3A3A"},children:"*"})]}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about social history",className:"pt-2 ".concat(oe&&"bg-transparent"),...K("socialHistory"),name:"socialHistory",defaultValue:(null===U||void 0===U?void 0:U.socialHistory)||(null===ue||void 0===ue||null===(k=ue.data)||void 0===k?void 0:k.socialHistory),onChange:pe("socialHistory"),readOnly:(null===ue||void 0===ue||null===(L=ue.data)||void 0===L||!L.socialHistory||!oe)&&!(null===ue||void 0===ue||null===(P=ue.data)||void 0===P||!P.socialHistory),maxLength:250,required:!0})]})}),(0,C.jsx)(s.Z,{xs:12,children:(0,C.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsxs)(a.Z.Label,{className:"mb-0",children:["Suspected Diagnosis",(0,C.jsx)("span",{style:{color:"#FF3A3A"},children:"*"})]}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about suspected diagnosis",className:"pt-2 ".concat(oe&&"bg-transparent"),...K("suspectedDiagnosis"),name:"suspectedDiagnosis",defaultValue:(null===U||void 0===U?void 0:U.suspectedDiagnosis)||(null===ue||void 0===ue||null===(T=ue.data)||void 0===T?void 0:T.suspectedDiagnosis),onChange:pe("suspectedDiagnosis"),readOnly:(null===ue||void 0===ue||null===(M=ue.data)||void 0===M||!M.suspectedDiagnosis||!oe)&&!(null===ue||void 0===ue||null===(z=ue.data)||void 0===z||!z.suspectedDiagnosis),maxLength:250,required:!0})]})}),(0,C.jsx)(s.Z,{xs:12,children:(0,C.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsxs)(a.Z.Label,{className:"mb-0",children:["Recommended Actions",(0,C.jsx)("span",{style:{color:"#FF3A3A"},children:"*"})]}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about some recommended actions",className:"pt-2 ".concat(oe&&"bg-transparent"),...K("recommendedActions"),name:"recommendedActions",defaultValue:(null===U||void 0===U?void 0:U.recommendedActions)||(null===ue||void 0===ue||null===(O=ue.data)||void 0===O?void 0:O.recommendedActions),onChange:pe("recommendedActions"),readOnly:(null===ue||void 0===ue||null===(V=ue.data)||void 0===V||!V.recommendedActions||!oe)&&!(null===ue||void 0===ue||null===(G=ue.data)||void 0===G||!G.recommendedActions),maxLength:250,required:!0})]})}),(0,C.jsx)(s.Z,{xs:12,children:(0,C.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsxs)(a.Z.Label,{className:"mb-0",children:["Sign off",(0,C.jsx)("span",{style:{color:"#FF3A3A"},children:"*"})]}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"",className:"pt-2 ".concat(oe&&"bg-transparent"),...K("signOff"),name:"signOff",defaultValue:(null===U||void 0===U?void 0:U.signOff)||(null===ue||void 0===ue||null===(Y=ue.data)||void 0===Y?void 0:Y.signOff),onChange:pe("signOff"),readOnly:(null===ue||void 0===ue||null===(q=ue.data)||void 0===q||!q.signOff||!oe)&&!(null===ue||void 0===ue||null===(E=ue.data)||void 0===E||!E.signOff),maxLength:250,required:!0})]})})]}),(!(null!==ue&&void 0!==ue&&ue.data)||!0===oe)&&(0,C.jsx)(s.Z,{xs:12,children:(0,C.jsx)(c.Z,{className:"mt-4 start-apt-btn float-right",type:"submit",children:"Save"})})]})})]})}var F=i(29546),w=i(1444),S=i(17425),H=i(38713),k=i(45225),L=i(63524),P=i(76364);function T(){var e,l;const i=JSON.parse(localStorage.getItem("slotDescription")),{register:n,handleSubmit:d,reset:r,setValue:m}=(0,I.cI)(),[u,p]=(0,t.useState)(!1),v=(0,t.useRef)(null),[x,h]=(0,t.useState)(),[j,g]=(0,t.useState)(!1),[b,A]=(0,t.useState)(!1),{getMediCertificate:T}=(0,D.v9)((e=>null===e||void 0===e?void 0:e.appointmentDetails)),M=(0,D.I0)();(0,t.useEffect)((()=>{null!==T&&void 0!==T&&T.unabletoAttendField&&m("unabletoAttendField",null===T||void 0===T?void 0:T.unabletoAttendField)}),[null===T||void 0===T?void 0:T.unabletoAttendField,m]),(0,t.useEffect)((()=>{const e={appointmentId:null===i||void 0===i?void 0:i.appointmentId};M((0,Z.qk)(e))}),[M,null===i||void 0===i?void 0:i.appointmentId]);const z=()=>{const e={appointmentId:null===i||void 0===i?void 0:i.appointmentId};M((0,Z.qk)(e)),p(!1)};return console.log("getMediCertificate",T),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(a.Z,{onSubmit:d((function(e){const l={medicalCertificateId:null!==T&&void 0!==T&&T.medicalCertificateId?null===T||void 0===T?void 0:T.medicalCertificateId:0,appointmentId:null===i||void 0===i?void 0:i.appointmentId,fromDate:null===e||void 0===e?void 0:e.fromDate,toDate:null===e||void 0===e?void 0:e.toDate,name:e.name,unabletoAttendField:e.unabletoAttendField,pdfFile:null,sufferingFrom:null===e||void 0===e?void 0:e.name,showMedicalCertificate:j,isPatient:!1};null!==T&&void 0!==T&&T.name?M((0,Z.T_)({finalData:l,onCreateSuccess:z})):M((0,Z._d)({finalData:l,onCreateSuccess:z}))})),className:"med-certificate",children:(0,C.jsxs)(o.Z,{children:[(0,C.jsxs)(s.Z,{md:12,className:"d-flex justify-content-between",children:[(0,C.jsx)(a.Z.Check,{type:"checkbox",id:"show-medical-certificate",label:"Show to Patient",onChange:()=>{g(!j)},disabled:!(!0===(null===T||void 0===T?void 0:T.showMedicalCertificate)&&u||!1===(null===T||void 0===T?void 0:T.showMedicalCertificate)&&u)&&!(null===T||void 0===T||!T.medicalCertificateId),defaultChecked:null!==(e=null===T||void 0===T?void 0:T.showMedicalCertificate)&&void 0!==e?e:""}),(null===T||void 0===T?void 0:T.name)&&!1===u&&(0,C.jsx)(F.Z,{id:"dropdown-item-button",title:(0,C.jsx)(f.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,C.jsxs)("div",{className:"set-dropdown-menu",children:[(0,C.jsxs)(w.Z.Item,{className:"d-flex align-items-center",onClick:()=>{p(!0)},children:[(0,C.jsx)(N.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,C.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},children:"Edit"})]}),(0,C.jsx)(w.Z.Item,{className:"d-flex align-items-center",children:(0,C.jsx)(k.ZP,{trigger:(0,C.jsxs)("button",{ref:v,className:"bg-transparent border-0 p-0",children:[(0,C.jsx)(L.bAs,{size:20})," Download PDF"]}),children:(0,C.jsx)(P.Z,{MedicalCertificateData:T})})}),(0,C.jsxs)(w.Z.Item,{className:"d-flex align-items-center",onClick:()=>{h(null===T||void 0===T?void 0:T.medicalCertificateId),A(!0)},children:[(0,C.jsx)(S.w6k,{size:18,style:{color:"#FD2121"}}),(0,C.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#FD2121"},children:"Remove"})]})]})})]}),(0,C.jsx)(s.Z,{lg:6,xs:12,children:(0,C.jsxs)(a.Z.Group,{children:[(0,C.jsx)(a.Z.Label,{children:"From"}),(0,C.jsx)(a.Z.Control,{type:"date",placeholderText:"DD / MM / YY",className:"custom-date",defaultValue:y()(null===T||void 0===T?void 0:T.fromDate).format("DD-MM-YYYY"),disabled:(null===T||void 0===T||!T.fromDate||!u)&&!(null===T||void 0===T||!T.fromDate),name:"fromDate",...n("fromDate",{required:!0})})]})}),(0,C.jsx)(s.Z,{lg:6,xs:12,children:(0,C.jsxs)(a.Z.Group,{controlId:"",children:[(0,C.jsx)(a.Z.Label,{className:"",children:"To"}),(0,C.jsx)(a.Z.Control,{type:"date",placeholderText:"DD / MM / YY",className:"custom-date",defaultValue:y()(null===T||void 0===T?void 0:T.toDate).format("DD-MM-YYYY"),disabled:(null===T||void 0===T||!T.toDate||!u)&&!(null===T||void 0===T||!T.toDate),name:"toDate",...n("toDate",{required:!0})})]})}),(0,C.jsx)(s.Z,{xs:12,children:(0,C.jsxs)(a.Z.Group,{className:"my-3",controlId:"unable-to-attend",children:[(0,C.jsx)(a.Z.Label,{children:"Unable to Attend"}),(0,C.jsxs)(a.Z.Select,{"aria-label":"Select Unable to Attend",...n("unabletoAttendField",{required:!0}),disabled:(null===T||void 0===T||!T.unabletoAttendField||!u)&&!(null===T||void 0===T||!T.unabletoAttendField),children:[(0,C.jsx)("option",{value:"",children:"Select Value"}),(0,C.jsx)("option",{value:"work",children:"Work"}),(0,C.jsx)("option",{value:"school",children:"School"}),(0,C.jsx)("option",{value:"college",children:"College"}),(0,C.jsx)("option",{value:"jury duty",children:"Jury Duty"})]})]})}),(0,C.jsx)(s.Z,{xs:12,children:(0,C.jsxs)(a.Z.Group,{className:"mb-3",controlId:"suffering-from",children:[(0,C.jsx)(a.Z.Label,{className:"label-primary",children:"Suffering From"}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:3,className:"".concat((u||(null===T||void 0===T?void 0:T.name))&&"bg-transparent"),placeholder:"Tell about some medical certificate",...n("name",{required:!0}),defaultValue:null!==(l=null===T||void 0===T?void 0:T.name)&&void 0!==l?l:"",readOnly:(null===T||void 0===T||!T.name||!u)&&!(null===T||void 0===T||!T.name),maxLength:250})]})}),(0,C.jsx)(s.Z,{xs:3,className:"w-100",children:(!(null!==T&&void 0!==T&&T.name)||!0===u)&&(0,C.jsx)(c.Z,{className:"mt-2 mb-3 start-apt-btn float-right",type:"submit",children:"Save"})})]})}),(0,C.jsx)(H.c,{show:b,onHide:()=>A(!1),heading:"Delete Medical Certificate",title:"this medical certificate",removeFunc:function(){const e={medicalcertificateId:x};M((0,Z.O7)({finalData:e,onCreateSuccess:z})),r()}})]})}var M=i(95985),z=i(24278);function O(){const e=JSON.parse(localStorage.getItem("slotDescription")),{register:l,handleSubmit:i,reset:n}=(0,I.cI)(),[o,s]=(0,t.useState)(),[d,r]=(0,t.useState)(!1),[m,u]=(0,t.useState)(!1),{note:p}=(0,D.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointmentNotes)||{}})),v=(0,D.I0)(),x=(new Date).toISOString().slice(0,19);(0,t.useEffect)((()=>{const l={appointmentId:null===e||void 0===e?void 0:e.appointmentId};v((0,z.zp)(l))}),[v,null===e||void 0===e?void 0:e.appointmentId]);const h=()=>{const l={appointmentId:null===e||void 0===e?void 0:e.appointmentId};v((0,z.zp)(l)),u(!1),n()};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(a.Z,{onSubmit:i((function(l){const i={noteId:null!==p&&void 0!==p&&p.noteId?null===p||void 0===p?void 0:p.noteId:0,patientId:null===e||void 0===e?void 0:e.patientId,doctorId:null===e||void 0===e?void 0:e.doctorId,appointmentId:null===e||void 0===e?void 0:e.appointmentId,noteTypeId:1,note:null===l||void 0===l?void 0:l.note,date:x,showNote:!0,isPatient:!1,appointmentDetail:null!==p&&void 0!==p&&p.note?{appointmentDetailId:0}:null};null!==p&&void 0!==p&&p.note?v((0,M.fW)({finalData:i,moveToNext:h})):v((0,M.K1)({finalData:i,moveToNext:h}))})),children:[(0,C.jsx)(a.Z.Group,{className:"mb-3",controlId:"medicalForm.ControlTextarea1",children:(0,C.jsxs)("span",{className:"d-flex justify-content-between",children:[(0,C.jsx)(a.Z.Control,{as:"textarea",rows:3,className:"".concat((m||(null===p||void 0===p?void 0:p.note))&&"bg-transparent"),placeholder:"Tell about Clinical Notes",...l("note",{required:!0}),defaultValue:(null===p||void 0===p?void 0:p.note)||"",readOnly:(null===p||void 0===p||!p.note||!m)&&!(null===p||void 0===p||!p.note),maxLength:250}),(null===p||void 0===p?void 0:p.note)&&!1===m&&(0,C.jsx)(F.Z,{id:"dropdown-item-button",title:(0,C.jsx)(f.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,C.jsxs)("div",{className:"set-dropdown-menu",children:[(0,C.jsxs)(w.Z.Item,{className:"d-flex align-items-center",onClick:()=>{u(!0)},children:[(0,C.jsx)(N.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,C.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},children:"Edit"})]}),(0,C.jsxs)(w.Z.Item,{className:"d-flex align-items-center",onClick:()=>{s(null===p||void 0===p?void 0:p.noteId),r(!0)},children:[(0,C.jsx)(S.w6k,{size:18,style:{color:"#FD2121"}}),(0,C.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#FD2121"},children:"Remove"})]})]})})]})}),(!(null!==p&&void 0!==p&&p.note)||!0===m)&&(0,C.jsx)(c.Z,{className:"mt-2 mb-3 start-apt-btn float-right",type:"submit",children:"Save"})]}),(0,C.jsx)(H.c,{show:d,onHide:()=>r(!1),heading:"Delete Clinical Notes",title:"this clinical notes",removeFunc:function(){const e={noteId:o};v((0,M.GA)({finalData:e,moveToNext:h}))}})]})}var V=i(80591),G=i(97866);const Y=function(){var e,l,i,t,n,o,s,a,d;const{specialistLetter:r}=(0,D.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointmentNotes)||{}})),{detailDTO:c}=(0,D.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointedDetail)||{}})),{getUserData:m}=(0,D.v9)((e=>e.userRole)),u=y()().format("DD/MM/YYYY");return(0,C.jsxs)("div",{className:"mb-5",children:[(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsx)("h1",{children:"FamilyDoc247"}),(0,C.jsx)("h6",{children:"General Practitioner (GP) / Family Physician"}),(0,C.jsx)("h6",{children:"Fitzwilliam Hall, Fitzwilliam Place, Dublin 2"}),(0,C.jsx)("h6",{children:"Tel: +353 1 906 9327"}),(0,C.jsx)("h6",{children:"Email : contact@familydoc247.ie"})]}),(0,C.jsx)("p",{className:"my-5",children:u}),(0,C.jsxs)("p",{className:"mb-5",children:[(0,C.jsx)("span",{className:"font-weight-600",children:"To: "}),null===r||void 0===r?void 0:r.toDoctor]}),(0,C.jsxs)("div",{children:[(0,C.jsxs)("p",{children:["Re: ",null!==r&&void 0!==r&&r.patient?null===r||void 0===r?void 0:r.patient:"N/A",","," ",null!==c&&void 0!==c&&c.currentAddress?null===c||void 0===c?void 0:c.currentAddress:"N/A"]}),(0,C.jsxs)("p",{children:["DOB:"," ",y()(null!==c&&void 0!==c&&c.dob?null===c||void 0===c?void 0:c.dob:"N/A").format("MM/DD/YYYY"),", Tel: ",null!==c&&void 0!==c&&c.phoneNumber?null===c||void 0===c?void 0:c.phoneNumber:"N/A"]})]}),(0,C.jsx)("p",{className:"mt-5",children:"Dear Doctor,"}),(0,C.jsx)("p",{children:"I would appreciate if you could see above-named patient."}),(0,C.jsxs)("div",{className:"mb-5",children:[(null===r||void 0===r?void 0:r.referralNote)&&(0,C.jsxs)("div",{children:[(0,C.jsx)("p",{className:"text-black-50 mb-0",children:"Referral Notes"}),null===r||void 0===r?void 0:r.referralNote]}),(null===r||void 0===r?void 0:r.appointmentDetail)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("p",{className:"text-black-50 mb-0",children:"Presenting Complaint"}),null===r||void 0===r||null===(e=r.appointmentDetail)||void 0===e?void 0:e.presentingComplaint]}),(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("p",{className:"text-black-50 mb-0",children:"Past Medical History"}),null===r||void 0===r||null===(l=r.appointmentDetail)||void 0===l?void 0:l.pastMedicalHistory]}),(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("p",{className:"text-black-50 mb-0",children:"Medications"}),null===r||void 0===r||null===(i=r.appointmentDetail)||void 0===i?void 0:i.medications]}),(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("p",{className:"text-black-50 mb-0",children:"Allergies"}),null===r||void 0===r||null===(t=r.appointmentDetail)||void 0===t?void 0:t.allergies]}),(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("p",{className:"text-black-50 mb-0",children:"Family History"}),null===r||void 0===r||null===(n=r.appointmentDetail)||void 0===n?void 0:n.familyHistory]}),(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("p",{className:"text-black-50 mb-0",children:"Social History"}),null===r||void 0===r||null===(o=r.appointmentDetail)||void 0===o?void 0:o.socialHistory]}),(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("p",{className:"text-black-50 mb-0",children:"Suspected Diagnosis"}),null===r||void 0===r||null===(s=r.appointmentDetail)||void 0===s?void 0:s.suspectedDiagnosis]}),(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("p",{className:"text-black-50 mb-0",children:"Recommended Actions"}),null===r||void 0===r||null===(a=r.appointmentDetail)||void 0===a?void 0:a.recommendedActions]}),(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("p",{className:"text-black-50 mb-0",children:"Sign off"}),null===r||void 0===r||null===(d=r.appointmentDetail)||void 0===d?void 0:d.signOff]})]})]}),(0,C.jsx)("p",{className:"py-3",children:"The above-named patient prefers to see you privately."}),(0,C.jsx)("p",{className:"pb-3",children:"I would appreciate your expert review and further management."}),(0,C.jsx)("p",{className:"pb-2",children:"Yours sincerely,"}),(0,C.jsxs)("p",{className:"mb-0",children:["Dr"," ",null!==m&&void 0!==m&&m.name?null===m||void 0===m?void 0:m.name:"N/A"]}),(0,C.jsxs)("p",{children:["MCRN"," ",null!==m&&void 0!==m&&m.mcrn?null===m||void 0===m?void 0:m.mcrn:"N/A"]})]})};function q(e){var l,i,n,d,r,m,u,p,v,x,h,j,g,b,y,Z,A,P,T,M,O;let{inputFieldValues:V}=e;const{register:q,handleSubmit:E,reset:R}=(0,I.cI)(),W=JSON.parse(localStorage.getItem("slotDescription")),[B,Q]=(0,t.useState)(!1),[_,J]=(0,t.useState)(!0),[U,K]=(0,t.useState)(!1),[X,$]=(0,t.useState)(!1),[ee,le]=(0,t.useState)(!1),[ie,te]=(0,t.useState)(),[ne,oe]=(0,t.useState)(!1),se=(0,t.useRef)(null),ae=(0,D.I0)(),{data:de}=(0,D.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointmentDetails)||void 0===l?void 0:l.getAptDetails)||{}})),{specialistLetter:re}=(0,D.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointmentNotes)||{}})),ce=(0,D.v9)((e=>{var l;return null===e||void 0===e||null===(l=e.appointmentDetails)||void 0===l?void 0:l.getAptDetails})),me=(new Date).toISOString().slice(0,19),ue=()=>{const e={appointmentId:null===W||void 0===W?void 0:W.appointmentId};ae((0,z.zp)(e)),Q(!1),K(!1)};(0,t.useEffect)((()=>{const e={appointmentId:null===W||void 0===W?void 0:W.appointmentId};ae((0,z.zp)(e))}),[ae,null===W||void 0===W?void 0:W.appointmentId]);const pe=()=>{R();const e={appointmentId:null===W||void 0===W?void 0:W.appointmentId};ae((0,z.zp)(e)),le(!1)};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(a.Z,{onSubmit:E((function(e){var l,i;const t={noteId:null!==re&&void 0!==re&&re.noteId?null===re||void 0===re?void 0:re.noteId:0,noteTypeId:2,patientId:null===W||void 0===W?void 0:W.patientId,doctorId:null===W||void 0===W?void 0:W.doctorId,referralNote:ee?null:null===e||void 0===e||null===(l=e.referralNote)||void 0===l?void 0:l.trim(),specialistLetter:e.specialistLetter,referralTypeId:1,toDoctor:e.toDoctor,appointmentId:null===W||void 0===W?void 0:W.appointmentId,showNote:ne,date:me,isPatient:!1,appointmentDetail:ee||null!==re&&void 0!==re&&null!==(i=re.appointmentDetail)&&void 0!==i&&i.appointmentDetailId?{appointmentDetailId:null!==re&&void 0!==re&&re.noteId?null===de||void 0===de?void 0:de.appointmentDetailId:0,appointmentId:null===W||void 0===W?void 0:W.appointmentId,presentingComplaint:null!==e&&void 0!==e&&e.presentingComplaint?null===e||void 0===e?void 0:e.presentingComplaint:null!==V&&void 0!==V&&V.presentingComplaint?null===V||void 0===V?void 0:V.presentingComplaint:null===de||void 0===de?void 0:de.presentingComplaint,historyOfPresentingComplaint:null!==e&&void 0!==e&&e.presentingComplaint?null===e||void 0===e?void 0:e.presentingComplaint:null!==V&&void 0!==V&&V.presentingComplaint?null===V||void 0===V?void 0:V.presentingComplaint:null===de||void 0===de?void 0:de.presentingComplaint,pastMedicalHistory:null!==e&&void 0!==e&&e.pastMedicalHistory?null===e||void 0===e?void 0:e.pastMedicalHistory:null!==V&&void 0!==V&&V.pastMedicalHistory?null===V||void 0===V?void 0:V.pastMedicalHistory:null===de||void 0===de?void 0:de.pastMedicalHistory,medications:null!==e&&void 0!==e&&e.medications?null===e||void 0===e?void 0:e.medications:null!==V&&void 0!==V&&V.medications?null===V||void 0===V?void 0:V.medications:null===de||void 0===de?void 0:de.medications,allergies:null!==e&&void 0!==e&&e.allergies?null===e||void 0===e?void 0:e.allergies:null!==V&&void 0!==V&&V.allergies?null===V||void 0===V?void 0:V.allergies:null===de||void 0===de?void 0:de.allergies,familyHistory:null!==e&&void 0!==e&&e.familyHistory?null===e||void 0===e?void 0:e.familyHistory:null!==V&&void 0!==V&&V.familyHistory?null===V||void 0===V?void 0:V.familyHistory:null===de||void 0===de?void 0:de.familyHistory,socialHistory:null!==e&&void 0!==e&&e.socialHistory?null===e||void 0===e?void 0:e.socialHistory:null!==V&&void 0!==V&&V.socialHistory?null===V||void 0===V?void 0:V.socialHistory:null===de||void 0===de?void 0:de.socialHistory,suspectedDiagnosis:null!==e&&void 0!==e&&e.suspectedDiagnosis?null===e||void 0===e?void 0:e.suspectedDiagnosis:null!==V&&void 0!==V&&V.suspectedDiagnosis?null===V||void 0===V?void 0:V.suspectedDiagnosis:null===de||void 0===de?void 0:de.suspectedDiagnosis,recommendedActions:null!==e&&void 0!==e&&e.recommendedActions?null===e||void 0===e?void 0:e.recommendedActions:null!==V&&void 0!==V&&V.recommendedActions?null===V||void 0===V?void 0:V.recommendedActions:null===de||void 0===de?void 0:de.recommendedActions,signOff:null!==e&&void 0!==e&&e.signOff?null===e||void 0===e?void 0:e.signOff:null!==V&&void 0!==V&&V.signOff?null===V||void 0===V?void 0:V.signOff:null===de||void 0===de?void 0:de.signOff,appointmentAttended:!0,failuretoattendnotes:"",referralTypeId:1,noteId:null!==re&&void 0!==re&&re.noteId?null===re||void 0===re?void 0:re.noteId:0}:null!==re&&void 0!==re&&re.noteId?{appointmentDetailId:0}:null};null!==re&&void 0!==re&&re.noteId?ae((0,G.YY)({finalData:t,onCreateSuccess:ue})):ae((0,G.lU)({finalData:t,onCreateSuccess:ue})),J(!0)})),children:(0,C.jsx)(o.Z,{children:(0,C.jsx)(s.Z,{xs:12,className:"my-3",children:(0,C.jsxs)("div",{style:{background:"#F8F8F8",borderRadius:"5px"},className:"px-3 py-3 h-100",children:[(0,C.jsxs)("span",{className:"d-flex justify-content-between",children:[(0,C.jsx)("p",{className:"referral-main-text",style:{color:"#2269F2"},children:"Specialist Letter"}),(null===re||void 0===re?void 0:re.patientId)&&!1===U&&(0,C.jsx)(F.Z,{id:"dropdown-item-button",title:(0,C.jsx)(f.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,C.jsxs)("div",{className:"set-dropdown-menu",children:[(0,C.jsxs)(w.Z.Item,{className:"d-flex align-items-center",children:[(0,C.jsx)(N.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,C.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},onClick:()=>{Q(!0),K(!0),J(!1)},children:"Edit"})]}),(0,C.jsx)(w.Z.Item,{className:"d-flex align-items-center",children:(0,C.jsx)(k.ZP,{trigger:(0,C.jsxs)("button",{ref:se,className:"bg-transparent border-0 p-0",children:[(0,C.jsx)(L.bAs,{size:20})," Download PDF"]}),children:(0,C.jsx)(Y,{})})}),(0,C.jsxs)(w.Z.Item,{className:"d-flex align-items-center",onClick:()=>{te(null===re||void 0===re?void 0:re.noteId),$(!0)},children:[(0,C.jsx)(S.w6k,{size:18,style:{color:"#FD2121"}}),(0,C.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#FD2121"},children:"Remove"})]})]})})]}),(0,C.jsx)(a.Z.Check,{type:"checkbox",id:"show-speciality-notes",label:"Show to Patient",onChange:()=>oe(!ne),disabled:!(!0===(null===re||void 0===re?void 0:re.showNote)&&U||!1===(null===re||void 0===re?void 0:re.showNote)&&U)&&!(null===re||void 0===re||!re.noteId),defaultChecked:null===re||void 0===re?void 0:re.showNote}),(0,C.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel3",children:[(0,C.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Formulation"}),(0,C.jsx)(a.Z.Control,{type:"text",placeholder:"Tiredness",className:"pt-2 custom-field-picker ".concat(B&&"bg-white"),...q("specialistLetter",{required:!0}),defaultValue:null!==(l=null===re||void 0===re?void 0:re.specialistLetter)&&void 0!==l?l:"",maxLength:250,readOnly:(null===re||void 0===re||!re.specialistLetter||!U)&&!(null===re||void 0===re||!re.specialistLetter)})]}),(0,C.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel3",children:[(0,C.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"To"}),(0,C.jsx)(a.Z.Control,{type:"text",placeholder:"Specialist name",className:"pt-2 custom-field-picker ".concat(B&&"bg-white"),...q("toDoctor",{required:!0}),maxLength:250,defaultValue:null!==(i=null===re||void 0===re?void 0:re.toDoctor)&&void 0!==i?i:"",readOnly:(null===re||void 0===re||!re.toDoctor||!U)&&!(null===re||void 0===re||!re.toDoctor)})]}),(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Referral Notes"}),!1!==ee||null!==re&&void 0!==re&&re.appointmentDetail?"":(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Referral Note",className:"pt-2 custom-field-picker ".concat(B&&"bg-white"),...q("referralNote",{required:!0}),defaultValue:null!==(n=null===re||void 0===re?void 0:re.referralNote)&&void 0!==n?n:"",readOnly:(null===re||void 0===re||!re.referralNote||!U)&&!(null===re||void 0===re||!re.referralNote),maxLength:250})]}),(ee||(null===re||void 0===re?void 0:re.appointmentDetail))&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Presenting Complaint"}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...q("presentingComplaint"),defaultValue:null!==V&&void 0!==V&&V.presentingComplaint?null===V||void 0===V?void 0:V.presentingComplaint:null!==re&&void 0!==re&&null!==(d=re.appointmentDetail)&&void 0!==d&&d.presentingComplaint?null===re||void 0===re||null===(r=re.appointmentDetail)||void 0===r?void 0:r.presentingComplaint:null!==de&&void 0!==de&&de.presentingComplaint?null===de||void 0===de?void 0:de.presentingComplaint:"N/A",disabled:_})]}),(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Past Medical History"}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...q("pastMedicalHistory"),defaultValue:null!==V&&void 0!==V&&V.pastMedicalHistory?null===V||void 0===V?void 0:V.pastMedicalHistory:null!==re&&void 0!==re&&null!==(m=re.appointmentDetail)&&void 0!==m&&m.pastMedicalHistory?null===re||void 0===re||null===(u=re.appointmentDetail)||void 0===u?void 0:u.pastMedicalHistory:null!==de&&void 0!==de&&de.pastMedicalHistory?null===de||void 0===de?void 0:de.pastMedicalHistory:"N/A",disabled:_})]}),(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Medications"}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...q("medications"),defaultValue:null!==V&&void 0!==V&&V.medications?null===V||void 0===V?void 0:V.medications:null!==re&&void 0!==re&&null!==(p=re.appointmentDetail)&&void 0!==p&&p.medications?null===re||void 0===re||null===(v=re.appointmentDetail)||void 0===v?void 0:v.medications:null!==de&&void 0!==de&&de.medication?null===de||void 0===de?void 0:de.medications:"N/A",disabled:_})]}),(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Allergies"}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...q("allergies"),defaultValue:null!==V&&void 0!==V&&V.allergies?null===V||void 0===V?void 0:V.allergies:null!==re&&void 0!==re&&null!==(x=re.appointmentDetail)&&void 0!==x&&x.allergies?null===re||void 0===re||null===(h=re.appointmentDetail)||void 0===h?void 0:h.allergies:null!==de&&void 0!==de&&de.allergies?null===de||void 0===de?void 0:de.allergies:"N/A",disabled:_})]}),(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Family History"}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...q("familyHistory"),defaultValue:null!==V&&void 0!==V&&V.familyHistory?null===V||void 0===V?void 0:V.familyHistory:null!==re&&void 0!==re&&null!==(j=re.appointmentDetail)&&void 0!==j&&j.familyHistory?null===re||void 0===re||null===(g=re.appointmentDetail)||void 0===g?void 0:g.familyHistory:null!==de&&void 0!==de&&de.familyHistory?null===de||void 0===de?void 0:de.familyHistory:"N/A",disabled:_})]}),(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Social History"}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...q("socialHistory"),defaultValue:null!==V&&void 0!==V&&V.socialHistory?null===V||void 0===V?void 0:V.socialHistory:null!==re&&void 0!==re&&null!==(b=re.appointmentDetail)&&void 0!==b&&b.socialHistory?null===re||void 0===re||null===(y=re.appointmentDetail)||void 0===y?void 0:y.socialHistory:null!==de&&void 0!==de&&de.socialHistory?null===de||void 0===de?void 0:de.socialHistory:"N/A",disabled:_})]}),(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Suspected Diagnosis"}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...q("suspectedDiagnosis"),defaultValue:null!==V&&void 0!==V&&V.suspectedDiagnosis?null===V||void 0===V?void 0:V.suspectedDiagnosis:null!==re&&void 0!==re&&null!==(Z=re.appointmentDetail)&&void 0!==Z&&Z.suspectedDiagnosis?null===re||void 0===re||null===(A=re.appointmentDetail)||void 0===A?void 0:A.suspectedDiagnosis:null!==de&&void 0!==de&&de.suspectedDiagnosis?null===de||void 0===de?void 0:de.suspectedDiagnosis:"N/A",disabled:_})]}),(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Recommended Actions"}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...q("recommendedActions"),defaultValue:null!==V&&void 0!==V&&V.recommendedActions?null===V||void 0===V?void 0:V.recommendedActions:null!==re&&void 0!==re&&null!==(P=re.appointmentDetail)&&void 0!==P&&P.recommendedActions?null===re||void 0===re||null===(T=re.appointmentDetail)||void 0===T?void 0:T.recommendedActions:null!==de&&void 0!==de&&de.recommendedActions?null===de||void 0===de?void 0:de.recommendedActions:"N/A",disabled:_})]}),(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Sign off"}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...q("signOff"),defaultValue:null!==V&&void 0!==V&&V.signOff?null===V||void 0===V?void 0:V.signOff:null!==re&&void 0!==re&&null!==(M=re.appointmentDetail)&&void 0!==M&&M.signOff?null===re||void 0===re||null===(O=re.appointmentDetail)||void 0===O?void 0:O.signOff:null!==de&&void 0!==de&&de.signOff?null===de||void 0===de?void 0:de.signOff:"N/A",disabled:_})]})]}),!(null!==re&&void 0!==re&&re.appointmentDetail)&&(null===ce||void 0===ce?void 0:ce.data)&&(0,C.jsx)("div",{className:"d-flex justify-content-end",children:(0,C.jsx)("p",{className:"mb-0",style:{color:"#2269F2",fontWeght:500,fontSize:"18px",cursor:"pointer"},onClick:()=>le(!0),children:"Generate letter with appointment notes"})}),!(null!==re&&void 0!==re&&re.patientId)&&(0,C.jsx)("div",{className:"d-flex justify-content-end",children:(0,C.jsx)(c.Z,{className:"start-apt-btn",type:"submit",children:"Save"})}),(null===re||void 0===re?void 0:re.patientId)&&!0===U&&(0,C.jsx)(c.Z,{className:"mt-2 mb-3 start-apt-btn float-right",type:"submit",children:"Update"})]})})})}),(0,C.jsx)(H.c,{show:X,onHide:()=>$(!1),heading:"Delete Referral Notes",title:"this refferal notes",removeFunc:function(){const e={noteId:ie};ae((0,G.FW)({finalData:e,onCreateDeleteSuccess:pe})),R()}})]})}const E=function(){var e,l,i,t,n,o,s,a,d;const{emergancyDepartmentLetter:r}=(0,D.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointmentNotes)||{}})),{detailDTO:c}=(0,D.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointedDetail)||{}})),{getUserData:m}=(0,D.v9)((e=>e.userRole)),u=y()().format("DD/MM/YYYY");return(0,C.jsxs)("div",{className:"mb-5",children:[(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsx)("h1",{children:"FamilyDoc247"}),(0,C.jsx)("h6",{children:"General Practitioner (GP) / Family Physician"}),(0,C.jsx)("h6",{children:"Fitzwilliam Hall, Fitzwilliam Place, Dublin 2"}),(0,C.jsx)("h6",{children:"Tel: +353 1 906 9327"}),(0,C.jsx)("h6",{children:"Email : contact@familydoc247.ie"})]}),(0,C.jsx)("p",{className:"my-5",children:u}),(0,C.jsxs)("p",{className:"mb-5",children:[(0,C.jsx)("span",{className:"font-weight-600",children:"To: "}),"Emergency Department Doctor On Duty"]}),(0,C.jsxs)("div",{children:[(0,C.jsxs)("p",{children:["Re: ",null===r||void 0===r?void 0:r.patient,","," ",null!==c&&void 0!==c&&c.currentAddress?null===c||void 0===c?void 0:c.currentAddress:"N/A"]}),(0,C.jsxs)("p",{children:["DOB:"," ",y()(null!==c&&void 0!==c&&c.dob?null===c||void 0===c?void 0:c.dob:"N/A").format("MM/DD/YYYY"),", Tel: ",null!==c&&void 0!==c&&c.phoneNumber?null===c||void 0===c?void 0:c.phoneNumber:"N/A"]})]}),(0,C.jsx)("p",{className:"mt-5",children:"Dear Doctor On Duty,"}),(0,C.jsx)("p",{children:"I would appreciate if you could see above-named patient."}),(0,C.jsxs)("div",{className:"mb-5",children:[(null===r||void 0===r?void 0:r.referralNote)&&(0,C.jsxs)("div",{children:[(0,C.jsx)("p",{className:"text-black-50 mb-0",children:"Referral Notes"}),null===r||void 0===r?void 0:r.referralNote]}),(null===r||void 0===r?void 0:r.appointmentDetail)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("p",{className:"text-black-50 mb-0",children:"Presenting Complaint"}),null===r||void 0===r||null===(e=r.appointmentDetail)||void 0===e?void 0:e.presentingComplaint]}),(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("p",{className:"text-black-50 mb-0",children:"Past Medical History"}),null===r||void 0===r||null===(l=r.appointmentDetail)||void 0===l?void 0:l.pastMedicalHistory]}),(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("p",{className:"text-black-50 mb-0",children:"Medications"}),null===r||void 0===r||null===(i=r.appointmentDetail)||void 0===i?void 0:i.medications]}),(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("p",{className:"text-black-50 mb-0",children:"Allergies"}),null===r||void 0===r||null===(t=r.appointmentDetail)||void 0===t?void 0:t.allergies]}),(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("p",{className:"text-black-50 mb-0",children:"Family History"}),null===r||void 0===r||null===(n=r.appointmentDetail)||void 0===n?void 0:n.familyHistory]}),(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("p",{className:"text-black-50 mb-0",children:"Social History"}),null===r||void 0===r||null===(o=r.appointmentDetail)||void 0===o?void 0:o.socialHistory]}),(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("p",{className:"text-black-50 mb-0",children:"Suspected Diagnosis"}),null===r||void 0===r||null===(s=r.appointmentDetail)||void 0===s?void 0:s.suspectedDiagnosis]}),(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("p",{className:"text-black-50 mb-0",children:"Recommended Actions"}),null===r||void 0===r||null===(a=r.appointmentDetail)||void 0===a?void 0:a.recommendedActions]}),(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("p",{className:"text-black-50 mb-0",children:"Sign off"}),null===r||void 0===r||null===(d=r.appointmentDetail)||void 0===d?void 0:d.signOff]})]})]}),(0,C.jsx)("p",{className:"pb-3",children:"I would appreciate your urgent assessment and management."}),(0,C.jsx)("p",{className:"pb-2",children:"Yours sincerely,"}),(0,C.jsxs)("p",{className:"mb-0",children:["Dr ",null!==m&&void 0!==m&&m.name?null===m||void 0===m?void 0:m.name:"N/A"]}),(0,C.jsxs)("p",{children:["MCRN ",null!==m&&void 0!==m&&m.mcrn?null===m||void 0===m?void 0:m.mcrn:"N/A"]})]})};function R(e){var l,i,n,d,r,m,u,p,v,x,h,j,g,b,y,Z,A,P,T,M,O;let{inputFieldValues:V}=e;const{register:Y,handleSubmit:q,reset:R}=(0,I.cI)(),W=JSON.parse(localStorage.getItem("slotDescription")),[B,Q]=(0,t.useState)(!1),[_,J]=(0,t.useState)(!0),[U,K]=(0,t.useState)(!1),[X,$]=(0,t.useState)(),[ee,le]=(0,t.useState)(!1),[ie,te]=(0,t.useState)(!1),[ne,oe]=(0,t.useState)(!1),se=(0,t.useRef)(null),ae=(0,D.I0)(),{data:de}=(0,D.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointmentDetails)||void 0===l?void 0:l.getAptDetails)||{}})),{emergancyDepartmentLetter:re}=(0,D.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointmentNotes)||{}})),ce=(new Date).toISOString().slice(0,19),me=()=>{const e={appointmentId:null===W||void 0===W?void 0:W.appointmentId};ae((0,z.zp)(e)),Q(!1),K(!1)};(0,t.useEffect)((()=>{const e={appointmentId:null===W||void 0===W?void 0:W.appointmentId};ae((0,z.zp)(e))}),[ae,null===W||void 0===W?void 0:W.appointmentId]);const ue=()=>{R();const e={appointmentId:null===W||void 0===W?void 0:W.appointmentId};ae((0,z.zp)(e)),te(!1)};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(a.Z,{onSubmit:q((function(e){var l,i;const t={noteId:null!==re&&void 0!==re&&re.noteId?null===re||void 0===re?void 0:re.noteId:0,noteTypeId:2,patientId:null===W||void 0===W?void 0:W.patientId,doctorId:null===W||void 0===W?void 0:W.doctorId,referralNote:ie?null:null===e||void 0===e||null===(l=e.referralNote)||void 0===l?void 0:l.trim(),emergancyDepartmentLetter:e.emergancyDepartmentLetter,referralTypeId:2,toDoctor:e.toDoctor,appointmentId:null===W||void 0===W?void 0:W.appointmentId,showNote:ne,isPatient:!1,date:ce,appointmentDetail:ie||null!==re&&void 0!==re&&null!==(i=re.appointmentDetail)&&void 0!==i&&i.appointmentDetailId?{appointmentDetailId:null!==re&&void 0!==re&&re.noteId?null===de||void 0===de?void 0:de.appointmentDetailId:0,appointmentId:null===W||void 0===W?void 0:W.appointmentId,presentingComplaint:null!==e&&void 0!==e&&e.presentingComplaint?null===e||void 0===e?void 0:e.presentingComplaint:null!==V&&void 0!==V&&V.presentingComplaint?null===V||void 0===V?void 0:V.presentingComplaint:null===de||void 0===de?void 0:de.presentingComplaint,historyOfPresentingComplaint:null!==e&&void 0!==e&&e.presentingComplaint?null===e||void 0===e?void 0:e.presentingComplaint:null!==V&&void 0!==V&&V.presentingComplaint?null===V||void 0===V?void 0:V.presentingComplaint:null===de||void 0===de?void 0:de.presentingComplaint,pastMedicalHistory:null!==e&&void 0!==e&&e.pastMedicalHistory?null===e||void 0===e?void 0:e.pastMedicalHistory:null!==V&&void 0!==V&&V.pastMedicalHistory?null===V||void 0===V?void 0:V.pastMedicalHistory:null===de||void 0===de?void 0:de.pastMedicalHistory,medications:null!==e&&void 0!==e&&e.medications?null===e||void 0===e?void 0:e.medications:null!==V&&void 0!==V&&V.medications?null===V||void 0===V?void 0:V.medications:null===de||void 0===de?void 0:de.medications,allergies:null!==e&&void 0!==e&&e.allergies?null===e||void 0===e?void 0:e.allergies:null!==V&&void 0!==V&&V.allergies?null===V||void 0===V?void 0:V.allergies:null===de||void 0===de?void 0:de.allergies,familyHistory:null!==e&&void 0!==e&&e.familyHistory?null===e||void 0===e?void 0:e.familyHistory:null!==V&&void 0!==V&&V.familyHistory?null===V||void 0===V?void 0:V.familyHistory:null===de||void 0===de?void 0:de.familyHistory,socialHistory:null!==e&&void 0!==e&&e.socialHistory?null===e||void 0===e?void 0:e.socialHistory:null!==V&&void 0!==V&&V.socialHistory?null===V||void 0===V?void 0:V.socialHistory:null===de||void 0===de?void 0:de.socialHistory,suspectedDiagnosis:null!==e&&void 0!==e&&e.suspectedDiagnosis?null===e||void 0===e?void 0:e.suspectedDiagnosis:null!==V&&void 0!==V&&V.suspectedDiagnosis?null===V||void 0===V?void 0:V.suspectedDiagnosis:null===de||void 0===de?void 0:de.suspectedDiagnosis,recommendedActions:null!==e&&void 0!==e&&e.recommendedActions?null===e||void 0===e?void 0:e.recommendedActions:null!==V&&void 0!==V&&V.recommendedActions?null===V||void 0===V?void 0:V.recommendedActions:null===de||void 0===de?void 0:de.recommendedActions,signOff:null!==e&&void 0!==e&&e.signOff?null===e||void 0===e?void 0:e.signOff:null!==V&&void 0!==V&&V.signOff?null===V||void 0===V?void 0:V.signOff:null===de||void 0===de?void 0:de.signOff,appointmentAttended:!0,failuretoattendnotes:"",referralTypeId:2,noteId:null!==re&&void 0!==re&&re.noteId?null===re||void 0===re?void 0:re.noteId:0}:null!==re&&void 0!==re&&re.noteId?{appointmentDetailId:0}:null};null!==re&&void 0!==re&&re.noteId?ae((0,G.d9)({finalData:t,onCreateSuccess:me})):ae((0,G.Og)({finalData:t,onCreateSuccess:me})),J(!0)})),children:(0,C.jsx)(o.Z,{children:(0,C.jsx)(s.Z,{xs:12,className:"mb-3",children:(0,C.jsxs)("div",{style:{background:"#F8F8F8",borderRadius:"5px"},className:"px-3 py-3 h-100",children:[(0,C.jsxs)("span",{className:"d-flex justify-content-between",children:[(0,C.jsx)("p",{className:"referral-main-text",style:{color:"#E31E27"},children:"Emergencey Department Letter"}),(null===re||void 0===re?void 0:re.patientId)&&!1===U&&(0,C.jsx)(F.Z,{id:"dropdown-item-button",title:(0,C.jsx)(f.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,C.jsxs)("div",{className:"set-dropdown-menu",children:[(0,C.jsxs)(w.Z.Item,{className:"d-flex align-items-center",children:[(0,C.jsx)(N.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,C.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},onClick:()=>{Q(!0),K(!0),J(!1)},children:"Edit"})]}),(0,C.jsx)(w.Z.Item,{className:"d-flex align-items-center",children:(0,C.jsx)(k.ZP,{trigger:(0,C.jsxs)("button",{ref:se,className:"bg-transparent border-0 p-0",children:[(0,C.jsx)(L.bAs,{size:20})," Download PDF"]}),children:(0,C.jsx)(E,{})})}),(0,C.jsxs)(w.Z.Item,{className:"d-flex align-items-center",onClick:()=>{$(null===re||void 0===re?void 0:re.noteId),le(!0)},children:[(0,C.jsx)(S.w6k,{size:18,style:{color:"#FD2121"}}),(0,C.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#FD2121"},children:"Remove"})]})]})})]}),(0,C.jsx)(a.Z.Check,{type:"checkbox",id:"show-emergency-notes",label:"Show to Patient",onChange:()=>oe(!ne),disabled:!(!0===(null===re||void 0===re?void 0:re.showNote)&&U||!1===(null===re||void 0===re?void 0:re.showNote)&&U)&&!(null===re||void 0===re||!re.noteId),defaultChecked:null===re||void 0===re?void 0:re.showNote}),(0,C.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel3",children:[(0,C.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Emergency Letter"}),(0,C.jsx)(a.Z.Control,{type:"text",placeholder:"Tiredness",className:"pt-2 custom-field-picker ".concat(B&&"bg-white"),...Y("emergancyDepartmentLetter",{required:!0}),defaultValue:null!==(l=null===re||void 0===re?void 0:re.emergancyDepartmentLetter)&&void 0!==l?l:"",readOnly:(null===re||void 0===re||!re.emergancyDepartmentLetter||!U)&&!(null===re||void 0===re||!re.emergancyDepartmentLetter),maxLength:250})]}),(0,C.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel3",children:[(0,C.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"To"}),(0,C.jsx)(a.Z.Control,{type:"text",placeholder:"Specialist name",className:"pt-2 custom-field-picker ".concat(B&&"bg-white"),...Y("toDoctor",{required:!0}),defaultValue:null!==(i=null===re||void 0===re?void 0:re.toDoctor)&&void 0!==i?i:"",readOnly:(null===re||void 0===re||!re.toDoctor||!U)&&!(null===re||void 0===re||!re.toDoctor),maxLength:250})]}),(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Referral Notes"}),!1!==ie||null!==re&&void 0!==re&&re.appointmentDetail?"":(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Referral Note",className:"pt-2 custom-field-picker ".concat(B&&"bg-white"),...Y("referralNote",{required:!0}),defaultValue:null!==(n=null===re||void 0===re?void 0:re.referralNote)&&void 0!==n?n:"",readOnly:(null===re||void 0===re||!re.referralNote||!U)&&!(null===re||void 0===re||!re.referralNote),maxLength:250})]}),(ie||(null===re||void 0===re?void 0:re.appointmentDetail))&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Presenting Complaint"}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...Y("presentingComplaint"),defaultValue:null!==V&&void 0!==V&&V.presentingComplaint?null===V||void 0===V?void 0:V.presentingComplaint:null!==de&&void 0!==de&&de.presentingComplaint?null===de||void 0===de?void 0:de.presentingComplaint:null!==re&&void 0!==re&&null!==(d=re.appointmentDetail)&&void 0!==d&&d.presentingComplaint?null===re||void 0===re||null===(r=re.appointmentDetail)||void 0===r?void 0:r.presentingComplaint:"N/A",disabled:_})]}),(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Past Medical History"}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...Y("pastMedicalHistory"),defaultValue:null!==V&&void 0!==V&&V.pastMedicalHistory?null===V||void 0===V?void 0:V.pastMedicalHistory:null!==re&&void 0!==re&&null!==(m=re.appointmentDetail)&&void 0!==m&&m.pastMedicalHistory?null===re||void 0===re||null===(u=re.appointmentDetail)||void 0===u?void 0:u.pastMedicalHistory:null!==de&&void 0!==de&&de.pastMedicalHistory?null===de||void 0===de?void 0:de.pastMedicalHistory:"N/A",disabled:_})]}),(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Medications"}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...Y("medications"),defaultValue:null!==V&&void 0!==V&&V.medications?null===V||void 0===V?void 0:V.medications:null!==re&&void 0!==re&&null!==(p=re.appointmentDetail)&&void 0!==p&&p.medications?null===re||void 0===re||null===(v=re.appointmentDetail)||void 0===v?void 0:v.medications:null!==de&&void 0!==de&&de.medications?null===de||void 0===de?void 0:de.medications:"N/A",disabled:_})]}),(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Allergies"}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...Y("allergies"),defaultValue:null!==V&&void 0!==V&&V.allergies?null===V||void 0===V?void 0:V.allergies:null!==re&&void 0!==re&&null!==(x=re.appointmentDetail)&&void 0!==x&&x.allergies?null===re||void 0===re||null===(h=re.appointmentDetail)||void 0===h?void 0:h.allergies:null!==de&&void 0!==de&&de.allergies?null===de||void 0===de?void 0:de.allergies:"N/A",disabled:_})]}),(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Family History"}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...Y("familyHistory"),defaultValue:null!==V&&void 0!==V&&V.familyHistory?null===V||void 0===V?void 0:V.familyHistory:null!==re&&void 0!==re&&null!==(j=re.appointmentDetail)&&void 0!==j&&j.familyHistory?null===re||void 0===re||null===(g=re.appointmentDetail)||void 0===g?void 0:g.familyHistory:null!==de&&void 0!==de&&de.familyHistory?null===de||void 0===de?void 0:de.familyHistory:"N/A",disabled:_})]}),(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Social History"}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...Y("socialHistory"),defaultValue:null!==V&&void 0!==V&&V.socialHistory?null===V||void 0===V?void 0:V.socialHistory:null!==re&&void 0!==re&&null!==(b=re.appointmentDetail)&&void 0!==b&&b.socialHistory?null===re||void 0===re||null===(y=re.appointmentDetail)||void 0===y?void 0:y.socialHistory:null!==de&&void 0!==de&&de.socialHistory?null===de||void 0===de?void 0:de.socialHistory:"N/A",disabled:_})]}),(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Suspected Diagnosis"}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...Y("suspectedDiagnosis"),defaultValue:null!==V&&void 0!==V&&V.suspectedDiagnosis?null===V||void 0===V?void 0:V.suspectedDiagnosis:null!==re&&void 0!==re&&null!==(Z=re.appointmentDetail)&&void 0!==Z&&Z.suspectedDiagnosis?null===re||void 0===re||null===(A=re.appointmentDetail)||void 0===A?void 0:A.suspectedDiagnosis:null!==de&&void 0!==de&&de.suspectedDiagnosis?null===de||void 0===de?void 0:de.suspectedDiagnosis:"N/A",disabled:_})]}),(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Recommended Actions"}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...Y("recommendedActions"),defaultValue:null!==V&&void 0!==V&&V.recommendedActions?null===V||void 0===V?void 0:V.recommendedActions:null!==re&&void 0!==re&&null!==(P=re.appointmentDetail)&&void 0!==P&&P.recommendedActions?null===re||void 0===re||null===(T=re.appointmentDetail)||void 0===T?void 0:T.recommendedActions:null!==de&&void 0!==de&&de.recommendedActions?null===de||void 0===de?void 0:de.recommendedActions:"N/A",disabled:_})]}),(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsx)(a.Z.Label,{className:"mb-0",children:"Sign off"}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...Y("signOff"),defaultValue:null!==V&&void 0!==V&&V.signOff?null===V||void 0===V?void 0:V.signOff:null!==re&&void 0!==re&&null!==(M=re.appointmentDetail)&&void 0!==M&&M.signOff?null===re||void 0===re||null===(O=re.appointmentDetail)||void 0===O?void 0:O.signOff:null!==de&&void 0!==de&&de.signOff?null===de||void 0===de?void 0:de.signOff:"N/A",disabled:_})]})]}),!(null!==re&&void 0!==re&&re.appointmentDetail)&&(0,C.jsx)("div",{className:"d-flex justify-content-end",children:(0,C.jsx)("p",{className:"float-right mb-0",style:{color:"#2269F2",fontWeght:500,fontSize:"18px",cursor:"pointer"},onClick:()=>te(!0),children:"Generate letter with appointment notes"})}),!(null!==re&&void 0!==re&&re.patientId)&&(0,C.jsx)("div",{className:"d-flex justify-content-end",children:(0,C.jsx)(c.Z,{className:"start-apt-btn",type:"submit",children:"Save"})}),(null===re||void 0===re?void 0:re.patientId)&&!0===U&&(0,C.jsx)(c.Z,{className:"mt-2 mb-3 start-apt-btn float-right",type:"submit",children:"Update"})]})})})}),(0,C.jsx)(H.c,{show:ee,onHide:()=>le(!1),heading:"Delete Referral Notes",title:"this refferal notes",removeFunc:function(){const e={noteId:X};ae((0,G.bw)({finalData:e,onCreateDeleteSuccess:ue})),R()}})]})}function W(e){let{slotDescription:l,aptData:i,setAptData:t,setInputFieldValues:n,inputFieldValues:o}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(q,{slotDescription:l,aptData:i,setAptData:t,setInputFieldValues:n,inputFieldValues:o}),(0,C.jsx)(R,{slotDescription:l,aptData:i,setAptData:t,setInputFieldValues:n,inputFieldValues:o})]})}var B=i(2002),Q=i(36161),_=i(68324);function J(){return{backgroundColor:"#F8F8F8"}}function U(e){let{show:l,onClose:i,data:n,view:d,viewData:r,onCloseView:u}=e;const{register:p,handleSubmit:v,reset:x,setValue:h}=(0,I.cI)(),[f,j]=(0,t.useState)(null),[g,N]=(0,t.useState)([]),b=JSON.parse(localStorage.getItem("slotDescription")),{MedicationsData:y}=(0,D.v9)((e=>null===e||void 0===e?void 0:e.patientPrescription)),Z=(0,D.I0)();function A(){let e={appointmentId:null===b||void 0===b?void 0:b.appointmentId};Z((0,_.vY)({finalData:e}))}(0,t.useEffect)((()=>{n&&(h("allergies",(null===n||void 0===n?void 0:n.allergies)||""),h("medicineName",(null===n||void 0===n?void 0:n.medicineName)||""),h("formulation",(null===n||void 0===n?void 0:n.formulation)||""),h("route",(null===n||void 0===n?void 0:n.route)||""),h("dose",(null===n||void 0===n?void 0:n.dose)||""),h("doseFrequency",(null===n||void 0===n?void 0:n.doseFrequency)||""),h("quantity",(null===n||void 0===n?void 0:n.quantity)||""),h("note",(null===n||void 0===n?void 0:n.note)||""))}),[n]),(0,t.useEffect)((()=>{if(null!==f&&void 0!==f&&f.medicineName){const e={medicationName:null===f||void 0===f?void 0:f.medicineName};Z((0,_.bT)(e))}}),[Z,null===f||void 0===f?void 0:f.medicineName]);const F=e=>{const{name:l,value:i}=e.target;j({...f,[l]:i})};const w=g,S=w.length>0?Object.fromEntries(Object.entries(w[0]).map((e=>{let[l,i]=e;return[l,i]}))):{};const H=[{dataField:"medicineName",text:"Medicine Name",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("p",{className:"color-99 mb-0",children:"Medicine Name"}),(0,C.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.medicineName})]})},{dataField:"doseFrequency",text:"Dose Frequency",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("p",{className:"color-99 mb-0",children:"Dose Frequency"}),(0,C.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.doseFrequency})]})},{dataField:"dose",text:"Dose",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("p",{className:"color-99 mb-0",children:"Dose"}),(0,C.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.dose})]})},{dataField:"formulation",text:"Formulation",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("p",{className:"color-99 mb-0",children:"Formulation"}),(0,C.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.formulation})]})}],k={paginationSize:2,pageStartIndex:1,alwaysShowAllBtns:!0,withFirstAndLast:!1,hideSizePerPage:!0,showTotal:!0,paginationTotalRenderer:(e,l,i)=>(0,C.jsxs)("span",{className:"react-bootstrap-table-pagination-total",children:[(0,C.jsxs)("b",{children:[" ",e," "]})," to ",(0,C.jsx)("b",{children:l})," out of ",(0,C.jsxs)("b",{children:[i," entries"]})]}),disablePageTitle:!0,sizePerPageList:[{text:"2",value:2}]};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(m.Z,{show:l,onHide:i,centered:!0,size:"lg",className:"prescription-modal",backdrop:"static",children:(0,C.jsxs)(a.Z,{onSubmit:v(n?function(){const e={medicineId:null===n||void 0===n?void 0:n.medicineId,medicineName:null===S||void 0===S?void 0:S.medicineName,doseFrequency:null===S||void 0===S?void 0:S.doseFrequency,dose:null===S||void 0===S?void 0:S.dose,formulation:null===S||void 0===S?void 0:S.formulation,quantity:null===S||void 0===S?void 0:S.quantity,allergies:null===S||void 0===S?void 0:S.allergies,route:null===S||void 0===S?void 0:S.route,note:null===S||void 0===S?void 0:S.note,showPrescription:!1,isPatient:!1};Z((0,_.Rn)({finalData:e,onCreateSuccess:A})),i(),N([])}:function(){const e={appointmentId:null===b||void 0===b?void 0:b.appointmentId,prescriptionId:0,medicineList:g,showPrescription:!1,isPatient:!1};Z((0,_.Bc)({finalData:e,onCreateSuccess:A})),i(),N([])}),children:[(0,C.jsx)(m.Z.Header,{closeButton:!0,children:(0,C.jsxs)(m.Z.Title,{className:"prescription-modal-title",children:[n?"":"Add"," Prescription"]})}),(0,C.jsx)(m.Z.Body,{className:"",children:(0,C.jsxs)(o.Z,{className:"custom-prescription-scroll",children:[(0,C.jsx)(s.Z,{xs:12,children:(0,C.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel1",children:[(0,C.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Allergies"}),(0,C.jsx)(a.Z.Control,{type:"text",placeholder:"Type here",className:"custom-field-picker py-2",...p("allergies"),name:"allergies",onChange:F,maxLength:70})]})}),(0,C.jsx)(s.Z,{xs:12,children:(0,C.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel2",children:[(0,C.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Medication"}),(0,C.jsx)(a.Z.Control,{list:"medicineNameList",type:"text",placeholder:"Type medication here",className:"custom-field-picker py-2",...p("medicineName"),name:"medicineName",onChange:F,maxLength:70}),(0,C.jsx)("datalist",{id:"medicineNameList",children:null===y||void 0===y?void 0:y.map((e=>(0,C.jsx)("option",{value:null===e||void 0===e?void 0:e.medicationName,children:e.medicationName},null===e||void 0===e?void 0:e.medicationId)))})]})}),(0,C.jsx)(s.Z,{xs:12,children:(0,C.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel3",children:[(0,C.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Formulation"}),(0,C.jsx)(a.Z.Control,{type:"text",placeholder:"Type formulation here",className:"custom-field-picker py-2",...p("formulation"),name:"formulation",onChange:F,maxLength:70})]})}),(0,C.jsx)(s.Z,{xs:6,children:(0,C.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel4",children:[(0,C.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Route"}),(0,C.jsx)(a.Z.Control,{type:"text",placeholder:"Type route here",className:"custom-field-picker py-2",...p("route"),name:"route",onChange:F,maxLength:70})]})}),(0,C.jsx)(s.Z,{xs:6,children:(0,C.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel4",children:[(0,C.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Dose"}),(0,C.jsx)(a.Z.Control,{type:"text",placeholder:"Type dose here",className:"custom-field-picker py-2",...p("dose"),name:"dose",onChange:F})]})}),(0,C.jsx)(s.Z,{xs:6,children:(0,C.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel4",children:[(0,C.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Frequency"}),(0,C.jsx)(a.Z.Control,{type:"text",placeholder:"Type frequency",className:"custom-field-picker py-2",...p("doseFrequency"),name:"doseFrequency",onChange:F,maxLength:70})]})}),(0,C.jsx)(s.Z,{xs:6,children:(0,C.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel4",children:[(0,C.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Quantity/Duration"}),(0,C.jsx)(a.Z.Control,{type:"text",placeholder:"Type quantity",className:"custom-field-picker py-2",...p("quantity"),name:"quantity",onChange:F,maxLength:70})]})}),(0,C.jsx)(s.Z,{xs:12,children:(0,C.jsx)(a.Z.Check,{type:"checkbox",id:"prescription-checkbox",label:"Tick this box if you are prescribing an off licence/off base label medication"})}),(0,C.jsx)(s.Z,{xs:12,children:(0,C.jsxs)("div",{style:{background:"#F0F0F0",borderRadius:"5px"},className:"p-3 mt-2 mb-3",children:[(0,C.jsx)(a.Z.Check,{type:"checkbox",id:"urgent-checkbox",label:"Urgent",className:"mb-2",style:{color:"#999999",fontWeight:400,fontSsize:"16px"}}),(0,C.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,C.jsxs)(a.Z.Label,{className:"mb-0",children:["Add Note",(0,C.jsx)("span",{style:{color:"#FF3A3A"},children:"*"})]}),(0,C.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Note",className:"pt-2 custom-field-picker",...p("note"),name:"note",onChange:F,maxLength:250})]})]})}),(0,C.jsx)(s.Z,{xs:12,children:(0,C.jsx)(c.Z,{className:"float-right my-2 prescription-outline-btn",onClick:()=>{f&&(N((e=>[...e,f])),j(null),x())},type:"button",children:"Confirm & Add Item"})}),g.length>0&&(0,C.jsx)(s.Z,{xs:12,children:(0,C.jsx)("div",{className:"custom-table-spacing",children:(0,C.jsx)(B.Z,{keyField:"id",data:g,columns:H,rowStyle:J,bordered:!1,pagination:(0,Q.ZP)(k)})})})]})}),(0,C.jsx)(m.Z.Footer,{className:"d-flex justify-content-center",children:(0,C.jsx)(c.Z,{type:"submit",className:"w-50",style:{background:"#6045EB"},disabled:g.length<=0,children:n?"Update Prescription":"Submit Prescription"})})]})}),(0,C.jsxs)(m.Z,{show:d,onHide:u,centered:!0,size:"lg",backdrop:"static",className:"prescription-modal edit-prescription-modal",children:[(0,C.jsx)(m.Z.Header,{closeButton:!0,children:(0,C.jsx)(m.Z.Title,{className:"prescription-modal-title",children:"Prescription"})}),(0,C.jsx)(m.Z.Body,{children:(0,C.jsx)(a.Z,{children:(0,C.jsxs)(o.Z,{children:[(0,C.jsxs)(s.Z,{xs:3,children:[(0,C.jsx)("p",{className:"color-99 mb-0",children:"Allergies"}),(0,C.jsx)("p",{className:"table-custom-data",children:r?null===r||void 0===r?void 0:r.allergies:"Nill"})]}),(0,C.jsxs)(s.Z,{xs:6,children:[(0,C.jsx)("p",{className:"color-99 mb-0",children:"Consult to generic medications"}),(0,C.jsx)("p",{className:"table-custom-data",children:"Yes"})]}),(0,C.jsxs)(s.Z,{xs:3,children:[(0,C.jsx)("p",{className:"color-99 mb-0",children:"Medication Type"}),(0,C.jsx)("p",{className:"table-custom-data",children:"Acute"})]}),(0,C.jsxs)(s.Z,{xs:3,children:[(0,C.jsx)("p",{className:"color-99 mb-0",children:"Medication"}),(0,C.jsx)("p",{className:"table-custom-data",children:r?null===r||void 0===r?void 0:r.medicineName:"Nill"})]}),(0,C.jsxs)(s.Z,{xs:6,children:[(0,C.jsx)("p",{className:"color-99 mb-0",children:"Formation"}),(0,C.jsx)("p",{className:"table-custom-data",children:r?null===r||void 0===r?void 0:r.formulation:"Nill"})]}),(0,C.jsxs)(s.Z,{xs:3,children:[(0,C.jsx)("p",{className:"color-99 mb-0",children:"Route"}),(0,C.jsx)("p",{className:"table-custom-data",children:r?null===r||void 0===r?void 0:r.route:"Nill"})]}),(0,C.jsxs)(s.Z,{xs:3,children:[(0,C.jsx)("p",{className:"color-99 mb-0",children:"Dose"}),(0,C.jsx)("p",{className:"table-custom-data",children:r?null===r||void 0===r?void 0:r.dose:"Nill"})]}),(0,C.jsxs)(s.Z,{xs:6,children:[(0,C.jsx)("p",{className:"color-99 mb-0",children:"Frequency"}),(0,C.jsx)("p",{className:"table-custom-data",children:r?null===r||void 0===r?void 0:r.doseFrequency:"Nill"})]}),(0,C.jsxs)(s.Z,{xs:3,children:[(0,C.jsx)("p",{className:"color-99 mb-0",children:"Quantity"}),(0,C.jsx)("p",{className:"table-custom-data",children:r?null===r||void 0===r?void 0:r.quantity:"Nill"})]}),(0,C.jsxs)(s.Z,{xs:12,children:[(0,C.jsx)("p",{className:"color-99 mb-0",children:"Note:"}),(0,C.jsx)("p",{className:"table-custom-data",children:r?null===r||void 0===r?void 0:r.note:"Nill"})]})]})})})]})]})}var K=i(52802);function X(){return{backgroundColor:"#F8F8F8"}}function $(e){var l;let{showPresToPatient:i,setShowPresToPatient:n,setPrescriptionIdToPatient:o}=e;const s=(0,D.I0)(),d=(0,D.v9)((e=>{var l;return null===e||void 0===e||null===(l=e.patientPrescription)||void 0===l?void 0:l.PreMedicineData})),r=JSON.parse(localStorage.getItem("slotDescription")),m=(0,D.v9)((e=>null===e||void 0===e?void 0:e.patientPrescription)),u=(0,t.useRef)(null),[p,v]=(0,t.useState)({data:null,show:!1}),[x,h]=(0,t.useState)(!1),[j,b]=(0,t.useState)({data:null,show:!1}),[y,Z]=(0,t.useState)(),I=[{dataField:"medicineName",text:"Medicine Name",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("p",{className:"color-99 mb-0",children:"Medicine Name"}),(0,C.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.medicineName})]})},{dataField:"doseFrequency",text:"Dose Frequency",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("p",{className:"color-99 mb-0",children:"Dose Frequency"}),(0,C.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.doseFrequency})]})},{dataField:"dose",text:"Dose",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("p",{className:"color-99 mb-0",children:"Dose"}),(0,C.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.dose})]})},{dataField:"formulation",text:"Formulation",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("p",{className:"color-99 mb-0",children:"Formulation"}),(0,C.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.formulation})]})},{dataField:"action",text:"Action",formatter:(e,l)=>(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(F.Z,{id:"dropdown-item-button",title:(0,C.jsx)(f.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,C.jsxs)("div",{className:"set-dropdown-menu",children:[(0,C.jsxs)(w.Z.Item,{as:"button",className:"d-flex align-items-center",onClick:()=>b({data:l,show:!0}),children:[(0,C.jsx)(g.w8I,{size:18,style:{color:"#1A1A1A"}}),(0,C.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},children:"View"})]}),(0,C.jsxs)(w.Z.Item,{as:"button",className:"d-flex align-items-center",onClick:()=>v({data:l,show:!0}),children:[(0,C.jsx)(N.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,C.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},children:"Edit"})]}),(0,C.jsxs)(w.Z.Item,{as:"button",className:"d-flex align-items-center",onClick:()=>{Z(l),h(!0)},children:[(0,C.jsx)(S.w6k,{size:18,style:{color:"#FD2121"}}),(0,C.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#FD2121"},children:"Delete"})]})]})})}),headerAttrs:{hidden:!0}}];function A(){let e={appointmentId:null===r||void 0===r?void 0:r.appointmentId};s((0,_.vY)({finalData:e}))}(0,t.useEffect)((()=>{const e={appointmentId:null===r||void 0===r?void 0:r.appointmentId};s((0,_.vY)({finalData:e}))}),[s,null===r||void 0===r?void 0:r.appointmentId]);let P=[];var T;null!==d&&void 0!==d&&d.medicineList&&(null===d||void 0===d||null===(T=d.medicineList)||void 0===T||T.forEach((e=>{null!==e&&void 0!==e&&e.medicineList&&P.push(...e.medicineList)})));const M={paginationSize:2,pageStartIndex:1,alwaysShowAllBtns:!0,withFirstAndLast:!1,hideSizePerPage:!0,showTotal:!0,paginationTotalRenderer:(e,l,i)=>(0,C.jsxs)("span",{className:"react-bootstrap-table-pagination-total",children:[(0,C.jsxs)("b",{children:[" ",e," "]})," to ",(0,C.jsx)("b",{children:l})," out of ",(0,C.jsxs)("b",{children:[i," entries"]})]}),disablePageTitle:!0,sizePerPageList:[{text:"2",value:2}]};return(0,C.jsxs)(C.Fragment,{children:[(null===d||void 0===d||null===(l=d.medicineList)||void 0===l?void 0:l.length)<=0||void 0===(null===d||void 0===d?void 0:d.medicineList)?(0,C.jsx)("div",{className:"d-flex justify-content-center",children:(0,C.jsx)(c.Z,{className:"prescription-btn px-4 d-flex justify-content-center",onClick:()=>v({data:null,show:!0}),children:"Create Prescription"})}):(0,C.jsxs)("div",{className:"custom-table-spacing",children:[(0,C.jsx)(a.Z,{children:(0,C.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,C.jsx)(a.Z.Check,{type:"checkbox",id:"show-prescription",label:"Show Prescription to Patient",onChange:()=>{var e,l;n(!i),o(null===m||void 0===m||null===(e=m.PreMedicineData)||void 0===e||null===(l=e.medicineList)||void 0===l?void 0:l.prescriptionId)}}),(0,C.jsx)(k.ZP,{trigger:(0,C.jsxs)("button",{type:"button",ref:u,className:"border-0 px-3 py-2 rounded-2",children:[(0,C.jsx)(L.bAs,{size:20})," Download PDF"]}),children:(0,C.jsx)(K.Z,{prescriptionData:d})})]})}),(0,C.jsx)(B.Z,{keyField:"medicineId",data:null===d||void 0===d?void 0:d.medicineList,columns:I,bordered:!1,rowStyle:X,wrapperClasses:"table-responsive",pagination:(0,Q.ZP)(M)}),(0,C.jsx)("p",{className:"float-right text-cursor-pointer",style:{color:"#2269F2",fontWeght:500,fontSize:"18px",cursor:"pointer"},onClick:()=>v({data:null,show:!0}),children:"+ Add Prescription"})]}),(0,C.jsx)(U,{data:p.data,show:p.show,view:j.show,viewData:j.data,onCloseView:()=>b({show:!1,data:null}),onClose:()=>v({show:!1,data:null}),slotDescription:r}),(0,C.jsx)(H.c,{show:x,onHide:()=>h(!1),heading:"Delete Prescription",title:"the prescription",removeFunc:function(){const e={medicineId:null===y||void 0===y?void 0:y.medicineId};s((0,_.w4)({finalData:e,onCreateSuccess:A}))}})]})}var ee=i(82573),le=i(84373);function ie(){var e,l,i,x,h,f,j,g,N,b;const Z=JSON.parse(localStorage.getItem("family_doc_app")),{register:F,handleSubmit:w}=(0,I.cI)(),[S,H]=(0,t.useState)({data:null,show:!1}),[k,L]=(0,t.useState)(!1),[P,M]=(0,t.useState)(!0),[G,Y]=(0,t.useState)(!1),[q,E]=(0,t.useState)(),[R,B]=(0,t.useState)({}),Q=(0,D.v9)((e=>{var l,i;return null===e||void 0===e||null===(l=e.patientPrescription)||void 0===l||null===(i=l.PreMedicineData)||void 0===i?void 0:i.medicineList})),[J,K]=(0,t.useState)({presentingComp:"",presentingCompHistory:"",pastMedicalHistory:"",medications:"",allergies:"",familyHistory:"",socialHistory:"",suspectedDiagnosis:"",recommendedActions:"",signOff:""}),{patientPharmacy:X}=(0,D.v9)((e=>e)),ie=(0,v.s0)(),{patientPharmacyData:te}=(0,D.v9)((e=>null===e||void 0===e?void 0:e.patientPharmacy)),{getAptDetails:ne}=(0,D.v9)((e=>null===e||void 0===e?void 0:e.appointmentDetails));console.log("checkbox",ne);const oe=(0,D.v9)((e=>e)),se=()=>{L(!1)},ae=JSON.parse(localStorage.getItem("slotDescription")),de=(0,D.I0)();(0,t.useEffect)((()=>{const e={userId:null===Z||void 0===Z?void 0:Z.userId};de((0,V.PR)(e))}),[de,null===Z||void 0===Z?void 0:Z.userId]),(0,t.useEffect)((()=>{const e={patientId:null===ae||void 0===ae?void 0:ae.patientId,appointmentId:null===ae||void 0===ae?void 0:ae.appointmentId};de((0,z.gS)(e))}),[de]);const re=()=>{const e={patientId:null===Z||void 0===Z?void 0:Z.userId,month:+y()(new Date).format("M")};de((0,z.Qe)(e)),ie(p.m.APPOINTMENT)};function ce(){const e={appointmentId:null===ae||void 0===ae?void 0:ae.appointmentId,statusId:206};de((0,z.qQ)({finalData:e,moveToNext:re}))}return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"appointment-notes pt-4",children:[(0,C.jsx)(n.Z,{children:(0,C.jsx)(o.Z,{children:(0,C.jsxs)(s.Z,{xs:12,className:"appointment-notes-accordion px-0 py-3",children:[(0,C.jsx)(a.Z.Check,{type:"checkbox",id:"patient-attended-checkbox",label:"Patient attended appointment",defaultChecked:!1===(null===ne||void 0===ne||null===(e=ne.data)||void 0===e?void 0:e.appointmentAttended)||P,onChange:e=>{M(e.target.checked)},className:"mb-2",disabled:!(null===ne||void 0===ne||null===(l=ne.data)||void 0===l||!l.failuretoattendnotes)||!0===(null===ne||void 0===ne||null===(i=ne.data)||void 0===i?void 0:i.appointmentAttended)}),(0,C.jsx)(d.Z,{className:"mb-3",children:(0,C.jsx)(d.Z.Body,{className:"mx-0 p-0",children:(0,C.jsx)(r.Z,{defaultActiveKey:"0",children:(0,C.jsxs)(r.Z.Item,{eventKey:"0",children:[(0,C.jsx)(r.Z.Header,{children:"Appointment Detail"}),(0,C.jsx)(r.Z.Body,{className:"py-4 px-5",children:(0,C.jsx)(A,{checkedApt:P,setInputFieldValues:K,inputFieldValues:J})})]})})})}),P&&!(null!==ne&&void 0!==ne&&null!==(x=ne.data)&&void 0!==x&&x.failuretoattendnotes)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(d.Z,{className:"mb-3",children:(0,C.jsx)(d.Z.Body,{className:"mx-0 p-0",children:(0,C.jsx)(r.Z,{children:(0,C.jsxs)(r.Z.Item,{eventKey:"1",children:[(0,C.jsx)(r.Z.Header,{children:"Clinical Notes"}),(0,C.jsx)(r.Z.Body,{className:"mx-4",children:(0,C.jsx)(O,{slotDescription:ae})})]})})})}),(0,C.jsx)(d.Z,{className:"mb-3",children:(0,C.jsx)(d.Z.Body,{className:"mx-0 p-0",children:(0,C.jsx)(r.Z,{children:(0,C.jsxs)(r.Z.Item,{eventKey:"1",children:[(0,C.jsxs)(r.Z.Header,{children:[(0,C.jsx)("img",{src:u.Z.PRESCRIPTION_ICON,alt:"prescription icon",className:"me-3"}),"Prescription"]}),(0,C.jsx)(r.Z.Body,{className:"mx-4",children:(0,C.jsx)($,{slotDescription:ae,showPresToPatient:G,setShowPresToPatient:Y,setPrescriptionIdToPatient:E})})]})})})}),(0,C.jsx)(d.Z,{className:"mb-3",children:(0,C.jsx)(d.Z.Body,{className:"mx-0 p-0",children:(0,C.jsx)(r.Z,{children:(0,C.jsxs)(r.Z.Item,{eventKey:"2",children:[(0,C.jsxs)(r.Z.Header,{children:[(0,C.jsx)("img",{src:u.Z.REFERRAL_ICON,alt:"referral icon",className:"me-3"}),"Referral"]}),(0,C.jsx)(r.Z.Body,{className:"py-4 px-5",children:(0,C.jsx)(W,{slotDescription:ae,aptData:R,setAptData:B,inputFieldValues:J||(null===oe||void 0===oe||null===(h=oe.createAppointmentDetails)||void 0===h?void 0:h.data),setInputFieldValues:K})})]})})})}),(0,C.jsx)(d.Z,{className:"mb-3",children:(0,C.jsx)(d.Z.Body,{className:"mx-0 p-0",children:(0,C.jsx)(r.Z,{children:(0,C.jsxs)(r.Z.Item,{eventKey:"3",children:[(0,C.jsxs)(r.Z.Header,{children:[(0,C.jsx)("img",{src:u.Z.MEDICAL_CERTIFICATE_ICON,alt:"medical certificate icon",className:"me-3"}),(0,C.jsx)("span",{style:{color:"#44BC19"},children:"Medical Certificate"})]}),(0,C.jsx)(r.Z.Body,{className:"py-4 px-5",children:(0,C.jsx)(T,{slotDescription:ae,aptData:R,setAptData:B,inputFieldValues:J||(null===oe||void 0===oe||null===(f=oe.createAppointmentDetails)||void 0===f?void 0:f.data),setInputFieldValues:K})})]})})})})]}),(0,C.jsx)(c.Z,{className:"mt-4 start-apt-btn float-right px-5",onClick:()=>{L(!0),!0===G&&function(){const e={prescriptionId:q};de((0,_.Po)({finalData:e}))}()},children:"Save appointment notes"})]})})}),(0,C.jsxs)(m.Z,{show:k,onHide:se,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"appointment-modal",backdrop:"static",children:[(0,C.jsx)(m.Z.Header,{closeButton:!0,className:"font-weight-600",style:{fontSize:"18px"}}),(0,C.jsx)(m.Z.Body,{children:(0,C.jsx)("div",{className:"d-flex justify-content-center flex-column mx-5 mb-3",children:!1===P||!1===(null===ne||void 0===ne||null===(j=ne.data)||void 0===j?void 0:j.appointmentAttended)?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"d-flex justify-content-center ",children:(0,C.jsx)("img",{src:u.Z.NOTES_COMPLETED_ICON,alt:"Notes Completed Icon"})}),(0,C.jsxs)("div",{className:"my-3",children:[(0,C.jsx)("h3",{className:"text-center w-50 m-auto font-weight-600",children:"Notes Completed"}),(0,C.jsx)("p",{className:"text-center mt-3 mb-4",children:"You have successfully completed appointments notes"})]}),(0,C.jsx)("span",{className:"d-flex justify-content-center",children:(0,C.jsxs)(c.Z,{className:"start-apt-btn d-flex align-items-center",onClick:()=>ce(),children:[(0,C.jsx)(le.u1R,{className:"me-3",size:20,style:{color:"#fff"}}),(0,C.jsx)("p",{className:"mb-0",children:"Back to appointments"})]})})]}):(null===Q||void 0===Q?void 0:Q.length)<=0||void 0===Q?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("p",{className:"mb-0 font-weight-600 text-center",style:{fontSize:"20px"},children:"Please create Prescription to Complete the Appointment Notes"}),(0,C.jsx)("div",{className:"d-flex justify-content-center",children:(0,C.jsx)(c.Z,{className:"start-apt-btn d-flex border-0 px-5 mt-5 ",onClick:()=>{se(),H({data:null,show:!0})},children:"Create"})})]}):(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(a.Z,{onSubmit:w((function(e){const l={email:null!==te&&void 0!==te&&te.pharmacyEmail?null===te||void 0===te?void 0:te.pharmacyEmail:null===e||void 0===e?void 0:e.pharmacyEmail,appointmentId:null===ae||void 0===ae?void 0:ae.appointmentId};de((0,ee.Tf)({finalData:l,appointmentStatus:ce}))})),children:[(0,C.jsx)(a.Z.Label,{className:"mb-0 font-weight-600",style:{fontSize:"20px"},children:"Do you want to Email a Prescription to the Patient?"}),(0,C.jsx)(a.Z.Group,{className:"mt-4",children:(0,C.jsx)(a.Z.Control,{type:"email",size:"lg",placeholder:"Pharmacy Email",...F("pharmacyEmail"),defaultValue:null!==(g=null===X||void 0===X||null===(N=X.patientPharmacyData)||void 0===N?void 0:N.pharmacyEmail)&&void 0!==g?g:"",maxLength:250,disabled:null===X||void 0===X||null===(b=X.patientPharmacyData)||void 0===b?void 0:b.pharmacyEmail})}),(0,C.jsxs)("div",{className:"mt-5 d-flex justify-content-center",children:[(0,C.jsx)(c.Z,{className:"d-flex align-items-center me-4 font-weight-600 px-5",onClick:()=>ce(),style:{background:"transparent",color:"#6045EB",fontSize:"18px",border:"1px solid #6045EB"},children:(0,C.jsx)("p",{className:"mb-0",children:"No"})}),(0,C.jsx)(c.Z,{type:"submit",className:"start-apt-btn d-flex align-items-center border-0 px-5",children:"Yes"})]})]})})})})]})]}),S&&(0,C.jsx)(U,{show:S.show,onClose:()=>H({show:!1,data:null}),slotDescription:ae})]})}}}]);
//# sourceMappingURL=6979.00efb243.chunk.js.map