"use strict";(self.webpackChunkfamily_doc_app=self.webpackChunkfamily_doc_app||[]).push([[3343],{43426:(e,i,l)=>{l.d(i,{Z:()=>s});l(72791);var t=l(95070),n=l(72426),o=l.n(n),a=l(80184);function s(e){const{name:i,genderInfo:l,gender:n,dobInfo:s,dob:d,professionInfo:r,profession:c,currentLocationInfo:m,currentLocation:p,patientLocalGPInfo:u,patientLocalGP:v,emailInfo:x,email:f,phoneInfo:h,phone:j,specialityInfo:y,speciality:N,pharmacyInfo:g,pharmacy:b,locationInfo:D,location:I,image:A}=e;return(0,a.jsx)(t.Z,{className:"generic-card",children:(0,a.jsxs)(t.Z.Body,{className:"p-0 main-personalprofile position-relative",children:[(0,a.jsx)("div",{className:"ds-top"}),(0,a.jsxs)("div",{className:"position-relative",children:[(0,a.jsx)("div",{className:"avatar-holder upload_pic profile_upload profileContent",children:(0,a.jsx)("img",{src:A||"https://ui-avatars.com/api/?name=".concat("".concat(i),"&background=000071&color=fff"),alt:"Patient"})}),(0,a.jsx)("div",{className:"name",children:i||"N/A"})]}),(0,a.jsxs)("div",{className:"mx-4 card-content patient-personal-details",children:[l&&(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between pt-3",children:[(0,a.jsx)("p",{children:"Gender"}),(0,a.jsx)("p",{children:n||"N/A"})]}),(0,a.jsx)("hr",{})]}),s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,a.jsx)("p",{children:"D.O.B"}),(0,a.jsx)("p",{children:o()(d).format("MM/DD/YYYY")})]}),(0,a.jsx)("hr",{})]}),D&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,a.jsx)("p",{children:"Location"}),(0,a.jsx)("p",{children:I||"N/A"})]}),(0,a.jsx)("hr",{})]}),r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,a.jsx)("p",{children:"Profession/Occupation:"}),(0,a.jsx)("p",{children:c||"N/A"})]}),(0,a.jsx)("hr",{})]}),m&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,a.jsx)("p",{children:"Current Location"}),(0,a.jsx)("p",{children:p||"N/A"})]}),(0,a.jsx)("hr",{})]}),u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,a.jsx)("p",{children:"Patient Local GP"}),(0,a.jsx)("p",{children:v||"N/A"})]}),(0,a.jsx)("hr",{})]}),x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,a.jsx)("p",{children:"Email"}),(0,a.jsx)("p",{children:f||"N/A"})]}),(0,a.jsx)("hr",{})]}),g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,a.jsx)("p",{children:"Pharmacy"}),(0,a.jsx)("p",{children:b||"N/A"})]}),(0,a.jsx)("hr",{})]}),h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,a.jsx)("p",{children:"Phone"}),(0,a.jsx)("p",{children:j||"N/A"})]}),(0,a.jsx)("hr",{})]}),y&&(0,a.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,a.jsx)("p",{children:"Speciality"}),(0,a.jsx)("p",{children:N||"N/A"})]})]})]})})}},65414:(e,i,l)=>{l.r(i),l.d(i,{default:()=>K});var t=l(72791),n=l(89743),o=l(2677),a=l(95070),s=l(69764),d=l(36638),r=l(29546),c=l(1444),m=l(43360),p=l(39126),u=l(36161),v=l(10857),x=l(43426),f=l(84373),h=l(59434),j=l(57689),y=l(11087),N=l(36455),g=l(24278),b=l(2002),D=l(72426),I=l.n(D),A=l(61134),Z=l(95985),C=l(56355),w=l(45225),S=l(63524),L=l(97866),E=l(44494),H=l(80184);function F(){var e,i,l,a,s,u,v,x,f,y,N,b,D,I,Z,F,O,P,M,k,z,T;const{register:V,handleSubmit:G}=(0,A.cI)(),[R,W]=(0,t.useState)(!1),[K,U]=(0,t.useState)(!0),[q,Y]=(0,t.useState)(!1),[B,_]=(0,t.useState)(!1),[Q,J]=(0,t.useState)(!1),$=(0,t.useRef)(null),X=(0,j.UO)(),ee=(0,h.I0)(),{data:ie}=(0,h.v9)((e=>{var i;return(null===e||void 0===e||null===(i=e.appointmentDetails)||void 0===i?void 0:i.getAptDetails)||{}})),le=JSON.parse(localStorage.getItem("family_doc_app")),{patientAppointmentNotes:te}=(0,h.v9)((e=>e.appointment)),ne=null===te||void 0===te?void 0:te.appointmentDetail,{specialistLetter:oe}=(0,h.v9)((e=>{var i;return(null===e||void 0===e||null===(i=e.appointment)||void 0===i?void 0:i.patientAppointmentNotes)||{}})),{detailDTO:ae}=(0,h.v9)((e=>{var i;return(null===e||void 0===e||null===(i=e.appointment)||void 0===i?void 0:i.patientAppointedDetail)||{}})),{getUserData:se}=(0,h.v9)((e=>e.userRole)),de=(new Date).toISOString().slice(0,19);(0,t.useEffect)((()=>{const e={appointmentId:null===X||void 0===X?void 0:X.appointmentId};ee((0,g.zp)(e))}),[ee,null===X||void 0===X?void 0:X.appointmentId]);const re=()=>{const e={appointmentId:null===X||void 0===X?void 0:X.appointmentId};ee((0,g.zp)(e)),W(!1),Y(!1)};return(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(d.Z,{onSubmit:G(null!==oe&&void 0!==oe&&oe.noteId?function(e){var i,l,t,n,o,a,s,d,r,c,m,p,u,v;const x={noteId:null===oe||void 0===oe?void 0:oe.noteId,noteTypeId:2,patientId:null!==X&&void 0!==X&&X.patientId?null===X||void 0===X?void 0:X.patientId:null===oe||void 0===oe?void 0:oe.patientId,doctorId:null!==le&&void 0!==le&&le.userId?null===le||void 0===le?void 0:le.userId:null===oe||void 0===oe?void 0:oe.doctorId,referralNote:null===e||void 0===e||null===(i=e.referralNote)||void 0===i?void 0:i.trim(),specialistLetter:e.specialistLetter,referralTypeId:1,toDoctor:e.toDoctor,appointmentId:null===X||void 0===X?void 0:X.appointmentId,showNote:Q,isPatient:!1,date:de,appointmentDetail:B||null!==oe&&void 0!==oe&&null!==(l=oe.appointmentDetail)&&void 0!==l&&l.appointmentDetailId?{appointmentDetailId:null===oe||void 0===oe||null===(t=oe.appointmentDetail)||void 0===t?void 0:t.appointmentDetailId,appointmentId:null===X||void 0===X?void 0:X.appointmentId,presentingComplaint:(null===e||void 0===e?void 0:e.presentingComplaint)||(null===oe||void 0===oe||null===(n=oe.appointmentDetail)||void 0===n?void 0:n.presentingComplaint),historyOfPresentingComplaint:(null===e||void 0===e?void 0:e.presentingComplaint)||(null===oe||void 0===oe||null===(o=oe.appointmentDetail)||void 0===o?void 0:o.presentingComplaint),pastMedicalHistory:(null===e||void 0===e?void 0:e.pastMedicalHistory)||(null===oe||void 0===oe||null===(a=oe.appointmentDetail)||void 0===a?void 0:a.pastMedicalHistory),medications:(null===e||void 0===e?void 0:e.medications)||(null===oe||void 0===oe||null===(s=oe.appointmentDetail)||void 0===s?void 0:s.medications),allergies:(null===e||void 0===e?void 0:e.allergies)||(null===oe||void 0===oe||null===(d=oe.appointmentDetail)||void 0===d?void 0:d.allergies),familyHistory:(null===e||void 0===e?void 0:e.familyHistory)||(null===oe||void 0===oe||null===(r=oe.appointmentDetail)||void 0===r?void 0:r.familyHistory),socialHistory:(null===e||void 0===e?void 0:e.socialHistory)||(null===oe||void 0===oe||null===(c=oe.appointmentDetail)||void 0===c?void 0:c.socialHistory),objectiveExamination:(null===e||void 0===e?void 0:e.objectiveExamination)||(null===oe||void 0===oe||null===(m=oe.appointmentDetail)||void 0===m?void 0:m.objectiveExamination),suspectedDiagnosis:(null===e||void 0===e?void 0:e.suspectedDiagnosis)||(null===oe||void 0===oe||null===(p=oe.appointmentDetail)||void 0===p?void 0:p.suspectedDiagnosis),recommendedActions:(null===e||void 0===e?void 0:e.recommendedActions)||(null===oe||void 0===oe||null===(u=oe.appointmentDetail)||void 0===u?void 0:u.recommendedActions),signOff:(null===e||void 0===e?void 0:e.signOff)||(null===oe||void 0===oe||null===(v=oe.appointmentDetail)||void 0===v?void 0:v.signOff),appointmentAttended:!0,failuretoattendnotes:"",referralTypeId:1,noteId:null===oe||void 0===oe?void 0:oe.noteId}:{appointmentDetailId:0}};ee((0,L.YY)({finalData:x,onCreateSuccess:re})),U(!0)}:function(e){var i;const l={noteId:0,noteTypeId:2,patientId:null!==X&&void 0!==X&&X.patientId?null===X||void 0===X?void 0:X.patientId:null===oe||void 0===oe?void 0:oe.patientId,doctorId:null!==le&&void 0!==le&&le.userId?null===le||void 0===le?void 0:le.userId:null===oe||void 0===oe?void 0:oe.doctorId,referralNote:B?null:null===e||void 0===e||null===(i=e.referralNote)||void 0===i?void 0:i.trim(),specialistLetter:e.specialistLetter,referralTypeId:1,toDoctor:e.toDoctor,appointmentId:null===X||void 0===X?void 0:X.appointmentId,showNote:Q,date:de,isPatient:!1,appointmentDetail:B?{appointmentDetailId:0,appointmentId:null===X||void 0===X?void 0:X.appointmentId,presentingComplaint:null===ne||void 0===ne?void 0:ne.presentingComplaint,historyOfPresentingComplaint:null===ne||void 0===ne?void 0:ne.presentingComplaint,pastMedicalHistory:null===ne||void 0===ne?void 0:ne.pastMedicalHistory,medications:null===ne||void 0===ne?void 0:ne.medications,allergies:null===ne||void 0===ne?void 0:ne.allergies,familyHistory:null===ne||void 0===ne?void 0:ne.familyHistory,socialHistory:null===ne||void 0===ne?void 0:ne.socialHistory,objectiveExamination:null===ne||void 0===ne?void 0:ne.objectiveExamination,suspectedDiagnosis:null===ne||void 0===ne?void 0:ne.suspectedDiagnosis,recommendedActions:null===ne||void 0===ne?void 0:ne.recommendedActions,signOff:null===ne||void 0===ne?void 0:ne.signOff,appointmentAttended:!0,failuretoattendnotes:"",referralTypeId:1,noteId:0}:null};ee((0,L.lU)({finalData:l,onCreateSuccess:re})),U(!0)}),children:(0,H.jsx)(n.Z,{children:(0,H.jsx)(o.Z,{xs:12,className:"my-3",children:(0,H.jsxs)("div",{className:"h-100",children:[(0,H.jsxs)("span",{className:"d-flex justify-content-between",children:[(0,H.jsx)("p",{className:"referral-main-text",style:{color:"#2269F2"},children:"Specialist Letter"}),null!==oe&&void 0!==oe&&oe.noteId&&!1===q?(0,H.jsx)(r.Z,{id:"dropdown-item-button",title:(0,H.jsx)(p.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,H.jsxs)("div",{className:"set-dropdown-menu",children:[(0,H.jsxs)(c.Z.Item,{className:"d-flex align-items-center",children:[(0,H.jsx)(C.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,H.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},onClick:()=>{W(!0),Y(!0),U(!1)},children:"Edit"})]}),(0,H.jsx)(c.Z.Item,{className:"d-flex align-items-center",children:(0,H.jsx)(w.ZP,{trigger:(0,H.jsxs)("button",{ref:$,className:"bg-transparent border-0 p-0",children:[(0,H.jsx)(S.bAs,{size:20})," Download PDF"]}),children:(0,H.jsx)(E.Z,{specialistLetter:oe,detailDTO:ae,getUserData:se})})})]})}):""]}),(0,H.jsx)(d.Z.Check,{type:"checkbox",id:"show-speciality-notes",label:"Show to Patient",onChange:()=>J(!Q),disabled:!(!0===(null===oe||void 0===oe?void 0:oe.showNote)&&q||!1===(null===oe||void 0===oe?void 0:oe.showNote)&&q)&&!(null===oe||void 0===oe||!oe.noteId),defaultChecked:null===oe||void 0===oe?void 0:oe.showNote}),(0,H.jsxs)(d.Z.Group,{className:"mb-3 mt-2",controlId:"specialistLetter",children:[(0,H.jsx)(d.Z.Label,{className:"label-primary mb-0",style:{color:"#999999"},children:"Refferal Letter"}),(0,H.jsx)(d.Z.Control,{type:"text",placeholder:"Tiredness",className:"pt-2 custom-field-picker ".concat(R&&"bg-white"),...V("specialistLetter",{required:!0}),defaultValue:null!==(e=null===oe||void 0===oe?void 0:oe.specialistLetter)&&void 0!==e?e:"",readOnly:(null===oe||void 0===oe||!oe.specialistLetter||!q)&&!(null===oe||void 0===oe||!oe.specialistLetter),maxLength:250})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-3 mt-2",controlId:"toDoctor",children:[(0,H.jsx)(d.Z.Label,{className:"label-primary mb-0",style:{color:"#999999"},children:"To"}),(0,H.jsx)(d.Z.Control,{type:"text",placeholder:"Specialist name",className:"pt-2 custom-field-picker ".concat(R&&"bg-white"),...V("toDoctor",{required:!0}),readOnly:(null===oe||void 0===oe||!oe.toDoctor||!q)&&!(null===oe||void 0===oe||!oe.toDoctor),maxLength:250,defaultValue:null!==(i=null===oe||void 0===oe?void 0:oe.toDoctor)&&void 0!==i?i:""})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"referralNote",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Referral Notes"}),!1!==B||null!==oe&&void 0!==oe&&oe.appointmentDetail?"":(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,placeholder:"Referral Note",className:"pt-2 custom-field-picker ".concat(R&&"bg-white"),...V("referralNote",{required:!0}),defaultValue:null!==oe&&void 0!==oe&&oe.referralNote?null===oe||void 0===oe?void 0:oe.referralNote:"",readOnly:(null===oe||void 0===oe||!oe.referralNote||!q)&&!(null===oe||void 0===oe||!oe.referralNote),maxLength:250})]}),(B||(null===oe||void 0===oe?void 0:oe.appointmentDetail))&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"presentingComplaint",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Presenting Complaint"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(K&&"bg-white"),...V("presentingComplaint"),defaultValue:null!==oe&&void 0!==oe&&null!==(l=oe.appointmentDetail)&&void 0!==l&&l.presentingComplaint?null===oe||void 0===oe||null===(a=oe.appointmentDetail)||void 0===a?void 0:a.presentingComplaint:null!==ne&&void 0!==ne&&ne.presentingComplaint?null===ne||void 0===ne?void 0:ne.presentingComplaint:"N/A",disabled:K})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"pastMedicalHistory",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Past Medical History"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(K&&"bg-white"),...V("pastMedicalHistory"),defaultValue:null!==oe&&void 0!==oe&&null!==(s=oe.appointmentDetail)&&void 0!==s&&s.pastMedicalHistory?null===oe||void 0===oe||null===(u=oe.appointmentDetail)||void 0===u?void 0:u.pastMedicalHistory:null!==ne&&void 0!==ne&&ne.pastMedicalHistory?null===ne||void 0===ne?void 0:ne.pastMedicalHistory:"N/A",disabled:K})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"medications",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Medications"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(K&&"bg-white"),...V("medications"),defaultValue:null!==oe&&void 0!==oe&&null!==(v=oe.appointmentDetail)&&void 0!==v&&v.medications?null===oe||void 0===oe||null===(x=oe.appointmentDetail)||void 0===x?void 0:x.medications:null!==ne&&void 0!==ne&&ne.medications?null===ne||void 0===ne?void 0:ne.medications:"N/A",disabled:K})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"allergies",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Allergies"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(K&&"bg-white"),...V("allergies"),defaultValue:null!==oe&&void 0!==oe&&null!==(f=oe.appointmentDetail)&&void 0!==f&&f.allergies?null===oe||void 0===oe||null===(y=oe.appointmentDetail)||void 0===y?void 0:y.allergies:null!==ne&&void 0!==ne&&ne.allergies?null===ne||void 0===ne?void 0:ne.allergies:"N/A",disabled:K})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"familyHistory",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Family History"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(K&&"bg-white"),...V("familyHistory"),defaultValue:null!==oe&&void 0!==oe&&null!==(N=oe.appointmentDetail)&&void 0!==N&&N.familyHistory?null===oe||void 0===oe||null===(b=oe.appointmentDetail)||void 0===b?void 0:b.familyHistory:null!==ne&&void 0!==ne&&ne.familyHistory?null===ne||void 0===ne?void 0:ne.familyHistory:"N/A",disabled:K})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"socialHistory",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Social History"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(K&&"bg-white"),...V("socialHistory"),defaultValue:null!==oe&&void 0!==oe&&null!==(D=oe.appointmentDetail)&&void 0!==D&&D.socialHistory?null===oe||void 0===oe||null===(I=oe.appointmentDetail)||void 0===I?void 0:I.socialHistory:null!==ne&&void 0!==ne&&ne.socialHistory?null===ne||void 0===ne?void 0:ne.socialHistory:"N/A",disabled:K})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"objectiveExamination",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Objective Examination"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(K&&"bg-white"),...V("objectiveExamination"),defaultValue:null!==oe&&void 0!==oe&&null!==(Z=oe.appointmentDetail)&&void 0!==Z&&Z.objectiveExamination?null===oe||void 0===oe||null===(F=oe.appointmentDetail)||void 0===F?void 0:F.objectiveExamination:null!==ne&&void 0!==ne&&ne.objectiveExamination?null===ne||void 0===ne?void 0:ne.objectiveExamination:"N/A",disabled:K})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"suspectedDiagnosis",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Suspected Diagnosis"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(K&&"bg-white"),...V("suspectedDiagnosis"),defaultValue:null!==oe&&void 0!==oe&&null!==(O=oe.appointmentDetail)&&void 0!==O&&O.suspectedDiagnosis?null===oe||void 0===oe||null===(P=oe.appointmentDetail)||void 0===P?void 0:P.suspectedDiagnosis:null!==ne&&void 0!==ne&&ne.suspectedDiagnosis?null===ne||void 0===ne?void 0:ne.suspectedDiagnosis:"N/A",disabled:K})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"recommendedActions",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Recommended Actions"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(K&&"bg-white"),...V("recommendedActions"),defaultValue:null!==oe&&void 0!==oe&&null!==(M=oe.appointmentDetail)&&void 0!==M&&M.recommendedActions?null===oe||void 0===oe||null===(k=oe.appointmentDetail)||void 0===k?void 0:k.recommendedActions:null!==ne&&void 0!==ne&&ne.recommendedActions?null===ne||void 0===ne?void 0:ne.recommendedActions:"N/A",disabled:K})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"signOff",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Sign off"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(K&&"bg-white"),...V("signOff"),defaultValue:null!==oe&&void 0!==oe&&null!==(z=oe.appointmentDetail)&&void 0!==z&&z.signOff?null===oe||void 0===oe||null===(T=oe.appointmentDetail)||void 0===T?void 0:T.signOff:null!==ne&&void 0!==ne&&ne.signOff?null===ne||void 0===ne?void 0:ne.signOff:"N/A",disabled:K})]})]}),!(null!==oe&&void 0!==oe&&oe.appointmentDetail)&&ne&&(0,H.jsx)("div",{className:"d-flex justify-content-end",children:(0,H.jsx)("p",{className:"mb-0",style:{color:"#2269F2",fontWeght:500,fontSize:"18px",cursor:"pointer"},onClick:()=>_(!0),children:"Generate letter with appointment notes"})}),!(null!==oe&&void 0!==oe&&oe.patientId)&&(0,H.jsx)("div",{className:"d-flex justify-content-end",children:(0,H.jsx)(m.Z,{className:"start-apt-btn",type:"submit",children:"Save"})}),(null===oe||void 0===oe?void 0:oe.patientId)&&!0===q&&(0,H.jsx)(m.Z,{className:"mt-2 start-apt-btn float-right",type:"submit",children:"Update"})]})})})})})}var O=l(27660);function P(){var e,i,l,a,s,u,v,x,f,y,N,b,D,I,Z,E,F,P,M,k,z,T,V;const{register:G,handleSubmit:R}=(0,A.cI)(),W=JSON.parse(localStorage.getItem("family_doc_app")),[K,U]=(0,t.useState)(!1),[q,Y]=(0,t.useState)(!0),[B,_]=(0,t.useState)(!1),[Q,J]=(0,t.useState)(!1),[$,X]=(0,t.useState)(!1),ee=(0,t.useRef)(null),ie=(0,j.UO)(),le=(0,h.I0)(),{patientAppointmentNotes:te}=(0,h.v9)((e=>null===e||void 0===e?void 0:e.appointment)),ne=null===te||void 0===te?void 0:te.appointmentDetail,{emergancyDepartmentLetter:oe}=(0,h.v9)((e=>{var i;return(null===e||void 0===e||null===(i=e.appointment)||void 0===i?void 0:i.patientAppointmentNotes)||{}})),{detailDTO:ae}=(0,h.v9)((e=>{var i;return(null===e||void 0===e||null===(i=e.appointment)||void 0===i?void 0:i.patientAppointedDetail)||{}})),{getUserData:se}=(0,h.v9)((e=>e.userRole)),de=(new Date).toISOString().slice(0,19);(0,t.useEffect)((()=>{const e={appointmentId:null===ie||void 0===ie?void 0:ie.appointmentId};le((0,g.zp)(e))}),[le,null===ie||void 0===ie?void 0:ie.appointmentId]);const re=()=>{const e={appointmentId:null===ie||void 0===ie?void 0:ie.appointmentId};le((0,g.zp)(e)),U(!1),_(!1)};return(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(d.Z,{onSubmit:R(null!==oe&&void 0!==oe&&oe.noteId?function(e){var i,l,t,n,o,a,s,d,r,c,m,p,u;const v={noteId:null===oe||void 0===oe?void 0:oe.noteId,noteTypeId:2,patientId:null!==ie&&void 0!==ie&&ie.patientId?null===ie||void 0===ie?void 0:ie.patientId:null===oe||void 0===oe?void 0:oe.patientId,doctorId:null!==W&&void 0!==W&&W.userId?null===W||void 0===W?void 0:W.userId:null===oe||void 0===oe?void 0:oe.doctorId,referralNote:null===e||void 0===e||null===(i=e.referralNote)||void 0===i?void 0:i.trim(),emergancyDepartmentLetter:null===e||void 0===e?void 0:e.emergancyDepartmentLetter,referralTypeId:2,toDoctor:null===e||void 0===e?void 0:e.toDoctor,appointmentId:null===ie||void 0===ie?void 0:ie.appointmentId,showNote:$,isPatient:!1,date:de,appointmentDetail:Q||null!==oe&&void 0!==oe&&null!==(l=oe.appointmentDetail)&&void 0!==l&&l.appointmentDetailId?{appointmentDetailId:null===oe||void 0===oe||null===(t=oe.appointmentDetail)||void 0===t?void 0:t.appointmentDetailId,appointmentId:null===ie||void 0===ie?void 0:ie.appointmentId,presentingComplaint:(null===e||void 0===e?void 0:e.presentingComplaint)||(null===oe||void 0===oe?void 0:oe.appointmentDetail),historyOfPresentingComplaint:(null===e||void 0===e?void 0:e.presentingComplaint)||(null===oe||void 0===oe||null===(n=oe.appointmentDetail)||void 0===n?void 0:n.presentingComplaint),pastMedicalHistory:(null===e||void 0===e?void 0:e.pastMedicalHistory)||(null===oe||void 0===oe||null===(o=oe.appointmentDetail)||void 0===o?void 0:o.pastMedicalHistory),medications:(null===e||void 0===e?void 0:e.medications)||(null===oe||void 0===oe||null===(a=oe.appointmentDetail)||void 0===a?void 0:a.medications),allergies:(null===e||void 0===e?void 0:e.allergies)||(null===oe||void 0===oe||null===(s=oe.appointmentDetail)||void 0===s?void 0:s.allergies),familyHistory:(null===e||void 0===e?void 0:e.familyHistory)||(null===oe||void 0===oe||null===(d=oe.appointmentDetail)||void 0===d?void 0:d.familyHistory),socialHistory:(null===e||void 0===e?void 0:e.socialHistory)||(null===oe||void 0===oe||null===(r=oe.appointmentDetail)||void 0===r?void 0:r.socialHistory),objectiveExamination:(null===e||void 0===e?void 0:e.objectiveExamination)||(null===oe||void 0===oe||null===(c=oe.appointmentDetail)||void 0===c?void 0:c.objectiveExamination),suspectedDiagnosis:(null===e||void 0===e?void 0:e.suspectedDiagnosis)||(null===oe||void 0===oe||null===(m=oe.appointmentDetail)||void 0===m?void 0:m.suspectedDiagnosis),recommendedActions:(null===e||void 0===e?void 0:e.recommendedActions)||(null===oe||void 0===oe||null===(p=oe.appointmentDetail)||void 0===p?void 0:p.recommendedActions),signOff:(null===e||void 0===e?void 0:e.signOff)||(null===oe||void 0===oe||null===(u=oe.appointmentDetail)||void 0===u?void 0:u.signOff),appointmentAttended:!0,failuretoattendnotes:"",referralTypeId:1,noteId:null===oe||void 0===oe?void 0:oe.noteId}:{appointmentDetailId:0}};le((0,L.d9)({finalData:v,onCreateSuccess:re})),Y(!0)}:function(e){var i;const l={noteId:0,noteTypeId:2,patientId:null!==ie&&void 0!==ie&&ie.patientId?null===ie||void 0===ie?void 0:ie.patientId:null===oe||void 0===oe?void 0:oe.patientId,doctorId:null!==W&&void 0!==W&&W.userId?null===W||void 0===W?void 0:W.userId:null===oe||void 0===oe?void 0:oe.doctorId,referralNote:Q?null:null===e||void 0===e||null===(i=e.referralNote)||void 0===i?void 0:i.trim(),emergancyDepartmentLetter:null===e||void 0===e?void 0:e.emergancyDepartmentLetter,referralTypeId:2,toDoctor:null===e||void 0===e?void 0:e.toDoctor,appointmentId:null===ie||void 0===ie?void 0:ie.appointmentId,showNote:$,date:de,isPatient:!1,appointmentDetail:Q?{appointmentDetailId:0,appointmentId:null===ie||void 0===ie?void 0:ie.appointmentId,presentingComplaint:null===ne||void 0===ne?void 0:ne.presentingComplaint,historyOfPresentingComplaint:null===ne||void 0===ne?void 0:ne.presentingComplaint,pastMedicalHistory:null===ne||void 0===ne?void 0:ne.pastMedicalHistory,medications:null===ne||void 0===ne?void 0:ne.medications,allergies:null===ne||void 0===ne?void 0:ne.allergies,familyHistory:null===ne||void 0===ne?void 0:ne.familyHistory,socialHistory:null===ne||void 0===ne?void 0:ne.socialHistory,objectiveExamination:null===ne||void 0===ne?void 0:ne.objectiveExamination,suspectedDiagnosis:null===ne||void 0===ne?void 0:ne.suspectedDiagnosis,recommendedActions:null===ne||void 0===ne?void 0:ne.recommendedActions,signOff:null===ne||void 0===ne?void 0:ne.signOff,appointmentAttended:!0,failuretoattendnotes:"",referralTypeId:1,noteId:0}:null};le((0,L.Og)({finalData:l,onCreateSuccess:re})),Y(!0)}),children:(0,H.jsx)(n.Z,{children:(0,H.jsx)(o.Z,{xs:12,className:"my-3",children:(0,H.jsxs)("div",{className:"h-100",children:[(0,H.jsxs)("span",{className:"d-flex justify-content-between",children:[(0,H.jsx)("p",{className:"referral-main-text",style:{color:"#E31E27"},children:"Emergencey Department Letter"}),null!==oe&&void 0!==oe&&oe.noteId?(0,H.jsx)(r.Z,{id:"dropdown-item-button",title:(0,H.jsx)(p.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,H.jsxs)("div",{className:"set-dropdown-menu",children:[(0,H.jsxs)(c.Z.Item,{className:"d-flex align-items-center",children:[(0,H.jsx)(C.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,H.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},onClick:()=>{U(!0),_(!0),Y(!1)},children:"Edit"})]}),(0,H.jsx)(c.Z.Item,{className:"d-flex align-items-center",children:(0,H.jsx)(w.ZP,{trigger:(0,H.jsxs)("button",{ref:ee,className:"bg-transparent border-0 p-0",children:[(0,H.jsx)(S.bAs,{size:20})," Download PDF"]}),children:(0,H.jsx)(O.Z,{emergancyDepartmentLetter:oe,detailDTO:ae,getUserData:se})})})]})}):""]}),(0,H.jsx)(d.Z.Check,{type:"checkbox",id:"show-emergency-notes",label:"Show to Patient",onChange:()=>X(!$),disabled:!(!0===(null===oe||void 0===oe?void 0:oe.showNote)&&B||!1===(null===oe||void 0===oe?void 0:oe.showNote)&&B)&&!(null===oe||void 0===oe||!oe.noteId),defaultChecked:null===oe||void 0===oe?void 0:oe.showNote}),(0,H.jsxs)(d.Z.Group,{className:"mb-3",controlId:"emergancyDepartmentLetter",children:[(0,H.jsx)(d.Z.Label,{className:"label-primary mb-0",style:{color:"#999999"},children:"Refferal Letter"}),(0,H.jsx)(d.Z.Control,{type:"text",placeholder:"Tiredness",className:"pt-2 custom-field-picker ".concat(K&&"bg-white"),...G("emergancyDepartmentLetter",{required:!0}),defaultValue:null!==(e=null===oe||void 0===oe?void 0:oe.emergancyDepartmentLetter)&&void 0!==e?e:"",readOnly:(null===oe||void 0===oe||!oe.emergancyDepartmentLetter||!B)&&!(null===oe||void 0===oe||!oe.emergancyDepartmentLetter),maxLength:250})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-3 mt-2",controlId:"toDoctor",children:[(0,H.jsx)(d.Z.Label,{className:"label-primary mb-0",style:{color:"#999999"},children:"To"}),(0,H.jsx)(d.Z.Control,{type:"text",placeholder:"Specialist name",className:"pt-2 custom-field-picker ".concat(K&&"bg-white"),...G("toDoctor",{required:!0}),defaultValue:null!==(i=null===oe||void 0===oe?void 0:oe.toDoctor)&&void 0!==i?i:"",maxLength:250,readOnly:(null===oe||void 0===oe||!oe.toDoctor||!B)&&!(null===oe||void 0===oe||!oe.toDoctor)})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"referralNote",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Referral Notes"}),!1!==Q||null!==oe&&void 0!==oe&&oe.appointmentDetail?"":(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,placeholder:"Referral Note",className:"pt-2 custom-field-picker ".concat(K&&"bg-white"),...G("referralNote",{required:!0}),defaultValue:null!==(l=null===oe||void 0===oe?void 0:oe.referralNote)&&void 0!==l?l:"",readOnly:(null===oe||void 0===oe||!oe.referralNote||!B)&&!(null===oe||void 0===oe||!oe.referralNote),maxLength:250})]}),(Q||(null===oe||void 0===oe?void 0:oe.appointmentDetail))&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"presentingComplaint",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Presenting Complaint"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(q&&"bg-white"),...G("presentingComplaint"),defaultValue:null!==oe&&void 0!==oe&&null!==(a=oe.appointmentDetail)&&void 0!==a&&a.presentingComplaint?null===oe||void 0===oe||null===(s=oe.appointmentDetail)||void 0===s?void 0:s.presentingComplaint:null!==ne&&void 0!==ne&&ne.presentingComplaint?null===ne||void 0===ne?void 0:ne.presentingComplaint:"N/A",disabled:q})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"pastMedicalHistory",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Past Medical History"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(q&&"bg-white"),...G("pastMedicalHistory"),defaultValue:null!==oe&&void 0!==oe&&null!==(u=oe.appointmentDetail)&&void 0!==u&&u.pastMedicalHistory?null===oe||void 0===oe||null===(v=oe.appointmentDetail)||void 0===v?void 0:v.pastMedicalHistory:null!==ne&&void 0!==ne&&ne.pastMedicalHistory?null===ne||void 0===ne?void 0:ne.pastMedicalHistory:"N/A",disabled:q})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"medications",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Medications"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(q&&"bg-white"),...G("medications"),defaultValue:null!==oe&&void 0!==oe&&null!==(x=oe.appointmentDetail)&&void 0!==x&&x.medications?null===oe||void 0===oe||null===(f=oe.appointmentDetail)||void 0===f?void 0:f.medications:null!==ne&&void 0!==ne&&ne.medications?null===ne||void 0===ne?void 0:ne.medications:"N/A",disabled:q})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"allergies",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Allergies"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(q&&"bg-white"),...G("allergies"),defaultValue:null!==oe&&void 0!==oe&&null!==(y=oe.appointmentDetail)&&void 0!==y&&y.allergies?null===oe||void 0===oe||null===(N=oe.appointmentDetail)||void 0===N?void 0:N.allergies:null!==ne&&void 0!==ne&&ne.allergies?null===ne||void 0===ne?void 0:ne.allergies:"N/A",disabled:q})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"familyHistory",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Family History"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(q&&"bg-white"),...G("familyHistory"),defaultValue:null!==oe&&void 0!==oe&&null!==(b=oe.appointmentDetail)&&void 0!==b&&b.familyHistory?null===oe||void 0===oe||null===(D=oe.appointmentDetail)||void 0===D?void 0:D.familyHistory:null!==ne&&void 0!==ne&&ne.familyHistory?null===ne||void 0===ne?void 0:ne.familyHistory:"N/A",disabled:q})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"socialHistory",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Social History"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(q&&"bg-white"),...G("socialHistory"),defaultValue:null!==oe&&void 0!==oe&&null!==(I=oe.appointmentDetail)&&void 0!==I&&I.socialHistory?null===oe||void 0===oe||null===(Z=oe.appointmentDetail)||void 0===Z?void 0:Z.socialHistory:null!==ne&&void 0!==ne&&ne.socialHistory?null===ne||void 0===ne?void 0:ne.socialHistory:"N/A",disabled:q})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"objectiveExamination",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Objective Examination"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(q&&"bg-white"),...G("objectiveExamination"),defaultValue:null!==oe&&void 0!==oe&&null!==(E=oe.appointmentDetail)&&void 0!==E&&E.objectiveExamination?null===oe||void 0===oe||null===(F=oe.appointmentDetail)||void 0===F?void 0:F.objectiveExamination:null!==ne&&void 0!==ne&&ne.objectiveExamination?null===ne||void 0===ne?void 0:ne.objectiveExamination:"N/A",disabled:q})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"suspectedDiagnosis",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Suspected Diagnosis"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(q&&"bg-white"),...G("suspectedDiagnosis"),defaultValue:null!==oe&&void 0!==oe&&null!==(P=oe.appointmentDetail)&&void 0!==P&&P.suspectedDiagnosis?null===oe||void 0===oe||null===(M=oe.appointmentDetail)||void 0===M?void 0:M.suspectedDiagnosis:null!==ne&&void 0!==ne&&ne.suspectedDiagnosis?null===ne||void 0===ne?void 0:ne.suspectedDiagnosis:"N/A",disabled:q})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"recommendedActions",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Recommended Actions"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(q&&"bg-white"),...G("recommendedActions"),defaultValue:null!==oe&&void 0!==oe&&null!==(k=oe.appointmentDetail)&&void 0!==k&&k.recommendedActions?null===oe||void 0===oe||null===(z=oe.appointmentDetail)||void 0===z?void 0:z.recommendedActions:null!==ne&&void 0!==ne&&ne.recommendedActions?null===ne||void 0===ne?void 0:ne.recommendedActions:"N/A",disabled:q})]}),(0,H.jsxs)(d.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"signOff",children:[(0,H.jsx)(d.Z.Label,{className:"mb-0",children:"Sign off"}),(0,H.jsx)(d.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(q&&"bg-white"),...G("signOff"),defaultValue:null!==oe&&void 0!==oe&&null!==(T=oe.appointmentDetail)&&void 0!==T&&T.signOff?null===oe||void 0===oe||null===(V=oe.appointmentDetail)||void 0===V?void 0:V.signOff:null!==ne&&void 0!==ne&&ne.signOff?null===ne||void 0===ne?void 0:ne.signOff:"N/A",disabled:q})]})]}),!(null!==oe&&void 0!==oe&&oe.appointmentDetail)&&ne&&(0,H.jsx)("div",{className:"d-flex justify-content-end",children:(0,H.jsx)("p",{className:"float-right mb-0",style:{color:"#2269F2",fontWeght:500,fontSize:"18px",cursor:"pointer"},onClick:()=>J(!0),children:"Generate letter with appointment notes"})}),!(null!==oe&&void 0!==oe&&oe.patientId)&&(0,H.jsx)("div",{className:"d-flex justify-content-end",children:(0,H.jsx)(m.Z,{className:"start-apt-btn",type:"submit",children:"Save"})}),(null===oe||void 0===oe?void 0:oe.patientId)&&!0===B&&(0,H.jsx)(m.Z,{className:"mt-2 start-apt-btn float-right",type:"submit",children:"Update"})]})})})})})}function M(e){let{slotDescription:i,aptData:l,setAptData:t,setInputFieldValues:n,inputFieldValues:o}=e;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(F,{slotDescription:i,aptData:l,setAptData:t,setInputFieldValues:n,inputFieldValues:o}),(0,H.jsx)("hr",{style:{color:"#CCCCCC",border:"1px solid"}}),(0,H.jsx)(P,{slotDescription:i,aptData:l,setAptData:t,setInputFieldValues:n,inputFieldValues:o})]})}var k=l(23196),z=l(76364),T=l(60842);const V=function(){var e,i,l,a,s,u,v,x,f,y,N,b,D,Z,L,E,F,O,P,M,V,G,R;const[W,K]=(0,t.useState)(!1),[U,q]=(0,t.useState)(!1),{patientAppointmentNotes:Y}=(0,h.v9)((e=>(null===e||void 0===e?void 0:e.appointment)||{}));console.log("patientAppointmentNotes",Y);const[B,_]=(0,t.useState)(null!==Y&&void 0!==Y&&null!==(e=Y.medicalCertificate)&&void 0!==e&&e.fromDate?new Date(null===Y||void 0===Y||null===(i=Y.medicalCertificate)||void 0===i||null===(l=i.fromDate)||void 0===l?void 0:l.split("T")[0]):null),[Q,J]=(0,t.useState)(null!==Y&&void 0!==Y&&null!==(a=Y.medicalCertificate)&&void 0!==a&&a.toDate?new Date(null===Y||void 0===Y||null===(s=Y.medicalCertificate)||void 0===s||null===(u=s.toDate)||void 0===u?void 0:u.split("T")[0]):null),$=(0,t.useRef)(null),{register:X,handleSubmit:ee,setValue:ie}=(0,A.cI)(),le=(0,h.I0)(),te=(0,j.UO)(),{getPatientData:ne}=(0,h.v9)((e=>null===e||void 0===e?void 0:e.patient)),{getUserData:oe}=(0,h.v9)((e=>null===e||void 0===e?void 0:e.userRole));(0,t.useEffect)((()=>{if(Y&&null!==Y&&void 0!==Y&&Y.medicalCertificate){var e,i;const l=null===Y||void 0===Y||null===(e=Y.medicalCertificate)||void 0===e?void 0:e.fromDate,t=null===Y||void 0===Y||null===(i=Y.medicalCertificate)||void 0===i?void 0:i.toDate;_(l?new Date(l.split("T")[0]):null),J(t?new Date(t.split("T")[0]):null)}else _(null),J(null)}),[Y]),(0,t.useEffect)((()=>{var e,i;null!==Y&&void 0!==Y&&null!==(e=Y.medicalCertificate)&&void 0!==e&&e.unabletoAttendField&&ie("unabletoAttendField",null===Y||void 0===Y||null===(i=Y.medicalCertificate)||void 0===i?void 0:i.unabletoAttendField)}),[Y,ie]);const ae=()=>{const e={appointmentId:null===te||void 0===te?void 0:te.appointmentId};le((0,g.zp)(e)),K(!1)};return(0,H.jsx)("div",{className:"mx-4 ".concat(null!==Y&&void 0!==Y&&null!==(v=Y.medicalCertificate)&&void 0!==v&&v.sufferingFrom&&!0!==W?"":"mb-5"),children:(0,H.jsx)(d.Z,{onSubmit:ee((function(e){var i,l,t;const n={medicalCertificateId:null!==Y&&void 0!==Y&&null!==(i=Y.medicalCertificate)&&void 0!==i&&i.medicalCertificateId?null===Y||void 0===Y||null===(l=Y.medicalCertificate)||void 0===l?void 0:l.medicalCertificateId:0,appointmentId:null===te||void 0===te?void 0:te.appointmentId,name:e.sufferingFrom,showMedicalCertificate:U,fromDate:B?I()(B).format("YYYY-MM-DD"):null,toDate:Q?I()(Q).format("YYYY-MM-DD"):null,unabletoAttendField:e.unabletoAttendField,pdfFile:null,sufferingFrom:null===e||void 0===e?void 0:e.sufferingFrom};null!==Y&&void 0!==Y&&null!==(t=Y.medicalCertificate)&&void 0!==t&&t.sufferingFrom?le((0,k.T_)({finalData:n,onCreateSuccess:ae})):le((0,k._d)({finalData:n,onCreateSuccess:ae}))})),className:"med-certificate",children:(0,H.jsxs)(n.Z,{children:[(0,H.jsxs)(o.Z,{md:12,className:"d-flex justify-content-between",children:[(0,H.jsx)(d.Z.Check,{type:"checkbox",id:"show-medical-certificate",label:"Show to Patient",onChange:()=>{q(!U)},disabled:!(!0===(null===Y||void 0===Y||null===(x=Y.medicalCertificate)||void 0===x?void 0:x.showMedicalCertificate)&&W||!1===(null===Y||void 0===Y||null===(f=Y.medicalCertificate)||void 0===f?void 0:f.showMedicalCertificate)&&W)&&!(null===Y||void 0===Y||null===(y=Y.medicalCertificate)||void 0===y||!y.medicalCertificateId),defaultChecked:null===Y||void 0===Y||null===(N=Y.medicalCertificate)||void 0===N?void 0:N.showMedicalCertificate}),(null===Y||void 0===Y||null===(b=Y.medicalCertificate)||void 0===b?void 0:b.sufferingFrom)&&!1===W&&(0,H.jsx)(r.Z,{id:"dropdown-item-med",title:(0,H.jsx)(p.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,H.jsxs)("div",{className:"set-dropdown-menu",children:[(0,H.jsxs)(c.Z.Item,{className:"d-flex align-items-center",onClick:()=>{K(!0)},children:[(0,H.jsx)(C.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,H.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},children:"Edit"})]}),(0,H.jsx)(c.Z.Item,{className:"d-flex align-items-center",children:(0,H.jsx)(w.ZP,{trigger:(0,H.jsxs)("button",{ref:$,className:"bg-transparent border-0 p-0",children:[(0,H.jsx)(S.bAs,{size:20})," Download PDF"]}),children:(0,H.jsx)(z.Z,{MedicalCertificateData:null===Y||void 0===Y?void 0:Y.medicalCertificate,getUserData:oe,detailDTO:ne})})})]})})]}),(0,H.jsxs)(o.Z,{lg:6,xs:12,children:[(0,H.jsx)("label",{className:"mb-2",children:"From"}),(0,H.jsx)(T.Z,{selectedDateState:B,onChange:e=>_(e),className:"me-2",useDrDateClass:!1,dateFormat:"dd/MM/yyyy",placeholderText:"day/month/year",disabled:(null===Y||void 0===Y||null===(D=Y.medicalCertificate)||void 0===D||!D.fromDate||!W)&&!(null===Y||void 0===Y||null===(Z=Y.medicalCertificate)||void 0===Z||!Z.fromDate)})]}),(0,H.jsxs)(o.Z,{lg:6,xs:12,children:[(0,H.jsx)("label",{className:"mb-2",children:"To"}),(0,H.jsx)(T.Z,{selectedDateState:Q,onChange:e=>J(e),useDrDateClass:!1,dateFormat:"dd/MM/yyyy",placeholderText:"day/month/year",disabled:(null===Y||void 0===Y||null===(L=Y.medicalCertificate)||void 0===L||!L.toDate||!W)&&!(null===Y||void 0===Y||null===(E=Y.medicalCertificate)||void 0===E||!E.toDate)})]}),(0,H.jsx)(o.Z,{xs:12,children:(0,H.jsxs)(d.Z.Group,{className:"my-3",controlId:"unable-to-attend",children:[(0,H.jsx)(d.Z.Label,{children:"Unable to Attend"}),(0,H.jsxs)(d.Z.Select,{"aria-label":"Select Unable to Attend",...X("unabletoAttendField",{required:!0}),disabled:(null===Y||void 0===Y||null===(F=Y.medicalCertificate)||void 0===F||!F.unabletoAttendField||!W)&&!(null===Y||void 0===Y||null===(O=Y.medicalCertificate)||void 0===O||!O.unabletoAttendField),children:[(0,H.jsx)("option",{value:"",children:"Select Value"}),(0,H.jsx)("option",{value:"work",children:"Work"}),(0,H.jsx)("option",{value:"school",children:"School"}),(0,H.jsx)("option",{value:"college",children:"College"}),(0,H.jsx)("option",{value:"jury duty",children:"Jury Duty"})]})]})}),(0,H.jsx)(o.Z,{xs:12,children:(0,H.jsxs)(d.Z.Group,{className:"mb-3",controlId:"medicalFormField",children:[(0,H.jsx)(d.Z.Label,{className:"label-primary mt-2",children:"Suffering Certificate"}),(0,H.jsx)("span",{className:"d-flex justify-content-between",children:(0,H.jsx)(d.Z.Control,{as:"textarea",rows:3,className:"".concat((W||(null===Y||void 0===Y||null===(P=Y.medicalCertificate)||void 0===P?void 0:P.sufferingFrom))&&"bg-transparent"),placeholder:"Tell about some medical certificate",...X("sufferingFrom",{required:!0}),defaultValue:(null===Y||void 0===Y||null===(M=Y.medicalCertificate)||void 0===M?void 0:M.sufferingFrom)||"",readOnly:(null===Y||void 0===Y||null===(V=Y.medicalCertificate)||void 0===V||!V.sufferingFrom||!W)&&!(null===Y||void 0===Y||null===(G=Y.medicalCertificate)||void 0===G||!G.sufferingFrom),maxLength:250})})]})}),(0,H.jsx)(o.Z,{xs:3,className:"w-100",children:(!(null!==Y&&void 0!==Y&&null!==(R=Y.medicalCertificate)&&void 0!==R&&R.sufferingFrom)||!0===W)&&(0,H.jsx)(m.Z,{className:"mb-3 start-apt-btn float-right",type:"submit",children:"Save"})})]})})})};var G=l(80591),R=l(52802),W=l(3810);function K(){var e,i,l,D,L,E,F,O,P,k,z,T,K,U,q,Y,B,_,Q,J,$,X,ee,ie,le,te,ne,oe,ae,se,de,re;const[ce,me]=(0,t.useState)(!1),pe=(0,t.useRef)(null),{register:ue,handleSubmit:ve,reset:xe}=(0,A.cI)(),fe=(0,j.UO)(),he=(0,h.I0)(),je=(new Date).toISOString().slice(0,19),{getPatientData:ye}=(0,h.v9)((e=>e.patient)),{patientAppointmentNotes:Ne,isSuccess:ge,isLoading:be,isError:De}=(0,h.v9)((e=>e.appointment)),Ie=JSON.parse(localStorage.getItem("family_doc_app"));const Ae=[{dataField:"medicineName",text:"Medicine Name",headerAttrs:{hidden:!0},formatter:(e,i)=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("p",{className:"color-99 mb-0",children:"Medicine Name"}),(0,H.jsx)("p",{className:"table-custom-data",children:null!==i&&void 0!==i&&i.medicineName?null===i||void 0===i?void 0:i.medicineName:"N/A"})]})},{dataField:"doseFrequency",text:"Dose Frequency",headerAttrs:{hidden:!0},formatter:(e,i)=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("p",{className:"color-99 mb-0",children:"Dose Frequency"}),(0,H.jsx)("p",{className:"table-custom-data",children:null!==i&&void 0!==i&&i.doseFrequency?null===i||void 0===i?void 0:i.doseFrequency:"N/A"})]})},{dataField:"dose",text:"Dose",headerAttrs:{hidden:!0},formatter:(e,i)=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("p",{className:"color-99 mb-0",children:"Dose"}),(0,H.jsx)("p",{className:"table-custom-data",children:null!==i&&void 0!==i&&i.dose?null===i||void 0===i?void 0:i.dose:"N/A"})]})},{dataField:"formulation",text:"Formulation",headerAttrs:{hidden:!0},formatter:(e,i)=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("p",{className:"color-99 mb-0",children:"Formulation"}),(0,H.jsx)("p",{className:"table-custom-data",children:null!==i&&void 0!==i&&i.formulation?null===i||void 0===i?void 0:i.formulation:"N/A"})]})},{dataField:"quantity",text:"Quantity",headerAttrs:{hidden:!0},formatter:(e,i)=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("p",{className:"color-99 mb-0",children:"Quantity"}),(0,H.jsx)("p",{className:"table-custom-data",children:null!==i&&void 0!==i&&i.quantity?null===i||void 0===i?void 0:i.quantity:"N/A"})]})}],Ze={paginationSize:2,pageStartIndex:1,alwaysShowAllBtns:!0,withFirstAndLast:!1,hideSizePerPage:!0,showTotal:!0,paginationTotalRenderer:(e,i,l)=>(0,H.jsxs)("span",{className:"react-bootstrap-table-pagination-total",children:[(0,H.jsxs)("b",{children:[" ",e," "]})," to ",(0,H.jsx)("b",{children:i})," out of ",(0,H.jsxs)("b",{children:[l," entries"]})]}),disablePageTitle:!0,sizePerPageList:[{text:"2",value:2}]};(0,t.useEffect)((()=>{const e={patientId:null===fe||void 0===fe?void 0:fe.patientId};he((0,N._s)(e))}),[he,null===fe||void 0===fe?void 0:fe.patientId]),(0,t.useEffect)((()=>{const e={userId:null===Ie||void 0===Ie?void 0:Ie.userId};he((0,G.PR)(e))}),[he,null===Ie||void 0===Ie?void 0:Ie.userId]),(0,t.useEffect)((()=>{const e={appointmentId:null===fe||void 0===fe?void 0:fe.appointmentId};he((0,g.zp)(e))}),[he,null===fe||void 0===fe?void 0:fe.appointmentId]);const Ce=()=>{const e={appointmentId:null===fe||void 0===fe?void 0:fe.appointmentId};he((0,g.zp)(e)),me(!1),xe()};const we=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date(null===Ne||void 0===Ne?void 0:Ne.appointentDate),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";return null===e||void 0===e?void 0:e.toLocaleDateString(i,{weekday:"short"})}();const Se=null===Ne||void 0===Ne?void 0:Ne.startTime,Le=new Date(Se),Ee=Le.getTimezoneOffset(),He=new Date(Le.getTime()-6e4*Ee).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("nav",{"aria-label":"breadcrumb",children:(0,H.jsxs)("ol",{className:"breadcrumb",children:[(0,H.jsx)("li",{className:"breadcrumb-item",children:(0,H.jsx)(y.rU,{to:W.m.PATIENTS,className:"text-decoration-none fs-5",style:{color:"#999999"},children:"Patients"})}),(0,H.jsx)(f.hjJ,{style:{color:"#999999"},className:"ms-2 mt-2"}),(0,H.jsx)("li",{className:"breadcrumb-item active fs-5","aria-current":"page",style:{color:"#999999"},children:"".concat(null===ye||void 0===ye?void 0:ye.firstName," ").concat(null===ye||void 0===ye?void 0:ye.lastName)}),(0,H.jsx)(f.hjJ,{style:{color:"#999999"},className:"ms-2 mt-2"}),(0,H.jsx)("li",{className:"breadcrumb-item active fs-5","aria-current":"page",style:{color:"#999999"},children:"Appointments"}),(0,H.jsx)(f.hjJ,{style:{color:"#999999"},className:"ms-2 mt-2"}),(0,H.jsx)("li",{className:"breadcrumb-item active fs-5","aria-current":"page",style:{color:"#000071"},children:"Appointment Notes"})]})}),(0,H.jsxs)(n.Z,{className:"patient-appointment-notes-details",children:[(0,H.jsx)(o.Z,{xl:3,lg:4,md:4,children:(0,H.jsx)("div",{className:"shadow-sm",children:(0,H.jsx)(x.Z,{name:null!==ye&&void 0!==ye&&ye.firstName?"".concat(null===ye||void 0===ye?void 0:ye.firstName," ").concat(null===ye||void 0===ye?void 0:ye.lastName):"N/A",genderInfo:"true",gender:null!==ye&&void 0!==ye&&ye.gender?null===ye||void 0===ye?void 0:ye.gender:"N/A",dobInfo:"true",dob:null!==ye&&void 0!==ye&&ye.dob?null===ye||void 0===ye?void 0:ye.dob.split("T")[0]:"N/A",locationInfo:"true",location:null!==ye&&void 0!==ye&&ye.currentAddress?null===ye||void 0===ye?void 0:ye.currentAddress:"N/A",currentLocationInfo:"true",currentLocation:null!==ye&&void 0!==ye&&ye.currentAddress?null===ye||void 0===ye?void 0:ye.currentAddress:"N/A",patientLocalGPInfo:"true",patientLocalGP:null!==ye&&void 0!==ye&&ye.patientLocalGP?null===ye||void 0===ye?void 0:ye.patientLocalGP:"N/A",emailInfo:"true",email:null!==ye&&void 0!==ye&&ye.email?null===ye||void 0===ye?void 0:ye.email:"N/A",pharmacyInfo:"true",pharmacy:"Clinix",phoneInfo:"true",phone:null!==ye&&void 0!==ye&&ye.phoneNumber?null===ye||void 0===ye?void 0:ye.phoneNumber:"N/A",image:null===ye||void 0===ye?void 0:ye.imageUrl})})}),(0,H.jsx)(o.Z,{xl:9,lg:8,md:8,children:(0,H.jsxs)(a.Z,{className:"px-4 pt-4 shadow-sm patient-appointment-notes-details",children:[(0,H.jsx)("div",{className:"py-3",children:(0,H.jsx)("h4",{className:"px-2 py-2 header-border",children:"Appointmnet Notes"})}),(0,H.jsx)(s.Z,{defaultActiveKey:"0",children:(0,H.jsxs)(s.Z.Item,{eventKey:"0",className:"my-3",children:[(0,H.jsx)(s.Z.Header,{children:(0,H.jsx)("h4",{children:"Appointment Details"})}),(0,H.jsx)(s.Z.Body,{className:"py-4",children:be?(0,H.jsx)("p",{className:"my-5 text-center fst-italic",style:{color:"#999999"},children:"Loading..."}):ge?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{className:"d-flex justify-content-between py-3 pb-4",children:(0,H.jsxs)("div",{className:"d-flex",children:[(0,H.jsx)("img",{src:v.Z.APPOINTMENT_ICON,alt:"Appointment Icon",className:"appointment-icon-size color-dk-blue"}),(0,H.jsxs)("p",{className:"ps-2 pt-1 mb-0 fw-bold align-items-center",children:[we,","," ",I()(null===Ne||void 0===Ne?void 0:Ne.appointentDate).format("DD-MMM-YYYY"),", ",He]})]})}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{style:{color:"#999999"},className:"mb-1",children:"Presenting Complaint"}),(0,H.jsx)("p",{children:null!==Ne&&void 0!==Ne&&null!==(e=Ne.appointmentDetail)&&void 0!==e&&e.presentingComplaint?null===Ne||void 0===Ne||null===(i=Ne.appointmentDetail)||void 0===i?void 0:i.presentingComplaint:"N/A"})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{style:{color:"#999999"},className:"mb-1",children:"Past Medical History"}),(0,H.jsx)("p",{children:null!==Ne&&void 0!==Ne&&null!==(l=Ne.appointmentDetail)&&void 0!==l&&l.pastMedicalHistory?null===Ne||void 0===Ne||null===(D=Ne.appointmentDetail)||void 0===D?void 0:D.pastMedicalHistory:"N/A"})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{style:{color:"#999999"},className:"mb-1",children:"Medications"}),(0,H.jsx)("p",{children:null!==Ne&&void 0!==Ne&&null!==(L=Ne.appointmentDetail)&&void 0!==L&&L.medications?null===Ne||void 0===Ne||null===(E=Ne.appointmentDetail)||void 0===E?void 0:E.medications:"N/A"})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{style:{color:"#999999"},className:"mb-1",children:"Allergies"}),(0,H.jsx)("p",{children:null!==Ne&&void 0!==Ne&&null!==(F=Ne.appointmentDetail)&&void 0!==F&&F.allergies?null===Ne||void 0===Ne||null===(O=Ne.appointmentDetail)||void 0===O?void 0:O.allergies:"N/A"})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{style:{color:"#999999"},className:"mb-1",children:"Family History"}),(0,H.jsx)("p",{children:null!==Ne&&void 0!==Ne&&null!==(P=Ne.appointmentDetail)&&void 0!==P&&P.familyHistory?null===Ne||void 0===Ne||null===(k=Ne.appointmentDetail)||void 0===k?void 0:k.familyHistory:"N/A"})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{style:{color:"#999999"},className:"mb-1",children:"Social History"}),(0,H.jsx)("p",{children:null!==Ne&&void 0!==Ne&&null!==(z=Ne.appointmentDetail)&&void 0!==z&&z.socialHistory?null===Ne||void 0===Ne||null===(T=Ne.appointmentDetail)||void 0===T?void 0:T.socialHistory:"N/A"})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{style:{color:"#999999"},className:"mb-1",children:"Objective Examination"}),(0,H.jsx)("p",{children:null!==Ne&&void 0!==Ne&&null!==(K=Ne.appointmentDetail)&&void 0!==K&&K.objectiveExamination?null===Ne||void 0===Ne||null===(U=Ne.appointmentDetail)||void 0===U?void 0:U.objectiveExamination:"N/A"})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{style:{color:"#999999"},className:"mb-1",children:"Suspected Diagnosis"}),(0,H.jsx)("p",{children:null!==Ne&&void 0!==Ne&&null!==(q=Ne.appointmentDetail)&&void 0!==q&&q.suspectedDiagnosis?null===Ne||void 0===Ne||null===(Y=Ne.appointmentDetail)||void 0===Y?void 0:Y.suspectedDiagnosis:"N/A"})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{style:{color:"#999999"},className:"mb-1",children:"Recommended Action"}),(0,H.jsx)("p",{children:null!==Ne&&void 0!==Ne&&null!==(B=Ne.appointmentDetail)&&void 0!==B&&B.recommendedActions?null===Ne||void 0===Ne||null===(_=Ne.appointmentDetail)||void 0===_?void 0:_.recommendedActions:"N/A"})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{style:{color:"#999999"},className:"mb-1",children:"Sign off"}),(0,H.jsx)("p",{children:null!==Ne&&void 0!==Ne&&null!==(Q=Ne.appointmentDetail)&&void 0!==Q&&Q.signOff?null===Ne||void 0===Ne||null===(J=Ne.appointmentDetail)||void 0===J?void 0:J.signOff:"N/A"})]})]}):De?(0,H.jsx)("p",{className:"my-5 text-center text-danger fst-italic",children:"Network Error"}):null})]})}),(0,H.jsx)(s.Z,{children:(0,H.jsxs)(s.Z.Item,{eventKey:"0",className:"my-3",children:[(0,H.jsx)(s.Z.Header,{children:(0,H.jsx)("h4",{children:"Notes to Patient"})}),(0,H.jsx)(s.Z.Body,{className:"mx-4 ".concat(null!==Ne&&void 0!==Ne&&null!==($=Ne.note)&&void 0!==$&&$.note&&!0!==ce?"":"mb-5"),children:be?(0,H.jsx)("p",{className:"my-5 text-center fst-italic",style:{color:"#999999"},children:"Loading..."}):ge?(0,H.jsxs)(d.Z,{onSubmit:ve((function(e){var i,l,t,n;const o={noteId:null!==Ne&&void 0!==Ne&&null!==(i=Ne.note)&&void 0!==i&&i.noteId?null===Ne||void 0===Ne||null===(l=Ne.note)||void 0===l?void 0:l.noteId:0,patientId:null!==fe&&void 0!==fe&&fe.patientId?null===fe||void 0===fe?void 0:fe.patientId:null===Ne||void 0===Ne||null===(t=Ne.note)||void 0===t?void 0:t.patientId,doctorId:null===Ie||void 0===Ie?void 0:Ie.userId,appointmentId:null===fe||void 0===fe?void 0:fe.appointmentId,noteTypeId:1,note:null===e||void 0===e?void 0:e.note,date:je,showNote:!0,appointmentDetail:null!==Ne&&void 0!==Ne&&Ne.note?{appointmentDetailId:0}:null};null!==Ne&&void 0!==Ne&&null!==(n=Ne.note)&&void 0!==n&&n.noteId?he((0,Z.fW)({finalData:o,moveToNext:Ce})):he((0,Z.K1)({finalData:o,moveToNext:Ce}))})),children:[(0,H.jsx)(d.Z.Group,{className:"mb-3",controlId:"medicalForm.ControlTextarea1",children:(0,H.jsxs)("span",{className:"d-flex justify-content-between",children:[(0,H.jsx)(d.Z.Control,{as:"textarea",rows:3,className:"".concat((ce||(null===Ne||void 0===Ne||null===(X=Ne.note)||void 0===X?void 0:X.note))&&"bg-transparent"),placeholder:"Tell about Notes to Patient",...ue("note",{required:!0}),defaultValue:null!==(ee=null===Ne||void 0===Ne||null===(ie=Ne.note)||void 0===ie?void 0:ie.note)&&void 0!==ee?ee:"",readOnly:(null===Ne||void 0===Ne||null===(le=Ne.note)||void 0===le||!le.note||!ce)&&!(null===Ne||void 0===Ne||null===(te=Ne.note)||void 0===te||!te.note)}),(null===Ne||void 0===Ne||null===(ne=Ne.note)||void 0===ne?void 0:ne.note)&&!1===ce&&(0,H.jsx)(r.Z,{id:"dropdown-item-button",title:(0,H.jsx)(p.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,H.jsx)("div",{className:"set-dropdown-menu",children:(0,H.jsxs)(c.Z.Item,{className:"d-flex align-items-center",onClick:()=>{me(!0)},children:[(0,H.jsx)(C.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,H.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},children:"Edit"})]})})})]})}),(!(null!==Ne&&void 0!==Ne&&null!==(oe=Ne.note)&&void 0!==oe&&oe.note)||!0===ce)&&(0,H.jsx)(m.Z,{className:"mb-3 start-apt-btn float-right",type:"submit",children:"Save"})]}):De?(0,H.jsx)("p",{className:"my-5 text-center text-danger fst-italic",children:"Network Error"}):null})]})}),(0,H.jsx)(s.Z,{children:(0,H.jsxs)(s.Z.Item,{eventKey:"0",className:"my-3",children:[(0,H.jsx)(s.Z.Header,{children:(0,H.jsx)("h4",{children:"Prescription"})}),(0,H.jsx)(s.Z.Body,{className:"py-4",children:be?(0,H.jsx)("p",{className:"my-5 text-center fst-italic",style:{color:"#999999"},children:"Loading..."}):ge?(0,H.jsx)(a.Z,{className:"bg-light px-3 mb-3",children:(0,H.jsx)("div",{className:"custom-table-spacing",children:(null===Ne||void 0===Ne||null===(ae=Ne.prescription)||void 0===ae||null===(se=ae.medicineList)||void 0===se?void 0:se.length)>0?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{className:"d-flex justify-content-end pt-3",children:(0,H.jsx)(w.ZP,{trigger:(0,H.jsxs)("button",{ref:pe,className:"border-0 px-3 py-2 rounded-2",children:[(0,H.jsx)(S.bAs,{size:20})," Download PDF"]}),children:(0,H.jsx)(R.Z,{prescriptionData:null===Ne||void 0===Ne?void 0:Ne.prescription})})}),(0,H.jsx)(b.Z,{keyField:"id",data:null!==Ne&&void 0!==Ne&&null!==(de=Ne.prescription)&&void 0!==de&&de.medicineList?null===Ne||void 0===Ne||null===(re=Ne.prescription)||void 0===re?void 0:re.medicineList:[],columns:Ae,bordered:!1,rowStyle:function(){return{backgroundColor:"#F8F8F8"}},wrapperClasses:"table-responsive",pagination:(0,u.ZP)(Ze)})]}):(0,H.jsx)("p",{className:"text-black text-center w-100 mb-0 py-2",children:"No Prescription"})})}):De?(0,H.jsx)("p",{className:"my-5 text-center text-danger fst-italic",children:"Network Error"}):null})]})}),(0,H.jsx)(s.Z,{children:(0,H.jsxs)(s.Z.Item,{eventKey:"0",className:"my-3",children:[(0,H.jsx)(s.Z.Header,{children:(0,H.jsx)("h4",{children:"Referral"})}),(0,H.jsx)(s.Z.Body,{className:"py-0",children:(0,H.jsx)(M,{})})]})}),(0,H.jsx)(s.Z,{children:(0,H.jsxs)(s.Z.Item,{eventKey:"0",className:"my-3",children:[(0,H.jsx)(s.Z.Header,{children:(0,H.jsx)("h4",{style:{color:"#44BC19"},children:"Medical Certificate"})}),(0,H.jsx)(s.Z.Body,{children:be?(0,H.jsx)("p",{className:"my-5 text-center fst-italic",style:{color:"#999999"},children:"Loading..."}):ge?(0,H.jsx)(V,{}):De?(0,H.jsx)("p",{className:"my-5 text-center text-danger fst-italic",children:"Network Error"}):null})]})})]})})]})]})}},89252:(e,i,l)=>{function t(e,i){e.classList?e.classList.add(i):function(e,i){return e.classList?!!i&&e.classList.contains(i):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+i+" ")}(e,i)||("string"===typeof e.className?e.className=e.className+" "+i:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+i))}l.d(i,{Z:()=>t})},12946:(e,i,l)=>{function t(e,i){return e.replace(new RegExp("(^|\\s)"+i+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function n(e,i){e.classList?e.classList.remove(i):"string"===typeof e.className?e.className=t(e.className,i):e.setAttribute("class",t(e.className&&e.className.baseVal||"",i))}l.d(i,{Z:()=>n})},69764:(e,i,l)=>{l.d(i,{Z:()=>P});var t=l(41418),n=l.n(t),o=l(72791),a=l(80239),s=l(10162),d=l(75427),r=l(98328),c=l(71380);const m=function(){for(var e=arguments.length,i=new Array(e),l=0;l<e;l++)i[l]=arguments[l];return i.filter((e=>null!=e)).reduce(((e,i)=>{if("function"!==typeof i)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?i:function(){for(var l=arguments.length,t=new Array(l),n=0;n<l;n++)t[n]=arguments[n];e.apply(this,t),i.apply(this,t)}}),null)};var p=l(67202),u=l(14083),v=l(80184);const x={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function f(e,i){const l=i["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],t=x[e];return l+parseInt((0,d.Z)(i,t[0]),10)+parseInt((0,d.Z)(i,t[1]),10)}const h={[r.Wj]:"collapse",[r.Ix]:"collapsing",[r.d0]:"collapsing",[r.cn]:"collapse show"},j=o.forwardRef(((e,i)=>{let{onEnter:l,onEntering:t,onEntered:a,onExit:s,onExiting:d,className:r,children:x,dimension:j="height",in:y=!1,timeout:N=300,mountOnEnter:g=!1,unmountOnExit:b=!1,appear:D=!1,getDimensionValue:I=f,...A}=e;const Z="function"===typeof j?j():j,C=(0,o.useMemo)((()=>m((e=>{e.style[Z]="0"}),l)),[Z,l]),w=(0,o.useMemo)((()=>m((e=>{const i="scroll".concat(Z[0].toUpperCase()).concat(Z.slice(1));e.style[Z]="".concat(e[i],"px")}),t)),[Z,t]),S=(0,o.useMemo)((()=>m((e=>{e.style[Z]=null}),a)),[Z,a]),L=(0,o.useMemo)((()=>m((e=>{e.style[Z]="".concat(I(Z,e),"px"),(0,p.Z)(e)}),s)),[s,I,Z]),E=(0,o.useMemo)((()=>m((e=>{e.style[Z]=null}),d)),[Z,d]);return(0,v.jsx)(u.Z,{ref:i,addEndListener:c.Z,...A,"aria-expanded":A.role?y:null,onEnter:C,onEntering:w,onEntered:S,onExit:L,onExiting:E,childRef:x.ref,in:y,timeout:N,mountOnEnter:g,unmountOnExit:b,appear:D,children:(e,i)=>o.cloneElement(x,{...i,className:n()(r,x.props.className,h[e],"width"===Z&&"collapse-horizontal")})})}));function y(e,i){return Array.isArray(e)?e.includes(i):e===i}const N=o.createContext({});N.displayName="AccordionContext";const g=N,b=o.forwardRef(((e,i)=>{let{as:l="div",bsPrefix:t,className:a,children:d,eventKey:r,...c}=e;const{activeEventKey:m}=(0,o.useContext)(g);return t=(0,s.vE)(t,"accordion-collapse"),(0,v.jsx)(j,{ref:i,in:y(m,r),...c,className:n()(a,t),children:(0,v.jsx)(l,{children:o.Children.only(d)})})}));b.displayName="AccordionCollapse";const D=b,I=o.createContext({eventKey:""});I.displayName="AccordionItemContext";const A=I,Z=o.forwardRef(((e,i)=>{let{as:l="div",bsPrefix:t,className:a,onEnter:d,onEntering:r,onEntered:c,onExit:m,onExiting:p,onExited:u,...x}=e;t=(0,s.vE)(t,"accordion-body");const{eventKey:f}=(0,o.useContext)(A);return(0,v.jsx)(D,{eventKey:f,onEnter:d,onEntering:r,onEntered:c,onExit:m,onExiting:p,onExited:u,children:(0,v.jsx)(l,{ref:i,...x,className:n()(a,t)})})}));Z.displayName="AccordionBody";const C=Z;const w=o.forwardRef(((e,i)=>{let{as:l="button",bsPrefix:t,className:a,onClick:d,...r}=e;t=(0,s.vE)(t,"accordion-button");const{eventKey:c}=(0,o.useContext)(A),m=function(e,i){const{activeEventKey:l,onSelect:t,alwaysOpen:n}=(0,o.useContext)(g);return o=>{let a=e===l?null:e;n&&(a=Array.isArray(l)?l.includes(e)?l.filter((i=>i!==e)):[...l,e]:[e]),null==t||t(a,o),null==i||i(o)}}(c,d),{activeEventKey:p}=(0,o.useContext)(g);return"button"===l&&(r.type="button"),(0,v.jsx)(l,{ref:i,onClick:m,...r,"aria-expanded":Array.isArray(p)?p.includes(c):c===p,className:n()(a,t,!y(p,c)&&"collapsed")})}));w.displayName="AccordionButton";const S=w,L=o.forwardRef(((e,i)=>{let{as:l="h2",bsPrefix:t,className:o,children:a,onClick:d,...r}=e;return t=(0,s.vE)(t,"accordion-header"),(0,v.jsx)(l,{ref:i,...r,className:n()(o,t),children:(0,v.jsx)(S,{onClick:d,children:a})})}));L.displayName="AccordionHeader";const E=L,H=o.forwardRef(((e,i)=>{let{as:l="div",bsPrefix:t,className:a,eventKey:d,...r}=e;t=(0,s.vE)(t,"accordion-item");const c=(0,o.useMemo)((()=>({eventKey:d})),[d]);return(0,v.jsx)(A.Provider,{value:c,children:(0,v.jsx)(l,{ref:i,...r,className:n()(a,t)})})}));H.displayName="AccordionItem";const F=H,O=o.forwardRef(((e,i)=>{const{as:l="div",activeKey:t,bsPrefix:d,className:r,onSelect:c,flush:m,alwaysOpen:p,...u}=(0,a.Ch)(e,{activeKey:"onSelect"}),x=(0,s.vE)(d,"accordion"),f=(0,o.useMemo)((()=>({activeEventKey:t,onSelect:c,alwaysOpen:p})),[t,c,p]);return(0,v.jsx)(g.Provider,{value:f,children:(0,v.jsx)(l,{ref:i,...u,className:n()(r,x,m&&"".concat(x,"-flush"))})})}));O.displayName="Accordion";const P=Object.assign(O,{Button:S,Collapse:D,Item:F,Header:E,Body:C})},29546:(e,i,l)=>{l.d(i,{Z:()=>v});var t=l(72791),n=l(52007),o=l.n(n),a=l(1444),s=l(5107),d=l(20070);const r=o().oneOf(["start","end"]),c=o().oneOfType([r,o().shape({sm:r}),o().shape({md:r}),o().shape({lg:r}),o().shape({xl:r}),o().shape({xxl:r}),o().object]);var m=l(80184);const p={id:o().string,href:o().string,onClick:o().func,title:o().node.isRequired,disabled:o().bool,align:c,menuRole:o().string,renderMenuOnMount:o().bool,rootCloseEvent:o().string,menuVariant:o().oneOf(["dark"]),flip:o().bool,bsPrefix:o().string,variant:o().string,size:o().string},u=t.forwardRef(((e,i)=>{let{title:l,children:t,bsPrefix:n,rootCloseEvent:o,variant:r,size:c,menuRole:p,renderMenuOnMount:u,disabled:v,href:x,id:f,menuVariant:h,flip:j,...y}=e;return(0,m.jsxs)(a.Z,{ref:i,...y,children:[(0,m.jsx)(s.Z,{id:f,href:x,size:c,variant:r,disabled:v,childBsPrefix:n,children:l}),(0,m.jsx)(d.Z,{role:p,renderOnMount:u,rootCloseEvent:o,variant:h,flip:j,children:t})]})}));u.displayName="DropdownButton",u.propTypes=p;const v=u},27472:(e,i,l)=>{l.d(i,{Z:()=>s});var t=l(72791),n=l(41418),o=l.n(n),a=l(80184);const s=e=>t.forwardRef(((i,l)=>(0,a.jsx)("div",{...i,ref:l,className:o()(i.className,e)})))}}]);
//# sourceMappingURL=3343.c06dfb24.chunk.js.map