"use strict";(self.webpackChunkfamily_doc_app=self.webpackChunkfamily_doc_app||[]).push([[3774],{52268:(e,n,t)=>{t.d(n,{Tf:()=>s,bA:()=>a,lt:()=>l,sP:()=>i});const a=[{lookupId:6,value:"Nurse"},{lookupId:7,value:"Receptionist"}],i=[{lookupId:101,value:"Male"},{lookupId:102,value:"Female"},{lookupId:103,value:"Other"}],s={Destroyed:"destroyed",Error:"error",Incoming:"incoming",Registered:"registered",Registering:"registering",TokenWillExpire:"tokenWillExpire",Unregistered:"unregistered"},l={Connected:"connected",Accept:"accept",Audio:"audio",Cancel:"cancel",Disconnect:"disconnect",Error:"error",Mute:"mute",Reconnected:"reconnected",Reconnecting:"reconnecting",Reject:"reject",Ringing:"ringing",Sample:"sample",Volume:"volume",WarningCleared:"warning-cleared",Warning:"warning"}},21446:(e,n,t)=>{t.d(n,{Z:()=>j});var a=t(72791),i=t(95070),s=t(72426),l=t.n(s),o=t(43360),c=t(88135),d=t(36638),r=t(61134),m=t(95431),h=t(59434),u=(t(10215),t(4053)),p=t(52268),v=t(80184);const x=()=>{var e;const{register:n}=(0,r.cI)(),[t,i]=(0,a.useState)(!1),[s,l]=(0,a.useState)(p.Tf.Unregistered),[x,j]=(0,a.useState)(null),[y,f]=(0,a.useState)(null),{videoCallData:g}=((0,h.I0)(),(0,h.v9)((e=>(null===e||void 0===e?void 0:e.vonageData)||{}))),{patientAppointedDetail:N}=(0,h.v9)((e=>e.appointment));function b(e){l(p.Tf.Registering),console.log("Initializing a new device",s);let n=new m.AS(null===e||void 0===e?void 0:e.twilioToken,{logLevel:1,codecPreferences:["opus","pcmu"]});!function(e){e.on("registered",(function(){console.log("The device is ready to make and receive incoming calls."),l(p.Tf.Registered)})),e.on("registering",(function(){l(p.Tf.Registering)})),e.on("error",(function(e){console.log("Twilio.Device Error: "+e.message),l(p.Tf.Error)})),e.audio.on("deviceChange",(function(){console.log("device Change")}))}(n),n.register(),async function(e,n){var t;const a=null===n||void 0===n?void 0:n.callingDeviceIdentity;var i={To:null===N||void 0===N||null===(t=N.detailDTO)||void 0===t?void 0:t.phoneNumber,callingDeviceIdentity:a};if(e){console.log("Attempting to call ".concat(i.To," ..."));const n=await e.connect({params:i});f(n),n&&(j(p.lt.Connected),console.log("setCallStateConnected",x)),console.log("Connection successful:",j),n.on("accept",(function(){console.log("'accepted' means the call has finished connecting and the state is now 'open'"),j(p.lt.Accept)})),n.on("ringing",(function(){console.log("Ringing ..."),j(p.lt.Ringing)})),n.on("disconnect",(function(){console.log("Call Disconnected"),j(p.lt.Disconnect,(()=>{console.log("callState",x)}))})),n.on("cancel",(function(){console.log("Call Cancelled"),j(p.lt.Cancel)}))}else console.log("Unable to make call.")}(n,e)}function D(){console.log("Requesting Access Token...");b({twilioToken:null===g||void 0===g?void 0:g.twilioToken,callingDeviceIdentity:null===g||void 0===g?void 0:g.twilioIdentity})}return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"w-100 d-flex mb-3",children:(0,v.jsx)(o.Z,{style:{background:"#6045EB"},onClick:()=>i(!0),className:"px-4 mx-auto my-o",disabled:!g,children:"Call"})}),(0,v.jsxs)(c.Z,{show:t,onHide:()=>i(!1),size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"appointment-modal",backdrop:"static",children:["unregistered"===s||"disconnect"===x&&(0,v.jsx)(c.Z.Header,{closeButton:!0}),(0,v.jsxs)(c.Z.Body,{children:[(0,v.jsx)("div",{className:"d-flex justify-content-center",children:(0,v.jsx)("img",{src:u.Z.TWILIO_LOGO,alt:"Twilio Logo",width:120,height:"auto",className:"".concat("disconnect"!==x&&"unregistered"!==s&&"error"!==s?"rotate-img":"")})}),(0,v.jsxs)(d.Z.Group,{className:"mb-2",controlId:"numberField",children:[(0,v.jsx)(d.Z.Label,{className:"fw-bold",children:"Enter Phone Number"}),(0,v.jsx)(d.Z.Control,{type:"text",placeholder:"+1 530 673 3342",size:"lg",...n("toNumber",{required:!0}),defaultValue:null===N||void 0===N||null===(e=N.detailDTO)||void 0===e?void 0:e.phoneNumber,disabled:!0})]}),"error"===s?(0,v.jsx)("p",{className:"mb-0",style:{fontSize:"14px",color:"#E31E27"},children:"Unable to Connect Server"}):"",(0,v.jsx)("div",{className:"d-flex",children:"ringing"===x?(0,v.jsx)("p",{className:"mb-0 mx-auto my-0",style:{color:"#44BC19"},children:"Ringing ..."}):"registering"===s?(0,v.jsx)("p",{className:"mb-0 mx-auto my-0",style:{color:"#FFB400"},children:"Registring ..."}):(0,v.jsx)(o.Z,{style:{background:"transparent",border:"none",color:"#E31E27"},className:"fw-bold px-4 mx-auto my-0 cursor-pointer",onClick:"unregistered"===s||"disconnect"===x||"error"===s?D:function(){y&&(console.log("Hanging up ...",y),y.disconnect())},children:"unregistered"===s||"disconnect"===x||"error"===s?"Call":"Hang Up"})})]})]})]})};function j(e){const{name:n,genderInfo:t,gender:a,dobInfo:s,dob:o,professionInfo:c,profession:d,currentLocationInfo:r,currentLocation:m,patientLocalGPInfo:h,patientLocalGP:u,emailInfo:p,email:j,phoneInfo:y,phone:f,specialityInfo:g,speciality:N,pharmacyInfo:b,pharmacy:D,locationInfo:w,location:I,nextOfKinName:S,nextOfKinNumber:P,nextOfKinNameInfo:Z,nextOfKinNumberInfo:C,image:E,callButton:A}=e;return(0,v.jsx)(i.Z,{className:"generic-card",children:(0,v.jsxs)(i.Z.Body,{className:"p-0 main-personalprofile",children:[(0,v.jsxs)("div",{className:"img-card w-100",children:[(0,v.jsx)("div",{className:"upload_pic profile_upload profileContent",children:(0,v.jsx)("img",{src:E||"https://ui-avatars.com/api/?name=".concat("".concat(n),"&background=6045eb&color=fff"),alt:"",className:"img-fluid Profile-2 position-relative test-border"})}),(0,v.jsx)("p",{className:"text-center my-3",style:{fontSize:"1.5rem",fontWeight:500,paddingTop:"40px"},children:n||"N/A"})]}),(0,v.jsxs)("div",{className:"px-4 card-content pt-4",children:[t&&(0,v.jsxs)(v.Fragment,{children:[" ",(0,v.jsxs)("span",{className:"d-flex flex-wrap justify-content-between pt-3",children:[(0,v.jsx)("p",{children:"Gender"}),(0,v.jsx)("p",{children:a||"N/A"})]}),(0,v.jsx)("hr",{})]}),s&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,v.jsx)("p",{children:"D.O.B"}),(0,v.jsx)("p",{children:l()(o).format("MM/DD/YYYY")})]}),(0,v.jsx)("hr",{})]}),w&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,v.jsx)("p",{children:"Location"}),(0,v.jsx)("p",{children:I||"N/A"})]}),(0,v.jsx)("hr",{})]}),c&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,v.jsx)("p",{children:"Profession/Occupation:"}),(0,v.jsx)("p",{children:d||"N/A"})]}),(0,v.jsx)("hr",{})]}),r&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,v.jsx)("p",{children:"Current Location"}),(0,v.jsx)("p",{children:m||"N/A"})]}),(0,v.jsx)("hr",{})]}),h&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,v.jsx)("p",{children:"Patient Local GP"}),(0,v.jsx)("p",{children:u||"N/A"})]}),(0,v.jsx)("hr",{})]}),p&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,v.jsx)("p",{children:"Email"}),(0,v.jsx)("p",{children:j||"N/A"})]}),(0,v.jsx)("hr",{})]}),b&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,v.jsx)("p",{children:"Pharmacy"}),(0,v.jsx)("p",{children:D||"N/A"})]}),(0,v.jsx)("hr",{})]}),y&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,v.jsx)("p",{children:"Phone"}),(0,v.jsx)("p",{children:f||"N/A"})]}),(0,v.jsx)("hr",{})]}),Z&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,v.jsx)("p",{children:"Next of Kin Name"}),(0,v.jsx)("p",{children:S||"N/A"})]}),(0,v.jsx)("hr",{})]}),C&&(0,v.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,v.jsx)("p",{children:"Next of Kin Number"}),(0,v.jsx)("p",{children:P||"N/A"})]}),g&&(0,v.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,v.jsx)("p",{children:"Speciality"}),(0,v.jsx)("p",{children:N||"N/A"})]}),A&&(0,v.jsx)(x,{})]})]})})}},79605:(e,n,t)=>{t.r(n),t.d(n,{default:()=>V});var a=t(72791),i=t(89743),s=t(2677),l=t(95070),o=t(19485),c=t(61734),d=t(69764),r=t(36638),m=t(43360),h=t(88135),u=t(58617),p=t(56355),v=t(84373),x=t(20240),j=t(78820),y=t(80184);const f=function(e){const{showEndModal:n,handleCloseEndModal:t,discounthandlerEnd:a}=e;return(0,y.jsx)("div",{children:(0,y.jsxs)(h.Z,{show:n,onHide:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"appointment-modal",children:[(0,y.jsx)(h.Z.Header,{closeButton:!0}),(0,y.jsxs)(h.Z.Body,{children:[(0,y.jsx)("div",{className:"d-flex justify-content-center ",children:(0,y.jsx)("span",{className:"stethoscope-icon",children:(0,y.jsx)(p.K7y,{size:34})})}),(0,y.jsxs)("div",{className:"my-3",children:[(0,y.jsx)("h4",{className:"text-center w-50 mx-auto my-0",style:{fontWeight:600},children:"You are about to end this appointment"}),(0,y.jsx)("p",{className:"text-center mt-3 mb-4",children:"Note: If you end tha appointment, you will be unable to reconnect"})]}),(0,y.jsx)("span",{className:"d-flex justify-content-center mt-2 mb-5",children:(0,y.jsx)(m.Z,{className:"end-apt-btn",onClick:()=>(a(),void t()),children:"End Appointment"})})]})]})})};class g extends a.Component{constructor(e){var n,t;super(e),this.setAudio=e=>{this.setState({audio:e})},this.setVideo=e=>{this.setState({video:e})},this.setShowEndModal=e=>{this.setState({showEndModal:e})},this.changeVideoSource=e=>{"camera"!==this.state.videoSource?this.setState({videoSource:"camera"}):this.setState({videoSource:"screen"})},this.onError=e=>{this.setState({error:"Failed to publish: ".concat(e.message)})},this.discounthandler=async()=>{var e,n,t,a,i;await(null===(e=this.props)||void 0===e||null===(n=e.otSession)||void 0===n||null===(t=n.current)||void 0===t||null===(a=t.sessionHelper)||void 0===a||null===(i=a.session)||void 0===i?void 0:i.destroy())},this.discounthandlerEnd=async()=>{await this.props.otSession.current.sessionHelper.session.destroy()},this.state={error:null,audio:!0,video:(null===(n=this.props.videoCallData)||void 0===n||!n.isAudio)&&(null!==(t=this.props.videoCallData)&&void 0!==t&&t.isVideo,!0),showEndModal:!1,videoSource:"camera"}}render(){return(0,y.jsxs)("div",{className:"videocall publisher",children:[(0,y.jsxs)("div",{className:"d-flex justify-content-end me-3 position-relative publisher-video-box",children:[(0,y.jsx)("div",{children:(0,y.jsx)(x.VI,{properties:{publishAudio:this.state.audio,publishVideo:this.state.video,videoSource:"screen"===this.state.videoSource?"screen":void 0}})}),(0,y.jsxs)("div",{className:"position-absolute d-flex justify-content-between align-items-center",style:{right:"1rem",top:"9.3rem",width:"25%"},children:[(0,y.jsx)("div",{className:"publisher-name",children:(0,y.jsx)("h6",{className:"text-white mb-0",children:this.props.user.name})}),!1===this.state.audio&&(0,y.jsx)("div",{className:"publisher-mute",children:(0,y.jsx)(j.Q4c,{className:"strem--controls-icon cursor m-2 text-white",size:20,onClick:()=>this.setAudio(!1)})})]})]}),(0,y.jsx)("div",{className:"row pt-5 px-2",children:(0,y.jsx)("div",{className:"randox-div",children:(0,y.jsx)("div",{className:"position_set",children:(0,y.jsxs)("div",{className:"d-flex justify-content-between streem-control-container w-100",children:[(0,y.jsxs)("div",{children:[this.state.audio?(0,y.jsx)("span",{className:"botton-icons me-4",children:(0,y.jsx)(j.aRZ,{className:"strem--controls-icon cursor m-2",size:24,onClick:()=>this.setAudio(!1)})}):(0,y.jsx)("span",{className:"botton-icons me-4",children:(0,y.jsx)(j.Q4c,{className:"strem--controls-icon cursor m-2",size:24,onClick:()=>this.setAudio(!0)})}),this.state.video?(0,y.jsx)("span",{className:"botton-icons me-4",children:(0,y.jsx)(p.KoQ,{className:"strem--controls-icon cursor m-2",size:24,onClick:()=>this.setVideo(!1)})}):(0,y.jsx)("span",{className:"botton-icons me-4",children:(0,y.jsx)(p.uCi,{className:"strem--controls-icon cursor m-2",size:24,onClick:()=>this.setVideo(!0)})})]}),(0,y.jsx)("span",{className:"appointment-last-span",children:this.props.user&&this.props.user&&this.props.user.token&&"Patient"===this.props.user.role&&(0,y.jsx)("div",{className:"end_call",children:(0,y.jsx)(m.Z,{style:{background:"#FD2121",border:"none"},onClick:()=>this.setShowEndModal(!0),className:"px-4",children:"End Appointment"})})})]})})})}),(0,y.jsx)(f,{showEndModal:this.state.showEndModal,handleCloseEndModal:()=>this.setShowEndModal(!1),discounthandlerEnd:async()=>{this.discounthandlerEnd()},slotDescription:this.props.slotDescription})]})}}const N=g;t(763);a.Component;class b extends a.Component{constructor(e){super(e),this.setAudio=e=>{this.setState({audio:e})},this.setVideo=e=>{this.setState({video:e})},this.onError=e=>{this.setState({error:"Failed to subscribe: ".concat(e.message)})},this.state={error:null,audio:!0,video:!0}}render(){return(0,y.jsx)("div",{className:"subscriber",children:(0,y.jsxs)("div",{className:"position-relative",children:[(0,y.jsx)("div",{children:(0,y.jsx)(x.dR,{properties:{subscribeToAudio:this.state.audio,subscribeToVideo:this.state.video}})}),(0,y.jsx)("div",{className:"position-absolute d-flex justify-content-between align-items-center",style:{right:"0",top:"39rem",width:"100%",bottom:"0",left:"2rem"},children:(0,y.jsx)("div",{className:"publisher-name",children:(0,y.jsx)("h6",{className:"text-white mb-0",children:this.props.slotDescription.patientName})})})]})})}}const D=b;class w extends a.Component{constructor(e){super(e),this.onSignalRecieve=e=>{console.log("onSignalReceive => ",JSON.parse(e.data))},this.onError=e=>{this.setState({error:"Failed to connect: ".concat(e.message)})},this.otSession=a.createRef(),this.state={error:null,connected:!1},this.sessionEvents={sessionConnected:()=>{this.setState({connected:!0})},sessionDisconnected:()=>{this.setState({connected:!1})}}}render(){var e,n,t,a,i,s,l,o,c,d,r,m,h;return(0,y.jsxs)(x.Bp,{ref:this.otSession,apiKey:"47602941",sessionId:null===(e=this.props)||void 0===e||null===(n=e.videoCallData)||void 0===n?void 0:n.vonageSessionId,token:null===(t=this.props)||void 0===t||null===(a=t.videoCallData)||void 0===a?void 0:a.token,eventHandlers:this.sessionEvents,onError:this.onError,children:[this.state.error?(0,y.jsx)("div",{id:"error",children:this.state.error}):null,(0,y.jsxs)("div",{className:"position-relative w-100",children:[0===(null===(i=this.otSession)||void 0===i||null===(s=i.current)||void 0===s||null===(l=s.state)||void 0===l||null===(o=l.streams)||void 0===o?void 0:o.length)&&(0,y.jsx)(S,{show:null===(c=this.otSession)||void 0===c||null===(d=c.current)||void 0===d||null===(r=d.state)||void 0===r||null===(m=r.streams)||void 0===m?void 0:m.length,session:this.otSession}),(0,y.jsx)(x.e_,{children:(0,y.jsx)(D,{slotDescription:this.props.slotDescription})}),(0,y.jsx)(N,{user:this.props.user,setShowEndModal:this.props.setShowEndModal,otSession:this.otSession,slotDescription:this.props.slotDescription,videoCallData:null===(h=this.props)||void 0===h?void 0:h.videoCallData})]})]})}}const I=(0,x.kK)(w);function S(e){var n,t,i;let{session:s}=e;const[l,o]=(0,a.useState)();return(0,a.useEffect)((()=>{var e,n,t;o(null===(e=s.current)||void 0===e||null===(n=e.state)||void 0===n||null===(t=n.streams)||void 0===t?void 0:t.length)}),[null===(n=s.current)||void 0===n||null===(t=n.state)||void 0===t||null===(i=t.streams)||void 0===i?void 0:i.length]),(0,y.jsx)("div",{className:"video-appointment abcd ".concat(0===l?"d-block":"d-none"),children:(0,y.jsxs)("div",{className:"d-flex align-items-center justify-content-center h-100",children:[(0,y.jsx)(u.HQH,{className:"exclamation-icon me-2 mb-3",size:28}),(0,y.jsx)("p",{className:"not-joined-text m-0",style:{fontWeight:600},children:"The Patient has not yet joined the appointment"})]})})}var P=t(21334),Z=t(59434),C=t(24278),E=t(49739);function A(){const e=JSON.parse(localStorage.getItem("slotDescription")),n=(0,Z.I0)(),t=JSON.parse(localStorage.getItem("family_doc_app")),[i,s]=(0,a.useState)(1),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),{videoCallData:r,isLoading:x}=(0,Z.v9)((e=>e.vonageData)),j=()=>{const t={appointmentId:null===e||void 0===e?void 0:e.appointmentId};n((0,C.MM)(t))};return(0,y.jsxs)(y.Fragment,{children:[1===i&&(0,y.jsxs)("div",{className:"video-appointment",children:[(0,y.jsxs)("div",{className:"d-flex align-items-center justify-content-center h-100",children:[(0,y.jsx)(u.HQH,{className:"exclamation-icon me-2 mb-3",size:28}),(0,y.jsx)("p",{className:"not-joined-text m-0",style:{fontWeight:600},children:"The patient has not yet joined the appointment"})]}),(0,y.jsx)("div",{className:"px-2 py-4 d-flex flex-wrap justify-content-end align-items-center",children:(0,y.jsx)("span",{children:(0,y.jsx)(m.Z,{style:{background:"#6045EB"},onClick:()=>o(!0),className:"px-4",children:"Start Appointment"})})}),(0,y.jsxs)(h.Z,{show:l,onHide:()=>{o(!1)},size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"appointment-modal",children:[(0,y.jsx)(h.Z.Header,{closeButton:!0}),(0,y.jsxs)(h.Z.Body,{children:[(0,y.jsx)("div",{className:"d-flex justify-content-center ",children:(0,y.jsx)("span",{className:"stethoscope-icon",children:(0,y.jsx)(p.K7y,{size:34})})}),(0,y.jsx)("div",{className:"my-3",children:(0,y.jsx)("h4",{className:"text-center w-50 mx-auto my-0",children:"You are about to start this appointment"})}),(0,y.jsx)("span",{className:"d-flex justify-content-center",children:(0,y.jsx)(m.Z,{className:"start-apt-btn ".concat(x&&"disabled"),onClick:()=>(()=>{const t={sessionId:null===e||void 0===e?void 0:e.vonageSessionId};n((0,P.sR)({finalData:t,moveToNext:j})),s(2)})(),children:!0===x?(0,y.jsx)(E.Z,{color:"white",size:25,className:"d-flex m-auto"}):"Start"})}),(0,y.jsxs)("span",{className:"d-flex justify-content-center align-items-center mb-3 mt-4",style:{cursor:"pointer"},children:[(0,y.jsx)(v.PjY,{size:25}),(0,y.jsx)("p",{className:"mb-0",style:{fontWeight:500,fontSize:"18px"},children:"Go Back"})]})]})]})]}),2===i&&!1===x&&(0,y.jsx)("div",{className:"appointment-started",children:(0,y.jsx)("span",{className:"",children:(0,y.jsx)(I,{videoCallData:r,user:t,setShowEndModal:d,slotDescription:e})})})]})}var k=t(21446),L=t(57689),T=t(72426),O=t.n(T),H=t(61134),M=t(95985),z=t(82573),F=t(66979),K=t(17425),B=t(39126),R=t(38713);function V(){var e,n,t,h,u,p,v,x,j,f,g,N,b,D,w,I,S,P,E,T,V,_,G,Y,W,U,Q,J,X,q,$,ee,ne,te,ae,ie,se,le,oe,ce,de,re,me,he,ue,pe,ve;const{register:xe,handleSubmit:je,setValue:ye,reset:fe}=(0,H.cI)(),{patientAppointedDetail:ge}=(0,Z.v9)((e=>e.appointment)),[Ne,be]=(0,a.useState)(""),{patientPharmacy:De}=(0,Z.v9)((e=>e)),[we,Ie]=(0,a.useState)(!1),[Se,Pe]=(0,a.useState)(),[Ze,Ce]=(0,a.useState)({}),[Ee,Ae]=(0,a.useState)(!1),ke=JSON.parse(localStorage.getItem("slotDescription"));console.log("slotDescription",ke);const Le=(0,Z.I0)();(0,L.TH)();console.log("patientAppointedDetail",ge),(0,a.useEffect)((()=>{const e={patientId:null===ke||void 0===ke?void 0:ke.patientId,appointmentId:null===ke||void 0===ke?void 0:ke.appointmentId};Le((0,C.gS)(e))}),[Le,null===ke||void 0===ke?void 0:ke.appointmentId,null===ke||void 0===ke?void 0:ke.patientId]),(0,a.useEffect)((()=>{const e={patientId:null===ke||void 0===ke?void 0:ke.patientId};Le((0,z.jX)(e))}),[Le,null===ke||void 0===ke?void 0:ke.patientId]),(0,a.useEffect)((()=>{const e={appointmentId:null===ke||void 0===ke?void 0:ke.appointmentId};Le((0,M.kU)(e))}),[Le,null===ke||void 0===ke?void 0:ke.appointmentId]),(0,a.useEffect)((()=>{Le((0,z.VT)({pharmacyName:null,pharmacyLocation:null}))}),[Le]);const Te=()=>{const e={PatientId:null===ke||void 0===ke?void 0:ke.patientId};Le((0,z.jX)(e)),Ie(!1)};const Oe=()=>{const e={patientId:null===ke||void 0===ke?void 0:ke.patientId};Le((0,z.jX)(e)),Ie(!1),fe()};return(0,y.jsx)("div",{className:"p-4 consultation-main vh-100",children:(0,y.jsxs)(i.Z,{className:"h-100",children:[(0,y.jsx)(s.Z,{lg:3,md:4,xs:12,className:"h-100 mb-3",children:(0,y.jsx)(k.Z,{name:"".concat(null===ge||void 0===ge||null===(e=ge.detailDTO)||void 0===e?void 0:e.firstName," ").concat(null===ge||void 0===ge||null===(n=ge.detailDTO)||void 0===n?void 0:n.lastName),genderInfo:"true",gender:null===ge||void 0===ge||null===(t=ge.detailDTO)||void 0===t?void 0:t.gender,dobInfo:"true",dob:O()(null===ge||void 0===ge||null===(h=ge.detailDTO)||void 0===h?void 0:h.dob).format("DD-MM-YYYY"),currentLocationInfo:"true",currentLocation:null===ge||void 0===ge||null===(u=ge.detailDTO)||void 0===u?void 0:u.currentAddress,patientLocalGPInfo:"true",patientLocalGP:null===ge||void 0===ge||null===(p=ge.detailDTO)||void 0===p?void 0:p.patientLocalGP,emailInfo:"true",email:null===ge||void 0===ge||null===(v=ge.detailDTO)||void 0===v?void 0:v.email,phoneInfo:"true",phone:null===ge||void 0===ge||null===(x=ge.detailDTO)||void 0===x?void 0:x.phoneNumber,nextOfKinNameInfo:"true",nextOfKinName:null===ge||void 0===ge||null===(j=ge.detailDTO)||void 0===j?void 0:j.nextOfKinName,nextOfKinNumberInfo:"true",nextOfKinNumber:null===ge||void 0===ge||null===(f=ge.detailDTO)||void 0===f?void 0:f.nextOfKinNumber,image:null===ge||void 0===ge||null===(g=ge.detailDTO)||void 0===g?void 0:g.imageUrl,callButton:!0})}),(0,y.jsxs)(s.Z,{lg:6,md:8,xs:12,className:"mb-3 h-100",children:[(0,y.jsx)(l.Z,{className:"tele-consultation-tabs h-100",children:(0,y.jsx)(l.Z.Body,{className:"p-0",children:(0,y.jsx)(o.Z,{defaultActiveKey:"videoAppointment",id:"uncontrolled-tab-example",children:(0,y.jsx)(c.Z,{eventKey:"videoAppointment",title:"Appointment",children:(0,y.jsx)(A,{slotDescription:ke})})})})}),(0,y.jsx)(F.default,{})]}),(0,y.jsx)(s.Z,{lg:3,md:12,xs:12,className:"mb-3",children:(0,y.jsx)(l.Z,{className:"tele-consultation-accordion h-100",children:(0,y.jsx)(l.Z.Body,{className:"mx-3",children:(0,y.jsxs)(d.Z,{defaultActiveKey:"0",children:[(0,y.jsxs)(d.Z.Item,{eventKey:"0",className:"my-3",children:[(0,y.jsx)(d.Z.Header,{children:(0,y.jsx)("h5",{className:"mb-0",children:"Past Medical History"})}),(0,y.jsx)(d.Z.Body,{className:"py-4",children:null!==ge&&void 0!==ge&&null!==(N=ge.patientHistory)&&void 0!==N&&N.pastMedicalHistory?null===ge||void 0===ge||null===(b=ge.patientHistory)||void 0===b?void 0:b.pastMedicalHistory:"N/A"})]}),(0,y.jsxs)(d.Z.Item,{eventKey:"1",className:"my-3",children:[(0,y.jsx)(d.Z.Header,{children:(0,y.jsx)("h5",{className:"mb-0",children:"Current Medications"})}),(0,y.jsx)(d.Z.Body,{className:"py-4",children:null!==ge&&void 0!==ge&&null!==(D=ge.patientHistory)&&void 0!==D&&D.currentMedical?null===ge||void 0===ge||null===(w=ge.patientHistory)||void 0===w?void 0:w.currentMedical:"N/A"})]}),(0,y.jsxs)(d.Z.Item,{eventKey:"2",className:"my-3",children:[(0,y.jsx)(d.Z.Header,{children:(0,y.jsx)("h5",{className:"mb-0",children:" Allergy (with any medication)"})}),(0,y.jsx)(d.Z.Body,{className:"py-4",children:null!==ge&&void 0!==ge&&null!==(I=ge.patientHistory)&&void 0!==I&&I.allergyHistory?null===ge||void 0===ge||null===(S=ge.patientHistory)||void 0===S?void 0:S.allergyHistory:"N/A"})]}),(0,y.jsxs)(d.Z.Item,{eventKey:"3",className:"my-3",children:[(0,y.jsx)(d.Z.Header,{children:(0,y.jsx)("h5",{className:"mb-0",children:"Pharmacy"})}),(0,y.jsxs)(d.Z.Body,{className:"pt-2",children:[(0,y.jsx)(r.Z,{onSubmit:je((function(e){var n,t,a;const i={pharmacyId:Se||0,pharmacyEmail:null===e||void 0===e?void 0:e.pharmacyEmail,pharmacyName:null===e||void 0===e?void 0:e.pharmacyName,pharmacyLocation:null===e||void 0===e?void 0:e.pharmacyLocation,country:null===e||void 0===e?void 0:e.country,ig_xcord:"",ig_ycord:"",userId:null===ge||void 0===ge||null===(n=ge.detailDTO)||void 0===n?void 0:n.patientId};null!==De&&void 0!==De&&null!==(t=De.patientPharmacyData)&&void 0!==t&&t.pharmacyId,Le((0,z.Hy)({finalData:i,moveToNext:Te}));const s=null===De||void 0===De||null===(a=De.allPatientPharmacyData)||void 0===a?void 0:a.find((n=>n.pharmacyName===(null===e||void 0===e?void 0:e.pharmacyName)));s&&(ye("pharmacyLocation",s.pharmacyLocation),ye("country",s.country),ye("pharmacyEmail",s.pharmacyEmail),Ce(s))})),children:(0,y.jsx)(i.Z,{children:(0,y.jsxs)(s.Z,{lg:12,children:[(0,y.jsxs)("div",{className:"d-flex justify-content-between align-items-baseline",children:[(0,y.jsxs)("span",{className:"w-100",children:[(0,y.jsx)(r.Z.Label,{className:"fw-bold",children:"Pharmacy Name"}),(0,y.jsxs)(r.Z.Group,{children:[null!==De&&void 0!==De&&null!==(P=De.patientPharmacyData)&&void 0!==P&&P.pharmacyName&&!1===we?(0,y.jsx)("p",{children:null===De||void 0===De||null===(E=De.patientPharmacyData)||void 0===E?void 0:E.pharmacyName}):(0,y.jsx)(r.Z.Control,{list:"pharmacyNameList",defaultValue:null!==(T=null===De||void 0===De||null===(V=De.patientPharmacyData)||void 0===V?void 0:V.pharmacyName)&&void 0!==T?T:"",...xe("pharmacyName"),onChange:e=>{var n;const t=null===De||void 0===De||null===(n=De.allPatientPharmacyData)||void 0===n?void 0:n.find((n=>n.pharmacyName===e.target.value));t?(ye("pharmacyLocation",t.pharmacyLocation),ye("country",t.country),Ce(t),Pe(t.pharmacyId)):(ye("pharmacyLocation",""),ye("country",""),Ce({}))},placeholder:"Select Pharmacy Name",size:"lg",className:"".concat(!(null!==De&&void 0!==De&&De.allPatientPharmacyData)&&"bg-transparent"),readOnly:(null===De||void 0===De||null===(_=De.patientPharmacyData)||void 0===_||!_.pharmacyName||!we)&&!(null===De||void 0===De||null===(G=De.patientPharmacyData)||void 0===G||!G.pharmacyName),disabled:!(null!==De&&void 0!==De&&De.allPatientPharmacyData)}),(0,y.jsx)("datalist",{id:"pharmacyNameList",children:null===De||void 0===De||null===(Y=De.allPatientPharmacyData)||void 0===Y?void 0:Y.map((e=>(0,y.jsx)("option",{value:null===e||void 0===e?void 0:e.pharmacyName,children:e.pharmacyName},null===e||void 0===e?void 0:e.pharmacyId)))})]})]}),(null===De||void 0===De||null===(W=De.patientPharmacyData)||void 0===W?void 0:W.pharmacyId)&&(null===De||void 0===De||null===(U=De.patientPharmacyData)||void 0===U?void 0:U.pharmacyEmail)&&!1===we&&(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"d-flex justify-content-center align-items-center mb-2",style:{height:"29px",width:"32px",backgroundColor:"#E1EBFF",borderRadius:"5px",cursor:"pointer"},onClick:()=>Ie(!0),children:(0,y.jsx)(B.HlX,{style:{color:"#2269F2",fontSize:"18px"}})}),(0,y.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"29px",width:"32px",backgroundColor:"#FFDADD",borderRadius:"5px",cursor:"pointer"},onClick:()=>{be(null===ke||void 0===ke?void 0:ke.patientId),Ae(!0)},children:(0,y.jsx)(K.w6k,{style:{color:"#E63946",fontSize:"18px"}})})]})]}),(0,y.jsxs)(r.Z.Group,{children:[(0,y.jsx)(r.Z.Label,{className:"fw-bold mt-2",children:"Address"}),null!==De&&void 0!==De&&null!==(Q=De.patientPharmacyData)&&void 0!==Q&&Q.pharmacyLocation&&!1===we?(0,y.jsx)("p",{children:null===De||void 0===De||null===(J=De.patientPharmacyData)||void 0===J?void 0:J.pharmacyLocation}):(0,y.jsx)(r.Z.Control,{type:"text",size:"lg",placeholder:"Select Address",...xe("pharmacyLocation"),defaultValue:null!==De&&void 0!==De&&null!==(X=De.patientPharmacyData)&&void 0!==X&&X.pharmacyLocation?null===De||void 0===De||null===(q=De.patientPharmacyData)||void 0===q?void 0:q.pharmacyLocation:"",className:"".concat(!(null!==De&&void 0!==De&&De.allPatientPharmacyData)&&"bg-transparent"),readOnly:(null===De||void 0===De||null===($=De.patientPharmacyData)||void 0===$||!$.pharmacyLocation||!we)&&!(null===De||void 0===De||null===(ee=De.patientPharmacyData)||void 0===ee||!ee.pharmacyLocation),maxLength:250,disabled:!(null!==De&&void 0!==De&&De.allPatientPharmacyData)})]}),(0,y.jsxs)(r.Z.Group,{children:[(0,y.jsx)(r.Z.Label,{className:"fw-bold mt-2",children:"Country"}),null!==De&&void 0!==De&&null!==(ne=De.patientPharmacyData)&&void 0!==ne&&ne.country&&!1===we?(0,y.jsx)("p",{children:null===De||void 0===De||null===(te=De.patientPharmacyData)||void 0===te?void 0:te.country}):(0,y.jsx)(r.Z.Control,{type:"text",size:"lg",placeholder:"Country",...xe("country"),defaultValue:null!==(ae=null===De||void 0===De||null===(ie=De.patientPharmacyData)||void 0===ie?void 0:ie.country)&&void 0!==ae?ae:"",readOnly:(null===De||void 0===De||null===(se=De.patientPharmacyData)||void 0===se||!se.country||!we)&&!(null===De||void 0===De||null===(le=De.patientPharmacyData)||void 0===le||!le.country),className:"".concat(!(null!==De&&void 0!==De&&De.allPatientPharmacyData)&&"bg-transparent"),maxLength:250,disabled:!(null!==De&&void 0!==De&&De.allPatientPharmacyData)})]}),(0,y.jsxs)(r.Z.Group,{children:[(0,y.jsx)(r.Z.Label,{className:"fw-bold mt-2",children:"Pharmacy Email"}),null!==De&&void 0!==De&&null!==(oe=De.patientPharmacyData)&&void 0!==oe&&oe.pharmacyEmail&&!1===we?(0,y.jsx)("p",{children:null===De||void 0===De||null===(ce=De.patientPharmacyData)||void 0===ce?void 0:ce.pharmacyEmail}):(0,y.jsx)(r.Z.Control,{type:"email",size:"lg",placeholder:"Pharmacy Email",...xe("pharmacyEmail"),defaultValue:null!==(de=null===De||void 0===De||null===(re=De.patientPharmacyData)||void 0===re?void 0:re.pharmacyEmail)&&void 0!==de?de:"",readOnly:(null===De||void 0===De||null===(me=De.patientPharmacyData)||void 0===me||!me.pharmacyEmail||!we)&&!(null===De||void 0===De||null===(he=De.patientPharmacyData)||void 0===he||!he.pharmacyEmail),className:"".concat(!(null!==De&&void 0!==De&&De.allPatientPharmacyData)&&"bg-transparent"),maxLength:250,disabled:!(null!==De&&void 0!==De&&De.allPatientPharmacyData)})]}),(!(null!==De&&void 0!==De&&null!==(ue=De.patientPharmacyData)&&void 0!==ue&&ue.pharmacyId)||!(null!==De&&void 0!==De&&null!==(pe=De.patientPharmacyData)&&void 0!==pe&&pe.pharmacyEmail)||!0===we)&&(0,y.jsxs)(m.Z,{className:"px-3 mt-3 primary_bg float-right",size:"sm",type:"submit",children:[null!==De&&void 0!==De&&null!==(ve=De.patientPharmacyData)&&void 0!==ve&&ve.pharmacyId?"Update ":"Add ","Pharmacy"]})]})})}),(0,y.jsx)(R.c,{show:Ee,onHide:()=>Ae(!1),heading:"Delete Pharmacy",title:"this pharmacy",removeFunc:function(){const e={patientId:Ne};Le((0,z.ai)({finalData:e,onCreateSuccess:Oe}))}})]})]})]})})})})]})})}}}]);
//# sourceMappingURL=3774.8b0f09e3.chunk.js.map