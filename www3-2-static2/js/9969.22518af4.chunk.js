"use strict";(self.webpackChunkfamily_doc_app=self.webpackChunkfamily_doc_app||[]).push([[9969],{45793:(e,s,l)=>{l.d(s,{Z:()=>t});var a=l(29086);const t=async e=>{try{const s=await a.Z.post("/digitalOcean/post",e);return null===s||void 0===s?void 0:s.data}catch(s){return s}}},17505:(e,s,l)=>{l.d(s,{c:()=>n});var a=l(3810),t=l(80184);function n(e){return(0,t.jsx)("div",{className:"error-message-field-generic",children:(0,t.jsx)("p",{className:"my-1",children:e.message?e.message:a.p.SYSTEM_ERROR})})}},60842:(e,s,l)=>{l.d(s,{Z:()=>o});l(72791);var a=l(59513),t=l.n(a),n=l(39126),i=(l(68639),l(80184));const o=e=>{let{selectedDateState:s,onChange:l,dateFormat:a="dd MMM yyyy",placeholderText:o="Date",className:d="",datePickerClassName:r="custom-field-picker px-2",useDrDateClass:c=!0,...m}=e;return console.log("disabled",m),(0,i.jsxs)("div",{className:"custom__date-input position-relative d-flex mb-3 ".concat(d),...m,children:[(0,i.jsx)(t(),{selected:s,onChange:l,dateFormat:a,placeholderText:o,className:"".concat(r," ").concat(c?"dr-date-w":"w-100"),disabled:null===m||void 0===m?void 0:m.disabled,minDate:null===m||void 0===m?void 0:m.mindate}),(0,i.jsx)(n.zlR,{size:18,className:"custom__date_icon"})]})}},93590:(e,s,l)=>{l.r(s),l.d(s,{default:()=>v});var a=l(72791),t=l(89743),n=l(2677),i=l(3593),o=l(80184);const d=e=>{let{activeStep:s,steps:l}=e;const a=(s+1)/(null===l||void 0===l?void 0:l.length)*100;return(0,o.jsxs)(t.Z,{className:"profileHeader px-5 d-flex align-items-center justify-content-between",children:[(0,o.jsx)(n.Z,{xl:3,className:"d-flex",children:(0,o.jsx)("h2",{className:"fw-bold fs-3 mb-0",children:"Complete Profile"})}),(0,o.jsxs)(n.Z,{xl:4,className:"d-flex align-items-center justify-content-between",children:[(0,o.jsx)("h6",{className:"fw-semibold text-nowrap mb-0",children:"Profile Completed"}),(0,o.jsx)("div",{className:"w-75 mx-3",children:(0,o.jsx)(i.Z,{now:a})}),(0,o.jsx)("h6",{className:"fw-semibold mb-0",children:"".concat(a.toFixed(0),"%")})]})]})};var r=l(11087),c=l(56355),m=l(3810),u=l(9897);const x=[{label:"General Information",link:m.m.PERSONAL_INFORMATION},{label:"Medical History",link:m.m.MEDICAL_HISTORY},{label:"Pharmacy",link:m.m.PHARMACY}],p=e=>{let{activeStep:s}=e;const[l,t]=(0,a.useState)(!1),[n,i]=(0,a.useState)([]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{className:"sidebar-toggle",onClick:()=>{t(!l)},children:(0,o.jsx)(c.Fm7,{})}),(0,o.jsx)("div",{className:"profileSidebar ".concat(l?"visible":""),children:(0,o.jsxs)("aside",{className:"d-flex flex-column justify-content-center align-items-center",children:[(0,o.jsx)(r.rU,{to:m.m.PATIENT_DASHBOARD,className:"logo mr-0 header-logo-image text-decoration-none mt-5",children:(0,o.jsx)("img",{alt:"sidebar logo",src:u.Z.SIDEBAR_LOGO})}),(0,o.jsx)("ul",{className:"list-unstyled py-3 mt-5 d-flex flex-column justify-content-center align-items-start",children:x.map(((e,l)=>(0,o.jsxs)("li",{className:"mb-4",children:[(0,o.jsxs)(r.rU,{to:e.link,className:l===s?"active":n.includes(l)?"completed":"",onClick:()=>(e=>{n.includes(e)||i([...n,e])})(l),children:[(0,o.jsx)("span",{className:"p-3 spanBorder rounded-circle me-2",children:"0".concat(l+1)}),e.label]}),l!==(null===x||void 0===x?void 0:x.length)-1&&(0,o.jsx)("span",{className:"d-flex justify-content-start ps-4 mt-4",children:(0,o.jsx)("img",{alt:"vertical line",src:u.Z.VERTICAL_LINE})})]},l)))})]})}),(0,o.jsx)(d,{activeStep:s,steps:x})]})};var h=l(57689);const v=function(e){let{children:s}=e,l=0;switch((0,h.TH)().pathname){case m.m.MEDICAL_HISTORY:l=1;break;case m.m.PHARMACY:l=2;break;default:l=0}return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d,{}),(0,o.jsxs)("main",{children:[(0,o.jsx)(p,{activeStep:l}),(0,o.jsx)("section",{className:"profile_wrapper px-3 px-md-4 px-lg-0",children:s})]})]})}},69969:(e,s,l)=>{l.r(s),l.d(s,{default:()=>T});var a=l(72791),t=l(36638),n=l(95070),i=l(43360),o=l(89743),d=l(2677),r=l(53392),c=l(23853),m=l(75737),u=l.n(m),x=(l(98404),l(78820)),p=l(57689),h=l(9897),v=l(93590),f=l(3810),j=l(61134),N=l(17505),b=l(36455),g=l(59434),y=l(72426),I=l.n(y),Z=l(45793),w=l(73683),S=l(88135),C=l(49739),A=l(25779),P=l(80184);function _(e){let{show:s,onClose:l}=e;const{handleSubmit:t,register:n}=(0,j.cI)(),o=JSON.parse(localStorage.getItem("family_doc_app")),[d,r]=(0,a.useState)(["","","",""]),[c,m]=(0,a.useState)(60),[u,x]=(0,a.useState)(null),{isLoading:p}=(0,g.v9)((e=>e.auth));(0,a.useEffect)((()=>{const e=setInterval((()=>{m((e=>e-1))}),1e3);return x(e),()=>clearInterval(e)}),[]),(0,a.useEffect)((()=>{0===c&&clearInterval(u)}),[c,u]);const h=(0,g.I0)(),v=()=>{l()};return(0,P.jsxs)(S.Z,{show:s,onHide:l,size:"md",backdrop:"static",children:[(0,P.jsx)(S.Z.Header,{closeButton:!0,children:(0,P.jsx)(S.Z.Title,{style:{fontSize:"19px",fontWeight:"bold"},children:"Verify Phone Number"})}),(0,P.jsx)(S.Z.Body,{children:(0,P.jsxs)("form",{className:"p-3",onSubmit:t((e=>{const s=e.otp0+e.otp1+e.otp2+e.otp3,l={userId:null===o||void 0===o?void 0:o.userId,OTP:s};h((0,A.j5)({resendOtpData:l,moveToNext:v}))})),children:[(0,P.jsx)("p",{className:"text-center mb-5",children:"Please enter the code below we\u2019ve sent to your phone number"}),d.map(((e,s)=>(0,P.jsx)("input",{type:"text",id:"otp".concat(s),name:"otp".concat(s),maxLength:1,value:e,...n("otp".concat(s),{required:!0}),onChange:e=>function(e,s){const l=e.target.value,a=[...d];var t;a[s]=l.replace(/\D/,""),r(a),s<5&&l&&(null===(t=document.getElementById("otp".concat(s+1)))||void 0===t||t.focus())}(e,s),onKeyDown:e=>function(e,s){var l;"Backspace"===e.key&&!d[s]&&s>0&&(null===(l=document.getElementById("otp".concat(s-1)))||void 0===l||l.focus())}(e,s),className:"otp-field me-3 py-1 text-center",style:{width:"20%",fontweight:500,fontSize:"31px"}},s))),(0,P.jsx)(i.Z,{className:"w-100 mt-5 ".concat(p&&"disabled"),style:{background:"#000071"},type:"submit",children:!0===p?(0,P.jsx)(C.Z,{color:"white",size:25,className:"d-flex m-auto"}):"Confirm Code"})]})}),(0,P.jsx)(S.Z.Footer,{})]})}var F=l(82573),D=l(60842);const T=()=>{var e;const[s,l]=(0,a.useState)(!1),[m,y]=(0,a.useState)(),[S,C]=(0,a.useState)(),{getPatientData:T,isError:O,isLoading:E,isSuccess:k}=(0,g.v9)((e=>e.patient)),[L,R]=(0,a.useState)(null!==T&&void 0!==T&&T.dob?new Date(null===T||void 0===T||null===(e=T.dob)||void 0===e?void 0:e.split("T")[0]):null);console.log("getPatientData",T);const{isresendOtp:G}=(0,g.v9)((e=>null===e||void 0===e?void 0:e.verifyNumber)),[M,q]=(0,a.useState)(null===T||void 0===T?void 0:T.phoneNumber),H=JSON.parse(localStorage.getItem("family_doc_app")),Y=(0,p.s0)(),B=(0,g.I0)(),{register:z,handleSubmit:V,formState:{errors:U},setValue:K,control:J}=(0,j.cI)();(0,a.useEffect)((()=>{var e;null!==T&&void 0!==T&&T.dob?R(new Date(null===T||void 0===T||null===(e=T.dob)||void 0===e?void 0:e.split("T")[0])):R(null)}),[T]),(0,a.useEffect)((()=>{K("firstName",(null===T||void 0===T?void 0:T.firstName)||""),K("lastName",(null===T||void 0===T?void 0:T.lastName)||""),K("genderId",(null===T||void 0===T?void 0:T.genderId)||""),K("patientLocalGP",(null===T||void 0===T?void 0:T.patientLocalGP)||""),K("email",(null===H||void 0===H?void 0:H.email)||""),K("phoneNumber",(null===T||void 0===T?void 0:T.phoneNumber)||""),K("currentAddress",(null===T||void 0===T?void 0:T.currentAddress)||"")}),[T,H]),(0,a.useEffect)((()=>{const e={patientId:null===H||void 0===H?void 0:H.userId};B((0,b._s)(e))}),[B,null===H||void 0===H?void 0:H.userId]);(0,a.useEffect)((()=>{const e={patientId:null===H||void 0===H?void 0:H.userId};B((0,F.jX)(e))}),[B,null===H||void 0===H?void 0:H.userId]),(0,a.useEffect)((()=>{B((0,F.VT)({pharmacyName:null,pharmacyLocation:null}))}),[B]),(0,a.useEffect)((()=>{const e={patientId:null===H||void 0===H?void 0:H.userId};B((0,F.jX)(e))}),[B,null===H||void 0===H?void 0:H.userId]);const X=()=>{Y(f.m.MEDICAL_HISTORY)};const Q=()=>{l(!0)};return(0,P.jsxs)("div",{className:"main-personalprofile",children:[(0,P.jsx)(v.default,{className:"pt-5",children:(0,P.jsx)("div",{className:"mx-auto width_75",children:T&&(0,P.jsxs)(t.Z,{onSubmit:V((function(e){const s={patientId:null===H||void 0===H?void 0:H.userId,firstName:null===e||void 0===e?void 0:e.firstName,lastName:null===e||void 0===e?void 0:e.lastName,image:null!==m&&void 0!==m&&m.keyName?null===m||void 0===m?void 0:m.keyName:null!==T&&void 0!==T&&T.image?null===T||void 0===T?void 0:T.image:"",dob:L?I()(L).format("YYYY-MM-DD"):null,genderId:+(null===e||void 0===e?void 0:e.genderId),patientLocalGP:null===e||void 0===e?void 0:e.patientLocalGP,phoneNumber:(null===e||void 0===e?void 0:e.phoneNumber)||"",currentAddress:null===e||void 0===e?void 0:e.currentAddress,nextOfKinName:e.nextOfKinName,nextOfKinNumber:e.nextOfKinNumber,countryCode:"",remainingPhone:""};B((0,b.xu)({finalData:s,moveToNext:X}))})),children:[(0,P.jsxs)(n.Z,{className:"width_75 mx-auto",children:[(0,P.jsx)(n.Z.Header,{className:"bg-white py-4",children:(0,P.jsx)("h5",{className:"fw-semibold mb-0",children:"Personal Information"})}),(0,P.jsx)(n.Z.Body,{className:"px-4 px-md-5",children:E?(0,P.jsx)("span",{className:"fst-italic h-100 d-flex justify-content-center align-items-center flex-column",style:{color:"#999999"},children:"Loading..."}):k?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:"upload_pic profile_upload profileContent",children:[(0,P.jsx)("img",{alt:"upload",className:"Profile-2 test-border",src:(null===m||void 0===m?void 0:m.baseUrl)||(null===T||void 0===T?void 0:T.imageUrl)||h.Z.PROFILE_UPLOAD}),(0,P.jsxs)(i.Z,{className:"ms-sm-5 ms-0 mt-3 mt-sm-0",children:[(0,P.jsxs)("label",{htmlFor:"patient-pic",className:"text-center w-100 d-flex align-items-center",children:[(0,P.jsx)(c.Yjd,{className:"fs-5 me-2"}),"Upload"]}),(0,P.jsx)(t.Z.Control,{onChange:e=>(async e=>{let s=e.target.files[0];if(s){const e=s.name.lastIndexOf("."),l=s.name.slice(0,e),a=s.name.slice(e+1,s.name.length);(0,w.ZP)(s).then((e=>{C(!0);const s={name:l,base64:e,fileExtension:"".concat(a)};(0,Z.Z)(s).then((e=>{e&&(y(e),C(!1))}))}))}})(e),type:"file",id:"patient-pic",name:"patient-pic",accept:"image/*"})]})]}),(0,P.jsxs)(o.Z,{className:"mt-5",children:[(0,P.jsxs)(d.Z,{md:6,children:[(0,P.jsxs)(t.Z.Group,{controlId:"",className:"mb-3",children:[(0,P.jsxs)(r.Z,{className:"fw-semibold fs-6",children:["First Name",(0,P.jsx)("span",{style:{color:"#FF3A3A"},children:" *"})]}),(0,P.jsx)(t.Z.Control,{type:"text",placeholder:"John",className:"p-2",...z("firstName",{required:!(null!==T&&void 0!==T&&T.firstName)})}),U.firstName&&(0,P.jsx)(N.c,{message:"This Field is Required"})]}),(0,P.jsxs)("div",{className:"patient__info-date",children:[(0,P.jsxs)("label",{className:"fw-semibold fs-6 mb-2",children:["D.O.B",(0,P.jsx)("span",{style:{color:"#FF3A3A"},children:" *"})]}),(0,P.jsx)(D.Z,{selectedDateState:L,onChange:e=>R(e),useDrDateClass:!1,dateFormat:"dd/MM/yyyy",placeholderText:"day/month/year"})]}),!L&&(0,P.jsx)(N.c,{message:"This Field is Required"})]}),(0,P.jsxs)(d.Z,{md:6,children:[(0,P.jsxs)(t.Z.Group,{controlId:"",className:"mb-3",children:[(0,P.jsxs)(r.Z,{className:"fw-semibold fs-6",children:["Last Name",(0,P.jsx)("span",{style:{color:"#FF3A3A"},children:" *"})]}),(0,P.jsx)(t.Z.Control,{type:"text",placeholder:"Smith",className:"p-2",...z("lastName",{required:!(null!==T&&void 0!==T&&T.lastName)})}),U.lastName&&(0,P.jsx)(N.c,{message:"This Field is Required"})]}),(0,P.jsxs)(t.Z.Group,{controlId:"",className:"mb-3",children:[(0,P.jsxs)(r.Z,{className:"fw-semibold fs-6",children:["Gender",(0,P.jsx)("span",{style:{color:"#FF3A3A"},children:" *"})]}),(0,P.jsxs)(t.Z.Select,{className:"formSelect","aria-label":"Default select example",...z("genderId",{required:!(null!==T&&void 0!==T&&T.genderId)}),children:[U.genderId&&(0,P.jsx)(N.c,{message:"This Field is Required"}),(0,P.jsx)("option",{value:101,children:"Male"}),(0,P.jsx)("option",{value:102,children:"Female"}),(0,P.jsx)("option",{value:103,children:"Other"})]})]})]}),(0,P.jsx)(d.Z,{xl:12,children:(0,P.jsxs)(t.Z.Group,{controlId:"",className:"mb-3",children:[(0,P.jsx)(r.Z,{className:"fw-semibold fs-6",children:"Patient Local GP"}),(0,P.jsx)(t.Z.Control,{type:"text",placeholder:"Patient Local GP",className:"p-2",...z("patientLocalGP")}),U.patientLocalGP&&(0,P.jsx)(N.c,{message:"This Field is Required"})]})}),(0,P.jsx)(d.Z,{md:6,children:(0,P.jsxs)(t.Z.Group,{controlId:"",className:"mb-3",children:[(0,P.jsx)(r.Z,{className:"fw-semibold fs-6",children:"Email"}),(0,P.jsx)(t.Z.Control,{type:"email",defaultValue:null===H||void 0===H?void 0:H.email,placeholder:"patient@gmail.com",className:"p-2",disabled:!0})]})}),(0,P.jsxs)(d.Z,{md:6,children:[(0,P.jsxs)(r.Z,{className:"fw-semibold fs-6",children:["Phone Number",(0,P.jsx)("span",{style:{color:"#FF3A3A"},children:" *"})]}),(0,P.jsxs)("div",{className:"position-relative verify-btn",children:[(0,P.jsx)(j.Qr,{control:J,name:"phoneNumber",rules:{required:null===T||void 0===T?void 0:T.phoneNumber},defaultValue:null===T||void 0===T?void 0:T.phoneNumber,render:e=>{let{field:s}=e;return(0,P.jsx)(u(),{country:"ie",value:s.value,onChange:e=>s.onChange("+".concat(e))})}}),(0,P.jsx)(i.Z,{className:"fs-5 primary_bg position-absolute bottom-0",size:"sm",variant:"primary",onClick:function(){const e={userId:null===H||void 0===H?void 0:H.userId,phoneNumber:M||(null===T||void 0===T?void 0:T.phoneNumber)};B((0,A.fi)({finalData:e,moveToOTPCode:Q}))},disabled:null===G||void 0===G?void 0:G.data,children:"Verify"}),null===G&&(0,P.jsx)(N.c,{message:"Phone Verification is Required"})]})]}),(0,P.jsx)(d.Z,{md:6,children:(0,P.jsxs)(t.Z.Group,{controlId:"",className:"mb-3",children:[(0,P.jsxs)(r.Z,{className:"fw-semibold fs-6",children:["Current Address",(0,P.jsx)("span",{style:{color:"#FF3A3A"},children:" *"})]}),(0,P.jsx)(t.Z.Control,{type:"text",placeholder:"4140 Parker Rd. Allentown, New Mexico 31134",className:"p-2",...z("currentAddress",{required:!(null!==T&&void 0!==T&&T.currentAddress)})}),U.currentAddress&&(0,P.jsx)(N.c,{message:"This Field is Required"})]})})]})]}):O?(0,P.jsx)("span",{className:"text-danger fst-italic h-100 d-flex justify-content-center align-items-center flex-column",children:"Network Error"}):null})]}),(0,P.jsx)("div",{className:"py-3 d-flex justify-content-end width_75 mx-auto",children:(0,P.jsxs)(i.Z,{className:"px-4 px-md-5 fs-5 py-2 primary_bg",size:"sm",variant:"primary",type:"submit",children:["Save & Next ",(0,P.jsx)(x.Td4,{className:"fs-6"})," "]})})]})})}),(0,P.jsx)(_,{show:s,onClose:()=>l(!1)})]})}}}]);
//# sourceMappingURL=9969.22518af4.chunk.js.map