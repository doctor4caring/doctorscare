"use strict";(self.webpackChunkfamily_doc_app=self.webpackChunkfamily_doc_app||[]).push([[5754],{45793:(e,s,l)=>{l.d(s,{Z:()=>t});var a=l(29086);const t=async e=>{const s=await(null===a.Z||void 0===a.Z?void 0:a.Z.post("/digitalOcean/post",e));return null===s||void 0===s?void 0:s.data}},14045:(e,s,l)=>{l.d(s,{Z:()=>o});var a=l(88135),t=l(80184);function o(e){let{children:s,...l}=e;const{handleClose:o,show:i,title:n,className:d}=l;return(0,t.jsx)("div",{children:(0,t.jsxs)(a.Z,{show:i,onHide:o,className:d,backdrop:"static",children:[(0,t.jsx)(a.Z.Header,{className:"py-3",closeButton:!0,children:(0,t.jsx)(a.Z.Title,{className:"modalTitle",children:(0,t.jsx)("span",{className:"font-weight-600",children:n})})}),(0,t.jsx)(a.Z.Body,{children:s})]})})}},5754:(e,s,l)=>{l.r(s),l.d(s,{default:()=>_});var a=l(72791),t=l(95070),o=l(89743),i=l(2677),n=l(36638),d=l(43360),r=l(53392),c=l(14045),m=l(4053),u=l(61134),p=l(72426),h=l.n(p),x=l(59434),v=l(76053),j=l(73683),f=l(78820),N=l(82962),b=l(45793),g=l(24278),Z=l(65764),D=l(53473),y=l(9085),w=l(49739),S=l(80184);const C=(0,D.J)("pk_test_51NS6LFJQrjlyogPPYu6MAtBwgWPzIIaMnvVPha7Q3hqUaMujHWqKXoIYJRIU2K5nD3m6LR5Vou39EPYY4XBpCYGu00hDwqw9BH");function Y(e){const s=JSON.parse(localStorage.getItem("family_doc_app")),{handleClose:l,show:t,singleSlotData:o}=e,[i,n]=(0,a.useState)(!1),d=(0,x.I0)(),r=()=>{l(),n(!1);const e={date:h()(null===o||void 0===o?void 0:o.scheduleDate).format("YYYY-MM-DD"),month:null};d((0,N.xG)(e))};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(y.Ix,{}),(0,S.jsx)(c.Z,{handleClose:l,show:t,title:"Checkout",className:"modal-stripe",backdrop:"static",children:(0,S.jsx)(Z.Elements,{stripe:C,children:(0,S.jsx)(A,{isLoading:i,setIsLoading:n,newCoachHire:function(l){let a={...e.formData,payment:{patientId:null===s||void 0===s?void 0:s.userId,token:l,scheduleDetailId:null===o||void 0===o?void 0:o.scheduleDetailId}};d((0,g.Pc)({finalData:a,moveToNext:r}))},singleSlotData:o})})})]})}const I=()=>{const e=function(){const e=()=>window.innerWidth<450?"16px":"18px",[s,l]=(0,a.useState)(e);return(0,a.useEffect)((()=>{const s=()=>{l(e())};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}})),s}();return(0,a.useMemo)((()=>({style:{base:{fontSize:e,color:"#424770",letterSpacing:"0.025em",fontFamily:"Source Code Pro, monospace","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}})),[e])},A=e=>{var s;let{isLoading:l,setIsLoading:a,newCoachHire:t,singleSlotData:o}=e;const i=(0,Z.useStripe)(),n=(0,Z.useElements)(),c=I(),m=null===o||void 0===o||null===(s=o.fee)||void 0===s?void 0:s.toFixed(2);return(0,S.jsxs)("div",{className:"py-2 stripe",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)(r.Z,{children:"Appointment Fee"}),(0,S.jsx)("input",{type:"text",value:"\u20ac".concat(m||"N/A"),disabled:!0,className:"mt-0 w-100"})]}),(0,S.jsxs)("form",{onSubmit:async e=>{if(a(!0),e.preventDefault(),i&&n)try{var s;const e=n.getElement(Z.CardNumberElement),a=await i.createToken(e);var l;if(a.error)throw new Error(null===a||void 0===a||null===(l=a.error)||void 0===l?void 0:l.message);const o=null===a||void 0===a||null===(s=a.token)||void 0===s?void 0:s.id;o&&t(o)}catch(o){(0,j.P_)(null===o||void 0===o?void 0:o.message,"error"),a(!1)}},children:[(0,S.jsxs)("div",{children:["Card number",(0,S.jsx)(Z.CardNumberElement,{options:c})]}),(0,S.jsxs)("div",{children:["Expiration date",(0,S.jsx)(Z.CardExpiryElement,{options:c})]}),(0,S.jsxs)("div",{children:["CVC",(0,S.jsx)(Z.CardCvcElement,{options:c})]}),(0,S.jsx)("div",{className:"d-flex justify-content-center mt-3",children:(0,S.jsx)(d.Z,{variant:"primary",className:"w-100 py-2 primary_bg",radius:"0px",type:"submit",disabled:l,children:l?(0,S.jsx)(w.Z,{color:"white",size:25,className:"d-flex m-auto"}):"Confirm"})})]})]})};function k(e){let{children:s,...l}=e;const{show:t,handleClose:p,singleSlotData:N,appointmentId:g}=l,Z=JSON.parse(localStorage.getItem("family_doc_app")),[D,y]=(0,a.useState)(!1),[w,C]=(0,a.useState)(),[I,A]=(0,a.useState)(),[k,M]=(0,a.useState)(),[_,E]=(0,a.useState)({isVideo:!0,isAudio:!1}),{register:T,handleSubmit:V,reset:F}=((0,x.I0)(),(0,u.cI)()),L=()=>{y(!1),F({reasonForAppoinment:""}),C(null),A(null),E({isVideo:!0,isAudio:!1}),p()},[P,B]=(0,a.useState)({}),O=async e=>{let s=e.target.files[0];if(C(s),s){const e=s.name.lastIndexOf("."),l=s.name.slice(0,e),a=s.name.slice(e+1,s.name.length);if("pdf"===a.toLowerCase()){const e=new FileReader;e.onload=async e=>{const s=e.target.result;M(!0);const t={name:l,base64:s.split(",")[1],fileExtension:"".concat(a)};(0,b.Z)(t).then((e=>{e&&(A(e),M(!1))}))},e.onerror=e=>{},e.readAsDataURL(s)}else(0,j.ZP)(s).then((e=>{M(!0);const s={name:l,base64:e,fileExtension:"".concat(a)};(0,b.Z)(s).then((e=>{e&&(A(e),M(!1))}))}))}};return(0,S.jsxs)("div",{className:"AddSlot_modal",children:[(0,S.jsx)(c.Z,{className:"modal-lg",title:g?"Reschedule Appointment":"Book Appointment",handleClose:L,show:t,children:(0,S.jsx)("div",{className:"px-2 pb-3",style:{height:"640px","overflow-y":"scroll","overflow-x":"hidden"},children:(0,S.jsx)(n.Z,{onSubmit:V((function(){var e,s;const l={scheduleId:null===N||void 0===N?void 0:N.scheduleId,appointmentDate:h()(null===N||void 0===N?void 0:N.scheduleDate).format("YYYY-MM-DD"),patientId:null===Z||void 0===Z?void 0:Z.userId,appointmentStartTime:null===(e=(0,j.oA)((0,j.qw)(null===N||void 0===N?void 0:N.startTime),h()(null===N||void 0===N?void 0:N.scheduleDate).format("YYYY-MM-DD")))||void 0===e?void 0:e.split("Z")[0],appointmentEndTime:null===(s=(0,j.oA)((0,j.qw)(null===N||void 0===N?void 0:N.endTime),h()(null===N||void 0===N?void 0:N.scheduleDate).format("YYYY-MM-DD")))||void 0===s?void 0:s.split("Z")[0],reasonForAppoinment:null===P||void 0===P?void 0:P.reasonForAppoinment,isAudio:_.isAudio,isVideo:_.isVideo,image:null!==I&&void 0!==I&&I.keyName?null===I||void 0===I?void 0:I.keyName:null};B(l),p(),y(!0)})),children:(0,S.jsxs)(o.Z,{children:[(0,S.jsx)(i.Z,{xl:12,children:(0,S.jsxs)(n.Z.Group,{controlId:"formDate",className:"mb-3",children:[(0,S.jsx)(r.Z,{className:"fw-semibold fs-6",children:"Reason for Appointment"}),(0,S.jsx)(n.Z.Control,{as:"textarea",name:"reasonForAppoinment",placeholder:"Type here",style:{height:"100px"},...T("reasonForAppoinment"),value:P.reasonForAppoinment,onChange:e=>{B({...P,[e.target.name]:e.target.value})}})]})}),(0,S.jsxs)(i.Z,{md:6,children:[(0,S.jsxs)(n.Z.Group,{controlId:"",className:"mb-3",children:[(0,S.jsx)(r.Z,{className:"fw-semibold fs-6",children:"Date"}),(0,S.jsx)(n.Z.Control,{type:"date",placeholder:"HH:MM",className:"custom-date",defaultValue:h()(null===N||void 0===N?void 0:N.scheduleDate).format("YYYY-MM-DD"),disabled:!0,name:"appointmentDate",...T("appointmentDate")})]}),(0,S.jsxs)(n.Z.Group,{controlId:"",className:"mb-3",children:[(0,S.jsx)(r.Z,{className:"fw-semibold fs-6",children:"Name"}),(0,S.jsx)(n.Z.Control,{type:"text",placeholder:"John Smith",className:"custom-date",name:"name",defaultValue:null===Z||void 0===Z?void 0:Z.name,disabled:!0,...T("name")})]})]}),(0,S.jsxs)(i.Z,{md:6,children:[(0,S.jsxs)(n.Z.Group,{controlId:"",className:"mb-3",children:[(0,S.jsx)(r.Z,{className:"fw-semibold fs-6",children:"Time"}),(0,S.jsx)(n.Z.Control,{type:"text",placeholder:"HH:MM",className:"custom-date",name:"startTime",defaultValue:"".concat(null===N||void 0===N?void 0:N.startTime," - ").concat(null===N||void 0===N?void 0:N.endTime),disabled:!0})]}),(0,S.jsxs)(n.Z.Group,{controlId:"",className:"mb-3",children:[(0,S.jsx)(r.Z,{className:"fw-semibold fs-6",children:"Email"}),(0,S.jsx)(n.Z.Control,{type:"email",placeholder:"johnsmith@gmail.com",className:"custom-date",name:"email",defaultValue:null===Z||void 0===Z?void 0:Z.email,disabled:!0,...T("email")})]})]}),(0,S.jsxs)(i.Z,{md:6,children:[(0,S.jsx)(n.Z.Label,{className:"fw-bold",children:"Consultation type"}),(0,S.jsxs)(n.Z.Select,{"aria-label":"Select Consultation Type",onChange:e=>{const s=e.target.value;E({isVideo:"Video"===s,isAudio:"Audio"===s})},value:_.isVideo?"Video":"Audio",children:[(0,S.jsx)("option",{value:"Video",children:"Video"}),(0,S.jsx)("option",{value:"Audio",children:"Audio"})]})]}),(0,S.jsxs)(i.Z,{xl:12,className:"upload_pic mt-3",children:[(0,S.jsx)(r.Z,{className:"fw-semibold fs-6",children:"Attachments"}),(0,S.jsxs)("div",{className:"mb-2 border py-3 rounded",children:[(0,S.jsxs)("label",{htmlFor:"patient-pic",className:"text-center w-100 pt-1",children:[(0,S.jsx)("img",{className:"mb-2 upload-icon",width:"",src:m.Z.UPLOAD_ICON,alt:"location"}),(0,S.jsxs)("p",{className:"upload-text mb-1",children:["Upload a file"," ",(0,S.jsx)("span",{className:"text-black fs-6",children:" or drag and drop"})]}),(0,S.jsx)("p",{className:"upload-text_small mb-0",children:"PNG, JPG, PDF upto 5MB"})]}),(0,S.jsx)("input",{size:"small",type:"file",id:"patient-pic",name:"patient-pic",accept:"image/png, image/jpeg, application/pdf",multiple:!0,onChange:e=>{O(e)},onDrop:e=>{e.preventDefault(),O(e)},onDragOver:e=>e.preventDefault()})]}),(0,S.jsx)("div",{className:"my-3",children:w&&(0,S.jsxs)("div",{className:"d-flex align-items-center pb-1",children:[(0,S.jsx)(v.hF6,{size:30,style:{color:"#745DED"}}),(0,S.jsx)("h6",{className:"file-name mb-0 ms-2",children:null===w||void 0===w?void 0:w.name}),(0,S.jsx)("span",{className:"mx-3",children:(0,S.jsx)(f.oHP,{size:18,onClick:()=>{C(null)}})})]})}),(0,S.jsxs)("div",{className:"d-flex align-items-start",children:[(0,S.jsx)("img",{className:"me-2",width:"",src:m.Z.INFO_ICON,alt:"location"}),(0,S.jsxs)("p",{className:"upload-text_small mb-0 fs-6",children:[" ",(0,S.jsxs)("span",{className:"text_darkGray fw-semibold",children:[" ","You can upload the following:"]})," ","Evidence for repeat prescription, reports, documents, clear photo of rash or lesion (Important Note: Please do not upload blood test results or images of intimate areas of your body)"]})]})]}),(0,S.jsx)("div",{className:"d-grid mt-4",children:g?(0,S.jsx)(d.Z,{className:"block primary_bg",variant:"primary",size:"lg",type:"submit",children:"Reschedule Appointment"}):(0,S.jsx)(d.Z,{className:"block primary_bg",variant:"primary",size:"lg",type:"submit",children:"Proceed to Pay"})})]})})})}),(0,S.jsx)(Y,{formData:P,singleSlotData:N,handleClose:L,show:D})]})}var M=l(57689);const _=()=>{var e;const s=(0,x.I0)(),[l,r]=(0,a.useState)(""),[c,u]=(0,a.useState)(h()(new Date).format("YYYY-MM-DD")),p=(0,M.TH)(),v=null===p||void 0===p||null===(e=p.state)||void 0===e?void 0:e.appointmentId,[j,f]=(0,a.useState)(!1),{allSlots:b}=(0,x.v9)((e=>e.doctorSchedule));(0,a.useEffect)((()=>{if(c){const e={date:c,month:null};s((0,N.xG)(e))}}),[s,c]);const g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date(c),s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";return null===e||void 0===e?void 0:e.toLocaleDateString(s,{weekday:"long"})}(),[Z,D]=(0,a.useState)(!1);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("h5",{children:"Available Slots"}),(0,S.jsxs)(t.Z,{className:"slotsSection mt-4",children:[(0,S.jsxs)(t.Z.Body,{children:[(0,S.jsxs)(o.Z,{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,S.jsx)(i.Z,{xl:2,lg:4,md:4,sm:6,children:(0,S.jsx)("div",{className:"",children:(0,S.jsx)(n.Z.Control,{type:"date",name:"dob",defaultValue:h()(new Date).format("YYYY-MM-DD"),min:h()(new Date).format("YYYY-MM-DD"),className:"custom-date",onChange:e=>u(e.target.value)})})}),(0,S.jsx)(i.Z,{md:4,lg:4,className:"text-center",children:(0,S.jsxs)("h5",{className:"text-black fw-bold mb-0",children:[g," - ",h()(c).format("DD-MM-YYYY")]})}),(0,S.jsx)(i.Z,{md:4,sm:4,children:(0,S.jsxs)("div",{className:"d-flex justify-content-end radioGroup",children:[(0,S.jsxs)("div",{className:"d-flex align-items-center me-sm-4 me-2",children:[(0,S.jsx)("span",{className:"bookedSlot rounded-circle me-2",children:(0,S.jsx)("img",{className:"",src:m.Z.BOOKED_SLOT,alt:"booked"})}),(0,S.jsx)("span",{children:"Booked Slots"})]}),(0,S.jsxs)("div",{className:"d-flex align-items-center",children:[(0,S.jsx)("span",{className:"availableSlot rounded-circle me-2",children:(0,S.jsx)("img",{className:"",src:m.Z.AVAILABLE_SLOT,alt:"booked"})}),(0,S.jsx)("span",{children:"Available Slots"})]})]})})]}),(0,S.jsx)("div",{className:"doctor_Details",children:(0,S.jsx)("div",{className:"slotContainer mt-4 pt-3",onBlur:()=>{f(!0)},children:null!==b&&(null===b||void 0===b?void 0:b.length)>0?null===b||void 0===b?void 0:b.map((e=>(0,S.jsxs)(d.Z,{className:"slot_btn".concat(null!==e&&void 0!==e&&e.isBooked?" booked":""),onClick:()=>(r(e),void f(!0)),children:[null===e||void 0===e?void 0:e.startTime," - ",null===e||void 0===e?void 0:e.endTime]},null===e||void 0===e?void 0:e.startTime))):(0,S.jsx)("p",{className:"text-center",children:"No Slot Available"})})}),(0,S.jsx)("div",{className:"float-right mt-4",children:(0,S.jsx)(d.Z,{onClick:()=>D(!0),className:"btn-primary px-5 primary_bg",disabled:!0===(null===l||void 0===l?void 0:l.isBooked)||!l,children:"Continue"})})]}),(0,S.jsx)(k,{show:Z,handleClose:()=>D(!1),singleSlotData:l,appointmentId:v})]})]})}}}]);
//# sourceMappingURL=5754.216fca15.chunk.js.map