"use strict";(self.webpackChunkfamily_doc_app=self.webpackChunkfamily_doc_app||[]).push([[1622],{17505:(e,l,s)=>{s.d(l,{c:()=>n});var a=s(3810),t=s(80184);function n(e){return(0,t.jsx)("div",{className:"error-message-field-generic",children:(0,t.jsx)("p",{className:"mb-1",children:e.message?e.message:a.p.SYSTEM_ERROR})})}},14045:(e,l,s)=>{s.d(l,{Z:()=>n});var a=s(88135),t=s(80184);function n(e){let{children:l,...s}=e;const{handleClose:n,show:d,title:o,className:i}=s;return(0,t.jsx)("div",{children:(0,t.jsxs)(a.Z,{show:d,onHide:n,className:i,backdrop:"static",children:[(0,t.jsx)(a.Z.Header,{className:"py-3",closeButton:!0,children:(0,t.jsx)(a.Z.Title,{className:"modalTitle",children:(0,t.jsx)("span",{className:"font-weight-600",children:o})})}),(0,t.jsx)(a.Z.Body,{children:l})]})})}},41622:(e,l,s)=>{s.r(l),s.d(l,{default:()=>C});var a=s(72791),t=s(43360),n=s(95070),d=s(89743),o=s(2677),i=s(36638),c=s(61734),r=s(19485),m=s(14045),h=s(53392),u=s(73683),x=s(82962),j=s(61134),v=s(59434),p=s(17505),b=s(80184);const f=function(e){const{handleClose:l}=e,{handleSubmit:s,register:n}=(0,j.cI)(),[c,r]=(0,a.useState)(""),[m,f]=(0,a.useState)(""),[Z,g]=(0,a.useState)(""),[N,y]=(0,a.useState)(""),[S,C]=(0,a.useState)([]),[k,D]=(0,a.useState)(""),w=(0,v.I0)(),{allSlots:T}=(0,v.v9)((e=>e.doctorSchedule)),I=null===T||void 0===T?void 0:T.filter((e=>!e.isBooked)),F=I.map((e=>e.startTime)),_=I.map((e=>e.endTime)),M=T.map((e=>({scheduleId:e.scheduleId,Fee:e.Fee}))),Y=e=>{const{value:l,checked:s}=e.target;C(s?e=>[...e,l]:e=>e.filter((e=>e!==l)))},B=()=>{l();const e={date:c,month:null};w((0,x.xG)(e))},E=(e,l)=>{const s=new Date("".concat(c," ").concat(e));let a=(new Date("".concat(c," ").concat(l))-s)/6e4;return a<0&&(a+=1440),a>=15};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(i.Z,{onSubmit:s((function(e){var l,s;const a={startDate:c,endDate:m,startTime:null===(l=(0,u.oA)(Z,c))||void 0===l?void 0:l.split("Z")[0],endTime:null===(s=(0,u.oA)(N,c))||void 0===s?void 0:s.split("Z")[0],noOfDoctors:1,daysOfWeek:S,fee:null===e||void 0===e?void 0:e.feeValue};w((0,x.Y3)({finalData:a,moveToNext:B}))})),children:[(0,b.jsxs)("div",{className:"mb-3 border p-3 rounded modalCheckboxes",children:[(0,b.jsx)(i.Z.Check,{type:"checkbox",id:"",label:"Monday",className:"d-flex",value:"Monday",onChange:Y}),(0,b.jsx)(i.Z.Check,{type:"checkbox",id:"",label:"Tuesday",className:"d-flex",value:"Tuesday",onChange:Y}),(0,b.jsx)(i.Z.Check,{type:"checkbox",id:"",label:"Wednesday",className:"d-flex",value:"Wednesday",onChange:Y}),(0,b.jsx)(i.Z.Check,{type:"checkbox",id:"",label:"Thursday",className:"d-flex",value:"Thursday",onChange:Y}),(0,b.jsx)(i.Z.Check,{type:"checkbox",id:"",label:"Friday",className:"d-flex",value:"Friday",onChange:Y}),(0,b.jsx)(i.Z.Check,{type:"checkbox",id:"",label:"Saturday",className:"d-flex",value:"Saturday",onChange:Y}),(0,b.jsx)(i.Z.Check,{type:"checkbox",id:"",label:"Sunday",className:"d-flex",value:"Sunday",onChange:Y})]},"0"),(0,b.jsxs)(d.Z,{children:[(0,b.jsxs)(o.Z,{md:6,xl:6,children:[(0,b.jsxs)(i.Z.Group,{controlId:"formDate",className:"mb-3",children:[(0,b.jsx)(h.Z,{className:"fw-semibold fs-6",children:"Start Date"}),(0,b.jsx)(i.Z.Control,{type:"date",placeholder:"Select a date",className:"custom-date",value:c,min:(0,u.Ux)(),onChange:e=>{const l=e.target.value;r(l);const s=new Date(l);s.setDate(s.getDate());const a=s.toISOString().split("T")[0];m<a&&f(a)}})]}),(0,b.jsxs)(i.Z.Group,{controlId:"",className:"mb-3",children:[(0,b.jsx)(h.Z,{className:"fw-semibold fs-6",children:"Start Time"}),(0,b.jsx)(i.Z.Control,{type:"time",placeholder:"HH:MM",className:"custom-date",disabled:!c,value:Z||F[0],onChange:e=>g(e.target.value)})]})]}),(0,b.jsxs)(o.Z,{md:6,xl:6,children:[(0,b.jsxs)(i.Z.Group,{controlId:"formDate",className:"mb-3",children:[(0,b.jsx)(h.Z,{className:"fw-semibold fs-6",children:"End Date"}),(0,b.jsx)(i.Z.Control,{type:"date",placeholder:"Select a date",className:"custom-date",value:m,disabled:""===c,min:c,onChange:e=>f(e.target.value)})]}),(0,b.jsxs)(i.Z.Group,{controlId:"",className:"mb-3",children:[(0,b.jsx)(h.Z,{className:"fw-semibold fs-6",children:"End Time"}),(0,b.jsx)(i.Z.Control,{type:"time",placeholder:"HH:MM",className:"custom-date",min:Z,value:N||_[1],disabled:!Z,onChange:e=>{const l=e.target.value;y(l);const s=E(Z,l);D(s?"":"The appointment start time and end time should be at least 15 minutes apart.")}})]})]}),k&&(0,b.jsx)(p.c,{message:k}),(0,b.jsx)(o.Z,{md:6,xl:6,children:(0,b.jsxs)(i.Z.Group,{controlId:"formBasicEmail",children:[(0,b.jsx)(i.Z.Label,{className:"fw-bold",children:"Fee (\u20ac)"}),(0,b.jsx)(i.Z.Control,{size:"lg",type:"number",step:"0.01",placeholder:"Enter Fee (1.36)",min:0,...n("feeValue",{required:!0}),defaultValue:M.length>0?M[0].Fee:""})]})}),(0,b.jsx)("div",{className:"d-grid mt-4",children:(0,b.jsx)(t.Z,{className:"block primary_bg",variant:"primary",size:"lg",type:"submit",disabled:k,children:"Create Slot"})})]})]})})};const Z=function(e){const{handleClose:l}=e,{handleSubmit:s,register:n}=(0,j.cI)(),[c,r]=(0,a.useState)(""),[m,f]=(0,a.useState)(""),[Z,g]=(0,a.useState)(""),[N,y]=(0,a.useState)(""),S=(0,v.I0)(),{allSlots:C}=(0,v.v9)((e=>e.doctorSchedule)),k=null===C||void 0===C?void 0:C.filter((e=>!e.isBooked)),D=k.map((e=>e.startTime)),w=k.map((e=>e.endTime)),T=C.map((e=>({scheduleId:e.scheduleId,Fee:e.Fee}))),I=[];I.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date(m),l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";return null===e||void 0===e?void 0:e.toLocaleDateString(l,{weekday:"long"})}());const F=()=>{l();const e={date:m,month:null};S((0,x.xG)(e))},_=(e,l)=>{const s=new Date("".concat(m," ").concat(e));let a=(new Date("".concat(m," ").concat(l))-s)/6e4;return a<0&&(a+=1440),a>=15};return(0,b.jsx)(i.Z,{onSubmit:s((function(e){var l,s;const a={startDate:m,endDate:m,startTime:null===(l=(0,u.oA)(Z,m))||void 0===l?void 0:l.split("Z")[0],endTime:null===(s=(0,u.oA)(c,m))||void 0===s?void 0:s.split("Z")[0],noOfDoctors:1,daysOfWeek:I,fee:null===e||void 0===e?void 0:e.feeValue};S((0,x.Y3)({finalData:a,moveToNext:F}))})),children:(0,b.jsxs)(d.Z,{children:[(0,b.jsx)(o.Z,{xl:12,children:(0,b.jsxs)(i.Z.Group,{controlId:"formDate",className:"mb-3",children:[(0,b.jsx)(h.Z,{className:"fw-semibold fs-6",children:"Date"}),(0,b.jsx)(i.Z.Control,{type:"date",name:"date",placeholder:"Select a date",className:"custom-date",value:m,min:(0,u.Ux)(),onChange:e=>{const l=e.target.value;f(l),g((0,u.Xn)()),r(w[1])}})]})}),(0,b.jsx)(o.Z,{md:6,xl:6,children:(0,b.jsxs)(i.Z.Group,{controlId:"",className:"mb-3",children:[(0,b.jsx)(h.Z,{className:"fw-semibold fs-6",children:"Start Time"}),(0,b.jsx)(i.Z.Control,{type:"time",placeholder:"HH:MM",name:"startTime",className:"custom-date",min:m||(0,u.Xn)(),disabled:!m,value:Z||D[0],onChange:e=>g(e.target.value)})]})}),(0,b.jsx)(o.Z,{md:6,xl:6,children:(0,b.jsxs)(i.Z.Group,{controlId:"",className:"mb-3",children:[(0,b.jsx)(h.Z,{className:"fw-semibold fs-6",children:"End Time"}),(0,b.jsx)(i.Z.Control,{type:"time",placeholder:"HH:MM",className:"custom-date",name:"endTime",min:Z,value:c||w[1],disabled:!Z,onChange:e=>{const l=e.target.value;r(l);const s=_(Z,l);y(s?"":"The appointment start time and end time should be at least 15 minutes apart.")}})]})}),N&&(0,b.jsx)(p.c,{message:N}),(0,b.jsx)(o.Z,{md:6,xl:6,children:(0,b.jsxs)(i.Z.Group,{controlId:"formBasicEmail",children:[(0,b.jsx)(i.Z.Label,{className:"fw-bold",children:"Fee (\u20ac)"}),(0,b.jsx)(i.Z.Control,{size:"lg",type:"number",step:"0.01",placeholder:"Enter Fee (1.36)",min:0,...n("feeValue",{required:!0}),defaultValue:T.length>0?T[0].Fee:"",required:!0})]})}),(0,b.jsx)("div",{className:"d-grid mt-4",children:(0,b.jsx)(t.Z,{className:"block",variant:"primary primary_bg",size:"lg",type:"submit",disabled:N,children:"Create Slot"})})]})})};function g(e){let{children:l,...s}=e;const{show:a,handleClose:t}=s;return(0,b.jsx)("div",{id:"AddSlot_modal",className:"AddSlot_modal",children:(0,b.jsx)(m.Z,{className:"modal-lg",title:"Time Slot Creation",handleClose:t,show:a,children:(0,b.jsx)("div",{className:"px-2 pb-3 addSlot_content",children:(0,b.jsxs)(r.Z,{defaultActiveKey:"1",id:"uncontrolled-tab-example slot_tabs",className:"mb-1 slot_tabs",children:[(0,b.jsx)(c.Z,{eventKey:"1",className:"slot_tab",title:"Single Day",children:(0,b.jsx)(Z,{handleClose:t})}),(0,b.jsx)(c.Z,{eventKey:"2",title:"Recurring",className:"slot_tab",children:(0,b.jsx)(f,{handleClose:t})})]})})})})}var N=s(69499),y=s(72426),S=s.n(y);const C=()=>{const e=(0,v.I0)(),{handleSubmit:l,register:s}=(0,j.cI)(),[c,r]=(0,a.useState)(S()(new Date).format("YYYY-MM-DD")),[h,u]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1),Z=()=>f(!1),{allSlots:y}=(0,v.v9)((e=>e.doctorSchedule));(0,a.useEffect)((()=>{if(c){const l={date:c,month:null};e((0,x.xG)(l))}}),[e,c]);const C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date(c),l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";return null===e||void 0===e?void 0:e.toLocaleDateString(l,{weekday:"long"})}();let k=null===y||void 0===y?void 0:y.filter((e=>e.isBooked)),D=null===y||void 0===y?void 0:y.filter((e=>!e.isBooked));return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3 mobileFlex_Col",children:[(0,b.jsx)("h5",{children:"Created Slots"}),c>=S()(new Date).format("YYYY-MM-DD")&&(0,b.jsxs)("div",{children:[((null===y||void 0===y?void 0:y.length)>0&&(null===k||void 0===k?void 0:k.length)<=0||(null===D||void 0===D?void 0:D.length)>0)&&(0,b.jsx)(t.Z,{onClick:()=>{f(!0)},className:"btn-primary primary_bg me-2",children:"Update Fees"}),(0,b.jsx)(t.Z,{onClick:()=>{u(!0)},className:"btn-primary primary_bg",children:"Create Slot"})]})]}),(0,b.jsxs)(n.Z,{className:"slotsSection",children:[(0,b.jsxs)(n.Z.Body,{children:[(0,b.jsxs)(d.Z,{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,b.jsx)(o.Z,{xl:2,lg:4,md:4,sm:6,children:(0,b.jsx)("div",{className:"",children:(0,b.jsx)(i.Z.Control,{type:"date",name:"dob",defaultValue:S()(new Date).format("YYYY-MM-DD"),className:"custom-date",onChange:e=>r(e.target.value)})})}),(0,b.jsx)(o.Z,{md:4,lg:4,className:"text-center",children:(0,b.jsxs)("h5",{className:"text-black fw-bold mb-0",children:[C," - ",S()(c).format("DD-MM-YYYY")]})}),(0,b.jsx)(o.Z,{md:4,sm:4,children:(0,b.jsxs)("div",{className:"d-flex justify-content-end radioGroup",children:[(0,b.jsxs)("div",{className:"d-flex align-items-center me-sm-4 me-2",children:[(0,b.jsx)("span",{className:"bookedSlot rounded-circle me-2",children:(0,b.jsx)("img",{className:"",src:N.Z.BOOKED_SLOT,alt:"booked"})}),(0,b.jsx)("span",{children:"Booked Slots"})]}),(0,b.jsxs)("div",{className:"d-flex align-items-center",children:[(0,b.jsx)("span",{className:"availableSlot rounded-circle me-2",children:(0,b.jsx)("img",{className:"",src:N.Z.AVAILABLE_SLOT,alt:"booked"})}),(0,b.jsx)("span",{children:"Available Slots"})]})]})})]}),(0,b.jsx)("div",{children:(0,b.jsx)("div",{className:"slotContainer mt-4 pt-3 ",children:null!==y&&(null===y||void 0===y?void 0:y.length)>0?null===y||void 0===y?void 0:y.map((e=>(0,b.jsxs)(t.Z,{className:"slot_btn".concat(null!==e&&void 0!==e&&e.isBooked?" booked":""),children:[null===e||void 0===e?void 0:e.startTime," - ",null===e||void 0===e?void 0:e.endTime]},null===e||void 0===e?void 0:e.startTime))):(0,b.jsx)("p",{className:"text-center",children:"No Slot Available"})})})]}),(0,b.jsx)(g,{show:h,handleClose:()=>u(!1)})]}),(0,b.jsx)(m.Z,{className:"modal-lg",title:"Update Slot Fees",handleClose:Z,show:p,children:(0,b.jsx)(i.Z,{onSubmit:l((function(l){const s={fee:null===l||void 0===l?void 0:l.feeValue};e((0,x.JZ)({updateFeeData:s})),Z()})),children:(0,b.jsxs)(d.Z,{children:[(0,b.jsx)(o.Z,{sx:12,children:(0,b.jsxs)(i.Z.Group,{controlId:"formBasicEmail",children:[(0,b.jsx)(i.Z.Label,{className:"fw-bold",children:"Fee (\u20ac)"}),(0,b.jsx)(i.Z.Control,{size:"lg",type:"number",step:"0.01",placeholder:"Enter Fee (1.36)",min:0,...s("feeValue",{required:!0}),required:!0})]})}),(0,b.jsx)("div",{className:"d-grid mt-4",children:(0,b.jsx)(t.Z,{className:"block",variant:"primary primary_bg",size:"lg",type:"submit",children:"Update Fee"})})]})})})]})}}}]);
//# sourceMappingURL=1622.36d90554.chunk.js.map