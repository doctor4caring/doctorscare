"use strict";(self.webpackChunkfamily_doc_app=self.webpackChunkfamily_doc_app||[]).push([[4456],{38713:(e,l,i)=>{i.d(l,{c:()=>s});i(72791);var t=i(88135),o=i(43360),n=i(39126),a=i(80184);function s(e){return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(t.Z,{show:e.show,onHide:e.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"appointment-modal",children:[(0,a.jsx)(t.Z.Header,{closeButton:!0}),(0,a.jsxs)(t.Z.Body,{children:[(0,a.jsx)("div",{className:"d-flex justify-content-center",children:(0,a.jsx)("div",{className:"p-4 rounded-circle m-auto",style:{background:"#EDEAFD"},children:(0,a.jsx)(n.yvY,{className:"fw-bold",size:"24",style:{color:"#000071"}})})}),(0,a.jsx)("h3",{className:"text-center mx-auto mt-4",style:{fontWeight:600},children:e.heading}),(0,a.jsxs)("p",{className:"text-center mt-3 mb-4",children:["Are you sure you want to delete ",e.title,"?"]}),(0,a.jsx)("span",{className:"d-flex justify-content-center",children:(0,a.jsx)(o.Z,{style:{background:"#FD2121",border:"none"},className:"px-4 mb-3",onClick:()=>{e.removeFunc(),e.onHide()},children:"Delete"})})]})]})})}},76637:(e,l,i)=>{i.r(l),i.d(l,{default:()=>te});var t=i(72791),o=i(89743),n=i(2677),a=i(36638),s=i(95070),d=i(69764),r=i(43360),c=i(88135),m=i(10857),u=(i(68639),i(95758),i(3810)),p=(i(67758),i(57689)),v=i(59513),x=i.n(v),h=i(39126),f=i(78820),j=i(56355),g=i(59434),y=i(23196),b=i(61134),N=i(80184);function Z(e){var l,i,s,d,c,m,u,p,v,Z,D,I,C,w,A,S,F,H,L,k,z,E,O,P,M,T,V,G,q,W,R,B,Q,Y,_;let{checkedApt:U,setInputFieldValues:J,inputFieldValues:K}=e;const{register:X,handleSubmit:$,reset:ee}=(0,b.cI)(),le=JSON.parse(localStorage.getItem("slotDescription")),[ie,te]=(0,t.useState)(!1),[oe,ne]=(0,t.useState)(""),[ae]=(0,t.useState)(1e3),se=(0,g.I0)(),de=(0,g.v9)((e=>{var l,i;return null===e||void 0===e||null===(l=e.appointmentDetails)||void 0===l||null===(i=l.createAppointmentDetails)||void 0===i?void 0:i.data})),re=(0,g.v9)((e=>{var l;return null===e||void 0===e||null===(l=e.appointmentDetails)||void 0===l?void 0:l.getAptDetails})),{isLoading:ce,isError:me,isSuccess:ue}=(0,g.v9)((e=>null===e||void 0===e?void 0:e.appointmentDetails)),pe=e=>l=>{J((i=>({...i,[e]:l.target.value})))},ve=ae-(null===oe||void 0===oe?void 0:oe.length);(0,t.useEffect)((()=>{const e={appointmentId:null===le||void 0===le?void 0:le.appointmentId};se((0,y.mQ)(e))}),[se,null===le||void 0===le?void 0:le.appointmentId]);const xe=e=>{const l={appointmentId:null===le||void 0===le?void 0:le.appointmentId};se((0,y.mQ)(l)),te(!1),ee()};return(0,N.jsx)(N.Fragment,{children:ce?(0,N.jsx)("p",{className:"my-5 text-center fst-italic",style:{color:"#999999"},children:"Loading..."}):ue?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("span",{className:"d-flex justify-content-end",children:!1===ie&&(null===re||void 0===re?void 0:re.data)&&(0,N.jsxs)(r.Z,{className:"edit-btn py-1 px-3 d-flex align-items-center",onClick:()=>{te(!0)},children:[(0,N.jsx)(j.ffH,{}),(0,N.jsx)("p",{className:"mb-0 ps-2",children:"Edit"})]})}),(0,N.jsx)(a.Z,{onSubmit:$((function(e){var l,i;const t={appointmentDetailId:null!==de&&void 0!==de&&de.appointmentDetailId?null===de||void 0===de?void 0:de.appointmentDetailId:null!==re&&void 0!==re&&null!==(l=re.data)&&void 0!==l&&l.appointmentDetailId?null===re||void 0===re||null===(i=re.data)||void 0===i?void 0:i.appointmentDetailId:0,appointmentId:null===le||void 0===le?void 0:le.appointmentId,presentingComplaint:e.presentingComplaint?e.presentingComplaint:null!==de&&void 0!==de&&de.presentingComplaint?null===de||void 0===de?void 0:de.presentingComplaint:"",historyOfPresentingComplaint:e.presentingComplaint?e.presentingComplaint:null!==de&&void 0!==de&&de.presentingComplaint?null===de||void 0===de?void 0:de.presentingComplaint:"",pastMedicalHistory:e.pastMedicalHistory?e.pastMedicalHistory:null!==de&&void 0!==de&&de.pastMedicalHistory?null===de||void 0===de?void 0:de.pastMedicalHistory:"",medications:e.medications?e.medications:null!==de&&void 0!==de&&de.medications?null===de||void 0===de?void 0:de.medications:"",allergies:e.allergies?e.allergies:null!==de&&void 0!==de&&de.allergies?null===de||void 0===de?void 0:de.allergies:"",familyHistory:e.familyHistory?e.familyHistory:null!==de&&void 0!==de&&de.familyHistory?null===de||void 0===de?void 0:de.familyHistory:"",socialHistory:e.socialHistory?e.socialHistory:null!==de&&void 0!==de&&de.socialHistory?null===de||void 0===de?void 0:de.socialHistory:"",objectiveExamination:null!==e&&void 0!==e&&e.objectiveExamination?null===e||void 0===e?void 0:e.objectiveExamination:null!==de&&void 0!==de&&de.objectiveExamination?null===de||void 0===de?void 0:de.objectiveExamination:"",suspectedDiagnosis:null!==e&&void 0!==e&&e.suspectedDiagnosis?null===e||void 0===e?void 0:e.suspectedDiagnosis:null!==de&&void 0!==de&&de.suspectedDiagnosis?null===de||void 0===de?void 0:de.suspectedDiagnosis:"",recommendedActions:null!==e&&void 0!==e&&e.recommendedActions?null===e||void 0===e?void 0:e.recommendedActions:null!==de&&void 0!==de&&de.recommendedActions?null===de||void 0===de?void 0:de.recommendedActions:"",signOff:null!==e&&void 0!==e&&e.signOff?null===e||void 0===e?void 0:e.signOff:null!==de&&void 0!==de&&de.signOff?null===de||void 0===de?void 0:de.signOff:"",appointmentAttended:!0===U,failuretoattendnotes:null!==e&&void 0!==e&&e.failuretoattendnotes?null===e||void 0===e?void 0:e.failuretoattendnotes:null!==de&&void 0!==de&&de.failuretoattendnotes?null===de||void 0===de?void 0:de.failuretoattendnotes:""};null!==re&&void 0!==re&&re.data?se((0,y.gx)({finalData:t,onCreateSuccess:xe})):se((0,y.rp)({finalData:t,onCreateSuccess:xe}))})),children:(0,N.jsxs)(o.Z,{children:[!U||null!==re&&void 0!==re&&null!==(l=re.data)&&void 0!==l&&l.failuretoattendnotes?(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(n.Z,{xs:12,children:(0,N.jsxs)(a.Z.Group,{style:{fontSize:"18px",fontWeight:500},controlId:"failuretoattendnotes",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Failure to attend notes"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:5,placeholder:"Add notes for failure to attend",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("failuretoattendnotes",{required:!0}),onChange:e=>{ne(e.target.value)},isInvalid:(null===oe||void 0===oe?void 0:oe.length)>ae,style:{height:"200px",whiteSpace:"pre-wrap"},maxLength:250,defaultValue:null!==(B=null===re||void 0===re||null===(Q=re.data)||void 0===Q?void 0:Q.failuretoattendnotes)&&void 0!==B?B:"",readOnly:(null===re||void 0===re||null===(Y=re.data)||void 0===Y||!Y.failuretoattendnotes||!ie)&&!(null===re||void 0===re||null===(_=re.data)||void 0===_||!_.failuretoattendnotes)}),(0,N.jsxs)("span",{className:"mt-3 float-right",bg:"".concat((null===oe||void 0===oe?void 0:oe.length)>ae?"danger":"primary"),children:["Remaining characters ",ve]})]})})}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(n.Z,{xs:6,className:"pe-0",children:[(0,N.jsx)("p",{className:"mb-2",style:{fontSize:"18px",fontWeight:500},children:"Appointment Date"}),(0,N.jsxs)("span",{className:"d-flex",children:[(0,N.jsx)(x(),{selected:le&&new Date(le.appointmentDate),dateFormat:"dd MMM yyyy",placeholderText:"23 Jan 2023",className:"custom-field-picker py-2 px-3 w-100 bg-transparent",disabled:!0}),(0,N.jsx)(h.zlR,{className:"custom-date-icon",size:18,style:{top:"12px",right:"34px"}})]})]}),(0,N.jsxs)(n.Z,{xs:6,className:"ps-0",children:[(0,N.jsx)("p",{className:"mb-2",style:{fontSize:"18px",fontWeight:500},children:"Appointment Time"}),(0,N.jsxs)("div",{className:"d-flex align-items-center position-relative",children:[(0,N.jsx)(a.Z.Control,{type:"text",name:"appointmentStartTime",className:"w-100 custom-field-picker py-2 px-3 bg-transparent color-99",value:null===le||void 0===le?void 0:le.appointmentStartTime,disabled:!0}),(0,N.jsx)(f.Gtc,{style:{color:"#999999",position:"absolute",right:"10px",pointerEvents:"none"},size:16})]})]}),(0,N.jsx)(n.Z,{xs:12,children:(0,N.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"presentingComplaint",children:[(0,N.jsxs)(a.Z.Label,{className:"mb-0",children:["Presenting Complaint",(0,N.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:1,placeholder:"Tiredness",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("presentingComplaint"),name:"presentingComplaint",defaultValue:(null===K||void 0===K?void 0:K.presentingComplaint)||(null===re||void 0===re||null===(i=re.data)||void 0===i?void 0:i.presentingComplaint),onChange:pe("presentingComplaint"),maxLength:250,required:!0,readOnly:(null===re||void 0===re||null===(s=re.data)||void 0===s||!s.presentingComplaint||!ie)&&!(null===re||void 0===re||null===(d=re.data)||void 0===d||!d.presentingComplaint)})]})}),(0,N.jsx)(n.Z,{xs:12,children:(0,N.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"pastMedicalHistory",children:[(0,N.jsxs)(a.Z.Label,{className:"mb-0",children:["Past Medical History",(0,N.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about past medical history",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("pastMedicalHistory"),name:"pastMedicalHistory",defaultValue:(null===K||void 0===K?void 0:K.pastMedicalHistory)||(null===re||void 0===re||null===(c=re.data)||void 0===c?void 0:c.pastMedicalHistory),onChange:pe("pastMedicalHistory"),readOnly:(null===re||void 0===re||null===(m=re.data)||void 0===m||!m.pastMedicalHistory||!ie)&&!(null===re||void 0===re||null===(u=re.data)||void 0===u||!u.pastMedicalHistory),maxLength:250,required:!0})]})}),(0,N.jsx)(n.Z,{xs:12,children:(0,N.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"medications",children:[(0,N.jsxs)(a.Z.Label,{className:"mb-0",children:["Medications",(0,N.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about past medical history",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("medications"),name:"medications",defaultValue:(null===K||void 0===K?void 0:K.medications)||(null===re||void 0===re||null===(p=re.data)||void 0===p?void 0:p.medications),onChange:pe("medications"),readOnly:(null===re||void 0===re||null===(v=re.data)||void 0===v||!v.medications||!ie)&&!(null===re||void 0===re||null===(Z=re.data)||void 0===Z||!Z.medications),maxLength:250,required:!0})]})}),(0,N.jsx)(n.Z,{xs:12,children:(0,N.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"allergies",children:[(0,N.jsxs)(a.Z.Label,{className:"mb-0",children:["Allergies",(0,N.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about allergy history",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("allergies"),name:"allergies",defaultValue:(null===K||void 0===K?void 0:K.allergies)||(null===re||void 0===re||null===(D=re.data)||void 0===D?void 0:D.allergies),onChange:pe("allergies"),readOnly:(null===re||void 0===re||null===(I=re.data)||void 0===I||!I.allergies||!ie)&&!(null===re||void 0===re||null===(C=re.data)||void 0===C||!C.allergies),maxLength:250,required:!0})]})}),(0,N.jsx)(n.Z,{xs:12,children:(0,N.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"familyHistory",children:[(0,N.jsxs)(a.Z.Label,{className:"mb-0",children:["Family History",(0,N.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about family history",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("familyHistory"),name:"familyHistory",defaultValue:(null===K||void 0===K?void 0:K.familyHistory)||(null===re||void 0===re||null===(w=re.data)||void 0===w?void 0:w.familyHistory),onChange:pe("familyHistory"),readOnly:(null===re||void 0===re||null===(A=re.data)||void 0===A||!A.familyHistory||!ie)&&!(null===re||void 0===re||null===(S=re.data)||void 0===S||!S.familyHistory),maxLength:250,required:!0})]})}),(0,N.jsx)(n.Z,{xs:12,children:(0,N.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"socialHistory",children:[(0,N.jsxs)(a.Z.Label,{className:"mb-0",children:["Social History",(0,N.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about social history",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("socialHistory"),name:"socialHistory",defaultValue:(null===K||void 0===K?void 0:K.socialHistory)||(null===re||void 0===re||null===(F=re.data)||void 0===F?void 0:F.socialHistory),onChange:pe("socialHistory"),readOnly:(null===re||void 0===re||null===(H=re.data)||void 0===H||!H.socialHistory||!ie)&&!(null===re||void 0===re||null===(L=re.data)||void 0===L||!L.socialHistory),maxLength:250,required:!0})]})}),(0,N.jsx)(n.Z,{xs:12,children:(0,N.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"objectiveExamination",children:[(0,N.jsxs)(a.Z.Label,{className:"mb-0",children:["Objective Examination",(0,N.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about objective examination",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("objectiveExamination"),name:"objectiveExamination",defaultValue:(null===K||void 0===K?void 0:K.objectiveExamination)||(null===re||void 0===re||null===(k=re.data)||void 0===k?void 0:k.objectiveExamination),onChange:pe("objectiveExamination"),readOnly:(null===re||void 0===re||null===(z=re.data)||void 0===z||!z.objectiveExamination||!ie)&&!(null===re||void 0===re||null===(E=re.data)||void 0===E||!E.objectiveExamination),maxLength:250,required:!0})]})}),(0,N.jsx)(n.Z,{xs:12,children:(0,N.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"suspectedDiagnosis",children:[(0,N.jsxs)(a.Z.Label,{className:"mb-0",children:["Suspected Diagnosis",(0,N.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about suspected diagnosis",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("suspectedDiagnosis"),name:"suspectedDiagnosis",defaultValue:(null===K||void 0===K?void 0:K.suspectedDiagnosis)||(null===re||void 0===re||null===(O=re.data)||void 0===O?void 0:O.suspectedDiagnosis),onChange:pe("suspectedDiagnosis"),readOnly:(null===re||void 0===re||null===(P=re.data)||void 0===P||!P.suspectedDiagnosis||!ie)&&!(null===re||void 0===re||null===(M=re.data)||void 0===M||!M.suspectedDiagnosis),maxLength:250,required:!0})]})}),(0,N.jsx)(n.Z,{xs:12,children:(0,N.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"recommendedActions",children:[(0,N.jsxs)(a.Z.Label,{className:"mb-0",children:["Recommended Actions",(0,N.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about some recommended actions",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("recommendedActions"),name:"recommendedActions",defaultValue:(null===K||void 0===K?void 0:K.recommendedActions)||(null===re||void 0===re||null===(T=re.data)||void 0===T?void 0:T.recommendedActions),onChange:pe("recommendedActions"),readOnly:(null===re||void 0===re||null===(V=re.data)||void 0===V||!V.recommendedActions||!ie)&&!(null===re||void 0===re||null===(G=re.data)||void 0===G||!G.recommendedActions),maxLength:250,required:!0})]})}),(0,N.jsx)(n.Z,{xs:12,children:(0,N.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"signOff",children:[(0,N.jsxs)(a.Z.Label,{className:"mb-0",children:["Sign off",(0,N.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("signOff"),name:"signOff",defaultValue:(null===K||void 0===K?void 0:K.signOff)||(null===re||void 0===re||null===(q=re.data)||void 0===q?void 0:q.signOff),onChange:pe("signOff"),readOnly:(null===re||void 0===re||null===(W=re.data)||void 0===W||!W.signOff||!ie)&&!(null===re||void 0===re||null===(R=re.data)||void 0===R||!R.signOff),maxLength:250,required:!0})]})})]}),(!(null!==re&&void 0!==re&&re.data)||!0===ie)&&(0,N.jsx)(n.Z,{xs:12,children:(0,N.jsx)(r.Z,{className:"mt-4 start-apt-btn float-right",type:"submit",children:"Save"})})]})})]}):me?(0,N.jsx)("p",{className:"my-5 text-center text-danger fst-italic",children:"Network Error"}):null})}var D=i(29546),I=i(1444),C=i(17425),w=i(38713),A=i(45225),S=i(63524),F=i(72426),H=i.n(F),L=i(76364),k=i(60842);function z(){var e,l;const i=JSON.parse(localStorage.getItem("slotDescription")),{register:s,handleSubmit:d,reset:c,setValue:m}=(0,b.cI)(),[u,p]=(0,t.useState)(!1),v=(0,t.useRef)(null),[x,f]=(0,t.useState)(),[Z,F]=(0,t.useState)(!1),[z,E]=(0,t.useState)(!1),{getMediCertificate:O,isLoading:P,isSuccess:M,isError:T}=(0,g.v9)((e=>null===e||void 0===e?void 0:e.appointmentDetails)),[V,G]=(0,t.useState)(null!==O&&void 0!==O&&O.fromDate?new Date(null===O||void 0===O?void 0:O.fromDate.split("T")[0]):null),[q,W]=(0,t.useState)(null!==O&&void 0!==O&&O.toDate?new Date(null===O||void 0===O?void 0:O.toDate.split("T")[0]):null),{detailDTO:R}=(0,g.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointedDetail)||{}})),{getUserData:B}=(0,g.v9)((e=>null===e||void 0===e?void 0:e.userRole)),Q=(0,g.I0)();(0,t.useEffect)((()=>{O?(G(new Date(O.fromDate.split("T")[0])),W(new Date(O.toDate.split("T")[0]))):(G(null),W(null))}),[O]),(0,t.useEffect)((()=>{null!==O&&void 0!==O&&O.unabletoAttendField&&m("unabletoAttendField",null===O||void 0===O?void 0:O.unabletoAttendField)}),[null===O||void 0===O?void 0:O.unabletoAttendField,m]),(0,t.useEffect)((()=>{const e={appointmentId:null===i||void 0===i?void 0:i.appointmentId};Q((0,y.qk)(e))}),[Q,null===i||void 0===i?void 0:i.appointmentId]);const Y=()=>{const e={appointmentId:null===i||void 0===i?void 0:i.appointmentId};Q((0,y.qk)(e)),p(!1)};return(0,N.jsxs)(N.Fragment,{children:[P?(0,N.jsx)("p",{className:"my-5 text-center fst-italic",style:{color:"#999999"},children:"Loading..."}):M?(0,N.jsx)(a.Z,{onSubmit:d((function(e){const l={medicalCertificateId:null!==O&&void 0!==O&&O.medicalCertificateId?null===O||void 0===O?void 0:O.medicalCertificateId:0,appointmentId:null===i||void 0===i?void 0:i.appointmentId,fromDate:V?H()(V).format("YYYY-MM-DD"):null,toDate:q?H()(q).format("YYYY-MM-DD"):null,name:e.name,unabletoAttendField:e.unabletoAttendField,pdfFile:null,sufferingFrom:null===e||void 0===e?void 0:e.name,showMedicalCertificate:Z,isPatient:!1};null!==O&&void 0!==O&&O.name?Q((0,y.T_)({finalData:l,onCreateSuccess:Y})):Q((0,y._d)({finalData:l,onCreateSuccess:Y}))})),className:"med-certificate",children:(0,N.jsxs)(o.Z,{children:[(0,N.jsxs)(n.Z,{md:12,className:"d-flex justify-content-between",children:[(0,N.jsx)(a.Z.Check,{type:"checkbox",id:"show-medical-certificate",label:"Show to Patient",onChange:()=>{F(!Z)},disabled:!(!0===(null===O||void 0===O?void 0:O.showMedicalCertificate)&&u||!1===(null===O||void 0===O?void 0:O.showMedicalCertificate)&&u)&&!(null===O||void 0===O||!O.medicalCertificateId),defaultChecked:null!==(e=null===O||void 0===O?void 0:O.showMedicalCertificate)&&void 0!==e?e:""}),(null===O||void 0===O?void 0:O.name)&&!1===u&&(0,N.jsx)(D.Z,{id:"dropdown-item-button",title:(0,N.jsx)(h.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,N.jsxs)("div",{className:"set-dropdown-menu",children:[(0,N.jsxs)(I.Z.Item,{className:"d-flex align-items-center",onClick:()=>{p(!0)},children:[(0,N.jsx)(j.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,N.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},children:"Edit"})]}),(0,N.jsx)(I.Z.Item,{className:"d-flex align-items-center",children:(0,N.jsx)(A.ZP,{trigger:(0,N.jsxs)("button",{ref:v,className:"bg-transparent border-0 p-0",children:[(0,N.jsx)(S.bAs,{size:20})," Download PDF"]}),children:(0,N.jsx)(L.Z,{MedicalCertificateData:O,detailDTO:R,getUserData:B})})}),(0,N.jsxs)(I.Z.Item,{className:"d-flex align-items-center",onClick:()=>{f(null===O||void 0===O?void 0:O.medicalCertificateId),E(!0)},children:[(0,N.jsx)(C.w6k,{size:18,style:{color:"#FD2121"}}),(0,N.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#FD2121"},children:"Remove"})]})]})})]}),(0,N.jsxs)(n.Z,{lg:6,xs:12,children:[(0,N.jsx)("label",{className:"mb-2",children:"From"}),(0,N.jsx)(k.Z,{selectedDateState:V,onChange:e=>G(e),className:"me-2",useDrDateClass:!1,dateFormat:"dd/MM/yyyy",placeholderText:"day/month/year",disabled:(null===O||void 0===O||!O.fromDate||!u)&&!(null===O||void 0===O||!O.fromDate)})]}),(0,N.jsxs)(n.Z,{lg:6,xs:12,children:[(0,N.jsx)("label",{className:"mb-2",children:"To"}),(0,N.jsx)(k.Z,{selectedDateState:q,onChange:e=>W(e),useDrDateClass:!1,dateFormat:"dd/MM/yyyy",placeholderText:"day/month/year",disabled:(null===O||void 0===O||!O.toDate||!u)&&!(null===O||void 0===O||!O.toDate)})]}),(0,N.jsx)(n.Z,{xs:12,children:(0,N.jsxs)(a.Z.Group,{className:"my-3",controlId:"unable-to-attend",children:[(0,N.jsx)(a.Z.Label,{children:"Unable to Attend"}),(0,N.jsxs)(a.Z.Select,{"aria-label":"Select Unable to Attend",...s("unabletoAttendField",{required:!0}),disabled:(null===O||void 0===O||!O.unabletoAttendField||!u)&&!(null===O||void 0===O||!O.unabletoAttendField),children:[(0,N.jsx)("option",{value:"",children:"Select Value"}),(0,N.jsx)("option",{value:"work",children:"Work"}),(0,N.jsx)("option",{value:"school",children:"School"}),(0,N.jsx)("option",{value:"college",children:"College"}),(0,N.jsx)("option",{value:"jury duty",children:"Jury Duty"})]})]})}),(0,N.jsx)(n.Z,{xs:12,children:(0,N.jsxs)(a.Z.Group,{className:"mb-3",controlId:"suffering-from",children:[(0,N.jsx)(a.Z.Label,{className:"label-primary",children:"Suffering From"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:3,className:"".concat((u||(null===O||void 0===O?void 0:O.name))&&"bg-transparent"),placeholder:"Tell about some medical certificate",...s("name",{required:!0}),defaultValue:null!==(l=null===O||void 0===O?void 0:O.name)&&void 0!==l?l:"",readOnly:(null===O||void 0===O||!O.name||!u)&&!(null===O||void 0===O||!O.name),maxLength:250})]})}),(0,N.jsx)(n.Z,{xs:3,className:"w-100",children:(!(null!==O&&void 0!==O&&O.name)||!0===u)&&(0,N.jsx)(r.Z,{className:"mt-2 mb-3 start-apt-btn float-right",type:"submit",children:"Save"})})]})}):T?(0,N.jsx)("p",{className:"my-5 text-center text-danger fst-italic",children:"Network Error"}):null,(0,N.jsx)(w.c,{show:z,onHide:()=>E(!1),heading:"Delete Medical Certificate",title:"this medical certificate",removeFunc:function(){const e={medicalcertificateId:x};Q((0,y.O7)({finalData:e,onCreateSuccess:Y})),c()}})]})}var E=i(95985),O=i(24278);function P(){var e,l,i,o,n,s;const d=JSON.parse(localStorage.getItem("slotDescription")),{register:c,handleSubmit:m,reset:u}=(0,b.cI)(),[p,v]=(0,t.useState)(),[x,f]=(0,t.useState)(!1),[y,Z]=(0,t.useState)(!1),{patientAppointmentNotes:A,isLoading:S,isError:F,isSuccess:H}=(0,g.v9)((e=>(null===e||void 0===e?void 0:e.appointment)||{})),L=(0,g.I0)(),k=(new Date).toISOString().slice(0,19);(0,t.useEffect)((()=>{const e={appointmentId:null===d||void 0===d?void 0:d.appointmentId};L((0,O.zp)(e))}),[L,null===d||void 0===d?void 0:d.appointmentId]);const z=()=>{const e={appointmentId:null===d||void 0===d?void 0:d.appointmentId};L((0,O.zp)(e)),Z(!1),u()};return(0,N.jsxs)(N.Fragment,{children:[S?(0,N.jsx)("p",{className:"my-5 text-center fst-italic",style:{color:"#999999"},children:"Loading..."}):H?(0,N.jsxs)(a.Z,{onSubmit:m((function(e){var l,i,t,o;const n={noteId:null!==A&&void 0!==A&&null!==(l=A.note)&&void 0!==l&&l.noteId?null===A||void 0===A||null===(i=A.note)||void 0===i?void 0:i.noteId:0,patientId:null===d||void 0===d?void 0:d.patientId,doctorId:null===d||void 0===d?void 0:d.doctorId,appointmentId:null===d||void 0===d?void 0:d.appointmentId,noteTypeId:1,note:null===e||void 0===e?void 0:e.note,date:k,showNote:!0,isPatient:!1,appointmentDetail:null!==A&&void 0!==A&&null!==(t=A.note)&&void 0!==t&&t.note?{appointmentDetailId:0}:null};null!==A&&void 0!==A&&null!==(o=A.note)&&void 0!==o&&o.note?L((0,E.fW)({finalData:n,moveToNext:z})):L((0,E.K1)({finalData:n,moveToNext:z}))})),children:[(0,N.jsx)(a.Z.Group,{className:"mb-3",controlId:"medicalForm.ControlTextarea1",children:(0,N.jsxs)("span",{className:"d-flex justify-content-between",children:[(0,N.jsx)(a.Z.Control,{as:"textarea",rows:3,className:"".concat((y||(null===A||void 0===A||null===(e=A.note)||void 0===e?void 0:e.note))&&"bg-transparent"),placeholder:"Tell about Notes to Patient",...c("note",{required:!0}),defaultValue:(null===A||void 0===A||null===(l=A.note)||void 0===l?void 0:l.note)||"",readOnly:(null===A||void 0===A||null===(i=A.note)||void 0===i||!i.note||!y)&&!(null===A||void 0===A||null===(o=A.note)||void 0===o||!o.note)}),(null===A||void 0===A||null===(n=A.note)||void 0===n?void 0:n.note)&&!1===y&&(0,N.jsx)(D.Z,{id:"dropdown-item-button",title:(0,N.jsx)(h.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,N.jsxs)("div",{className:"set-dropdown-menu",children:[(0,N.jsxs)(I.Z.Item,{className:"d-flex align-items-center",onClick:()=>{Z(!0)},children:[(0,N.jsx)(j.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,N.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},children:"Edit"})]}),(0,N.jsxs)(I.Z.Item,{className:"d-flex align-items-center",onClick:()=>{var e;v(null===A||void 0===A||null===(e=A.note)||void 0===e?void 0:e.noteId),f(!0)},children:[(0,N.jsx)(C.w6k,{size:18,style:{color:"#FD2121"}}),(0,N.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#FD2121"},children:"Remove"})]})]})})]})}),(!(null!==A&&void 0!==A&&null!==(s=A.note)&&void 0!==s&&s.note)||!0===y)&&(0,N.jsx)(r.Z,{className:"mt-2 mb-3 start-apt-btn float-right",type:"submit",children:"Save"})]}):F?(0,N.jsx)("p",{className:"my-5 text-center text-danger fst-italic",children:"Network Error"}):null,(0,N.jsx)(w.c,{show:x,onHide:()=>f(!1),heading:"Delete Notes to Patient",title:"this notes to patient",removeFunc:function(){const e={noteId:p};L((0,E.GA)({finalData:e,moveToNext:z}))}})]})}var M=i(80591),T=i(97866),V=i(44494);function G(e){var l,i,s,d,c,m,u,p,v,x,f,y,Z,F,H,L,k,z,E,P,M,G,q;let{inputFieldValues:W}=e;const{register:R,handleSubmit:B,reset:Q}=(0,b.cI)(),Y=JSON.parse(localStorage.getItem("slotDescription")),[_,U]=(0,t.useState)(!1),[J,K]=(0,t.useState)(!0),[X,$]=(0,t.useState)(!1),[ee,le]=(0,t.useState)(!1),[ie,te]=(0,t.useState)(!1),[oe,ne]=(0,t.useState)(),[ae,se]=(0,t.useState)(!1),de=(0,t.useRef)(null),re=(0,g.I0)(),{data:ce}=(0,g.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointmentDetails)||void 0===l?void 0:l.getAptDetails)||{}})),{specialistLetter:me}=(0,g.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointmentNotes)||{}})),{detailDTO:ue}=(0,g.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointedDetail)||{}})),{getUserData:pe}=(0,g.v9)((e=>e.userRole)),ve=(0,g.v9)((e=>{var l;return null===e||void 0===e||null===(l=e.appointmentDetails)||void 0===l?void 0:l.getAptDetails})),xe=(new Date).toISOString().slice(0,19),he=()=>{const e={appointmentId:null===Y||void 0===Y?void 0:Y.appointmentId};re((0,O.zp)(e)),U(!1),$(!1)};(0,t.useEffect)((()=>{const e={appointmentId:null===Y||void 0===Y?void 0:Y.appointmentId};re((0,O.zp)(e))}),[re,null===Y||void 0===Y?void 0:Y.appointmentId]);const fe=()=>{Q();const e={appointmentId:null===Y||void 0===Y?void 0:Y.appointmentId};re((0,O.zp)(e)),te(!1)};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(a.Z,{onSubmit:B((function(e){var l,i,t;const o={noteId:null!==me&&void 0!==me&&me.noteId?null===me||void 0===me?void 0:me.noteId:0,noteTypeId:2,patientId:null===Y||void 0===Y?void 0:Y.patientId,doctorId:null===Y||void 0===Y?void 0:Y.doctorId,referralNote:ie?null:null===e||void 0===e||null===(l=e.referralNote)||void 0===l?void 0:l.trim(),specialistLetter:e.specialistLetter,referralTypeId:1,toDoctor:e.toDoctor,appointmentId:null===Y||void 0===Y?void 0:Y.appointmentId,showNote:ae,date:xe,isPatient:!1,appointmentDetail:ie||null!==me&&void 0!==me&&null!==(i=me.appointmentDetail)&&void 0!==i&&i.appointmentDetailId?{appointmentDetailId:null!==me&&void 0!==me&&me.noteId?null===me||void 0===me||null===(t=me.appointmentDetail)||void 0===t?void 0:t.appointmentDetailId:0,appointmentId:null===Y||void 0===Y?void 0:Y.appointmentId,presentingComplaint:null!==e&&void 0!==e&&e.presentingComplaint?null===e||void 0===e?void 0:e.presentingComplaint:null!==W&&void 0!==W&&W.presentingComplaint?null===W||void 0===W?void 0:W.presentingComplaint:null===ce||void 0===ce?void 0:ce.presentingComplaint,historyOfPresentingComplaint:null!==e&&void 0!==e&&e.presentingComplaint?null===e||void 0===e?void 0:e.presentingComplaint:null!==W&&void 0!==W&&W.presentingComplaint?null===W||void 0===W?void 0:W.presentingComplaint:null===ce||void 0===ce?void 0:ce.presentingComplaint,pastMedicalHistory:null!==e&&void 0!==e&&e.pastMedicalHistory?null===e||void 0===e?void 0:e.pastMedicalHistory:null!==W&&void 0!==W&&W.pastMedicalHistory?null===W||void 0===W?void 0:W.pastMedicalHistory:null===ce||void 0===ce?void 0:ce.pastMedicalHistory,medications:null!==e&&void 0!==e&&e.medications?null===e||void 0===e?void 0:e.medications:null!==W&&void 0!==W&&W.medications?null===W||void 0===W?void 0:W.medications:null===ce||void 0===ce?void 0:ce.medications,allergies:null!==e&&void 0!==e&&e.allergies?null===e||void 0===e?void 0:e.allergies:null!==W&&void 0!==W&&W.allergies?null===W||void 0===W?void 0:W.allergies:null===ce||void 0===ce?void 0:ce.allergies,familyHistory:null!==e&&void 0!==e&&e.familyHistory?null===e||void 0===e?void 0:e.familyHistory:null!==W&&void 0!==W&&W.familyHistory?null===W||void 0===W?void 0:W.familyHistory:null===ce||void 0===ce?void 0:ce.familyHistory,socialHistory:null!==e&&void 0!==e&&e.socialHistory?null===e||void 0===e?void 0:e.socialHistory:null!==W&&void 0!==W&&W.socialHistory?null===W||void 0===W?void 0:W.socialHistory:null===ce||void 0===ce?void 0:ce.socialHistory,objectiveExamination:null!==e&&void 0!==e&&e.objectiveExamination?null===e||void 0===e?void 0:e.objectiveExamination:null!==W&&void 0!==W&&W.objectiveExamination?null===W||void 0===W?void 0:W.objectiveExamination:null===ce||void 0===ce?void 0:ce.objectiveExamination,suspectedDiagnosis:null!==e&&void 0!==e&&e.suspectedDiagnosis?null===e||void 0===e?void 0:e.suspectedDiagnosis:null!==W&&void 0!==W&&W.suspectedDiagnosis?null===W||void 0===W?void 0:W.suspectedDiagnosis:null===ce||void 0===ce?void 0:ce.suspectedDiagnosis,recommendedActions:null!==e&&void 0!==e&&e.recommendedActions?null===e||void 0===e?void 0:e.recommendedActions:null!==W&&void 0!==W&&W.recommendedActions?null===W||void 0===W?void 0:W.recommendedActions:null===ce||void 0===ce?void 0:ce.recommendedActions,signOff:null!==e&&void 0!==e&&e.signOff?null===e||void 0===e?void 0:e.signOff:null!==W&&void 0!==W&&W.signOff?null===W||void 0===W?void 0:W.signOff:null===ce||void 0===ce?void 0:ce.signOff,appointmentAttended:!0,failuretoattendnotes:"",referralTypeId:1,noteId:null!==me&&void 0!==me&&me.noteId?null===me||void 0===me?void 0:me.noteId:0}:null!==me&&void 0!==me&&me.noteId?{appointmentDetailId:0}:null};null!==me&&void 0!==me&&me.noteId?re((0,T.YY)({finalData:o,onCreateSuccess:he})):re((0,T.lU)({finalData:o,onCreateSuccess:he})),K(!0)})),children:(0,N.jsx)(o.Z,{children:(0,N.jsx)(n.Z,{xs:12,className:"my-3",children:(0,N.jsxs)("div",{style:{background:"#F8F8F8",borderRadius:"5px"},className:"px-3 py-3 h-100",children:[(0,N.jsxs)("span",{className:"d-flex justify-content-between",children:[(0,N.jsx)("p",{className:"referral-main-text",style:{color:"#2269F2"},children:"Specialist Letter"}),(null===me||void 0===me?void 0:me.patientId)&&!1===X&&(0,N.jsx)(D.Z,{id:"dropdown-item-button",title:(0,N.jsx)(h.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,N.jsxs)("div",{className:"set-dropdown-menu",children:[(0,N.jsxs)(I.Z.Item,{className:"d-flex align-items-center",children:[(0,N.jsx)(j.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,N.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},onClick:()=>{U(!0),$(!0),K(!1)},children:"Edit"})]}),(0,N.jsx)(I.Z.Item,{className:"d-flex align-items-center",children:(0,N.jsxs)(A.ZP,{trigger:(0,N.jsxs)("button",{ref:de,className:"bg-transparent border-0 p-0",children:[(0,N.jsx)(S.bAs,{size:20})," Download PDF"]}),children:[(0,N.jsx)(V.Z,{specialistLetter:me,detailDTO:ue,getUserData:pe}),console.log("specialistLetter",me)]})}),(0,N.jsxs)(I.Z.Item,{className:"d-flex align-items-center",onClick:()=>{ne(null===me||void 0===me?void 0:me.noteId),le(!0)},children:[(0,N.jsx)(C.w6k,{size:18,style:{color:"#FD2121"}}),(0,N.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#FD2121"},children:"Remove"})]})]})})]}),(0,N.jsx)(a.Z.Check,{type:"checkbox",id:"show-speciality-notes",label:"Show to Patient",onChange:()=>se(!ae),disabled:!(!0===(null===me||void 0===me?void 0:me.showNote)&&X||!1===(null===me||void 0===me?void 0:me.showNote)&&X)&&!(null===me||void 0===me||!me.noteId),defaultChecked:null===me||void 0===me?void 0:me.showNote}),(0,N.jsxs)(a.Z.Group,{className:"mb-3",controlId:"referralLetterLabel",children:[(0,N.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Refferal Letter"}),(0,N.jsx)(a.Z.Control,{type:"text",placeholder:"Tiredness",className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("specialistLetter",{required:!0}),defaultValue:null!==(l=null===me||void 0===me?void 0:me.specialistLetter)&&void 0!==l?l:"",maxLength:250,readOnly:(null===me||void 0===me||!me.specialistLetter||!X)&&!(null===me||void 0===me||!me.specialistLetter)})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-3",controlId:"toDoctorLabel",children:[(0,N.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"To"}),(0,N.jsx)(a.Z.Control,{type:"text",placeholder:"Specialist name",className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("toDoctor",{required:!0}),maxLength:250,defaultValue:null!==(i=null===me||void 0===me?void 0:me.toDoctor)&&void 0!==i?i:"",readOnly:(null===me||void 0===me||!me.toDoctor||!X)&&!(null===me||void 0===me||!me.toDoctor)})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"referralNoteTextarea",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Referral Notes"}),!1!==ie||null!==me&&void 0!==me&&me.appointmentDetail?"":(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Referral Note",className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("referralNote",{required:!0}),defaultValue:null!==(s=null===me||void 0===me?void 0:me.referralNote)&&void 0!==s?s:"",readOnly:(null===me||void 0===me||!me.referralNote||!X)&&!(null===me||void 0===me||!me.referralNote),maxLength:250})]}),(ie||(null===me||void 0===me?void 0:me.appointmentDetail))&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"presentingComplaint",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Presenting Complaint"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("presentingComplaint"),defaultValue:null!==W&&void 0!==W&&W.presentingComplaint?null===W||void 0===W?void 0:W.presentingComplaint:null!==me&&void 0!==me&&null!==(d=me.appointmentDetail)&&void 0!==d&&d.presentingComplaint?null===me||void 0===me||null===(c=me.appointmentDetail)||void 0===c?void 0:c.presentingComplaint:null!==ce&&void 0!==ce&&ce.presentingComplaint?null===ce||void 0===ce?void 0:ce.presentingComplaint:"N/A",disabled:J})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"pastMedicalHistory",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Past Medical History"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("pastMedicalHistory"),defaultValue:null!==W&&void 0!==W&&W.pastMedicalHistory?null===W||void 0===W?void 0:W.pastMedicalHistory:null!==me&&void 0!==me&&null!==(m=me.appointmentDetail)&&void 0!==m&&m.pastMedicalHistory?null===me||void 0===me||null===(u=me.appointmentDetail)||void 0===u?void 0:u.pastMedicalHistory:null!==ce&&void 0!==ce&&ce.pastMedicalHistory?null===ce||void 0===ce?void 0:ce.pastMedicalHistory:"N/A",disabled:J})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"medications",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Medications"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("medications"),defaultValue:null!==W&&void 0!==W&&W.medications?null===W||void 0===W?void 0:W.medications:null!==me&&void 0!==me&&null!==(p=me.appointmentDetail)&&void 0!==p&&p.medications?null===me||void 0===me||null===(v=me.appointmentDetail)||void 0===v?void 0:v.medications:null!==ce&&void 0!==ce&&ce.medications?null===ce||void 0===ce?void 0:ce.medications:"N/A",disabled:J})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"allergies",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Allergies"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("allergies"),defaultValue:null!==W&&void 0!==W&&W.allergies?null===W||void 0===W?void 0:W.allergies:null!==me&&void 0!==me&&null!==(x=me.appointmentDetail)&&void 0!==x&&x.allergies?null===me||void 0===me||null===(f=me.appointmentDetail)||void 0===f?void 0:f.allergies:null!==ce&&void 0!==ce&&ce.allergies?null===ce||void 0===ce?void 0:ce.allergies:"N/A",disabled:J})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"familyHistory",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Family History"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("familyHistory"),defaultValue:null!==W&&void 0!==W&&W.familyHistory?null===W||void 0===W?void 0:W.familyHistory:null!==me&&void 0!==me&&null!==(y=me.appointmentDetail)&&void 0!==y&&y.familyHistory?null===me||void 0===me||null===(Z=me.appointmentDetail)||void 0===Z?void 0:Z.familyHistory:null!==ce&&void 0!==ce&&ce.familyHistory?null===ce||void 0===ce?void 0:ce.familyHistory:"N/A",disabled:J})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"socialHistory",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Social History"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("socialHistory"),defaultValue:null!==W&&void 0!==W&&W.socialHistory?null===W||void 0===W?void 0:W.socialHistory:null!==me&&void 0!==me&&null!==(F=me.appointmentDetail)&&void 0!==F&&F.socialHistory?null===me||void 0===me||null===(H=me.appointmentDetail)||void 0===H?void 0:H.socialHistory:null!==ce&&void 0!==ce&&ce.socialHistory?null===ce||void 0===ce?void 0:ce.socialHistory:"N/A",disabled:J})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"objectiveExamination",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Objective Examination"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("objectiveExamination"),defaultValue:null!==W&&void 0!==W&&W.objectiveExamination?null===W||void 0===W?void 0:W.objectiveExamination:null!==me&&void 0!==me&&null!==(L=me.appointmentDetail)&&void 0!==L&&L.objectiveExamination?null===me||void 0===me||null===(k=me.appointmentDetail)||void 0===k?void 0:k.objectiveExamination:null!==ce&&void 0!==ce&&ce.objectiveExamination?null===ce||void 0===ce?void 0:ce.objectiveExamination:"N/A",disabled:J})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"suspectedDiagnosis",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Suspected Diagnosis"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("suspectedDiagnosis"),defaultValue:null!==W&&void 0!==W&&W.suspectedDiagnosis?null===W||void 0===W?void 0:W.suspectedDiagnosis:null!==me&&void 0!==me&&null!==(z=me.appointmentDetail)&&void 0!==z&&z.suspectedDiagnosis?null===me||void 0===me||null===(E=me.appointmentDetail)||void 0===E?void 0:E.suspectedDiagnosis:null!==ce&&void 0!==ce&&ce.suspectedDiagnosis?null===ce||void 0===ce?void 0:ce.suspectedDiagnosis:"N/A",disabled:J})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"recommendedActions",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Recommended Actions"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("recommendedActions"),defaultValue:null!==W&&void 0!==W&&W.recommendedActions?null===W||void 0===W?void 0:W.recommendedActions:null!==me&&void 0!==me&&null!==(P=me.appointmentDetail)&&void 0!==P&&P.recommendedActions?null===me||void 0===me||null===(M=me.appointmentDetail)||void 0===M?void 0:M.recommendedActions:null!==ce&&void 0!==ce&&ce.recommendedActions?null===ce||void 0===ce?void 0:ce.recommendedActions:"N/A",disabled:J})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"signOff",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Sign off"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("signOff"),defaultValue:null!==W&&void 0!==W&&W.signOff?null===W||void 0===W?void 0:W.signOff:null!==me&&void 0!==me&&null!==(G=me.appointmentDetail)&&void 0!==G&&G.signOff?null===me||void 0===me||null===(q=me.appointmentDetail)||void 0===q?void 0:q.signOff:null!==ce&&void 0!==ce&&ce.signOff?null===ce||void 0===ce?void 0:ce.signOff:"N/A",disabled:J})]})]}),!(null!==me&&void 0!==me&&me.appointmentDetail)&&(null===ve||void 0===ve?void 0:ve.data)&&(0,N.jsx)("div",{className:"d-flex justify-content-end",children:(0,N.jsx)("p",{className:"mb-0",style:{color:"#2269F2",fontWeght:500,fontSize:"18px",cursor:"pointer"},onClick:()=>te(!0),children:"Generate letter with appointment notes"})}),!(null!==me&&void 0!==me&&me.patientId)&&(0,N.jsx)("div",{className:"d-flex justify-content-end",children:(0,N.jsx)(r.Z,{className:"start-apt-btn",type:"submit",children:"Save"})}),(null===me||void 0===me?void 0:me.patientId)&&!0===X&&(0,N.jsx)(r.Z,{className:"mt-2 mb-3 start-apt-btn float-right",type:"submit",children:"Update"})]})})})}),(0,N.jsx)(w.c,{show:ee,onHide:()=>le(!1),heading:"Delete Referral Notes",title:"this refferal notes",removeFunc:function(){const e={noteId:oe};re((0,T.FW)({finalData:e,onCreateDeleteSuccess:fe})),Q()}})]})}var q=i(27660);function W(e){var l,i,s,d,c,m,u,p,v,x,f,y,Z,F,H,L,k,z,E,P,M,V,G;let{inputFieldValues:W}=e;const{register:R,handleSubmit:B,reset:Q}=(0,b.cI)(),Y=JSON.parse(localStorage.getItem("slotDescription")),[_,U]=(0,t.useState)(!1),[J,K]=(0,t.useState)(!0),[X,$]=(0,t.useState)(!1),[ee,le]=(0,t.useState)(),[ie,te]=(0,t.useState)(!1),[oe,ne]=(0,t.useState)(!1),[ae,se]=(0,t.useState)(!1),de=(0,t.useRef)(null),re=(0,g.I0)(),{data:ce}=(0,g.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointmentDetails)||void 0===l?void 0:l.getAptDetails)||{}})),{emergancyDepartmentLetter:me}=(0,g.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointmentNotes)||{}})),{detailDTO:ue}=(0,g.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointedDetail)||{}})),{getUserData:pe}=(0,g.v9)((e=>e.userRole)),ve=(new Date).toISOString().slice(0,19),xe=()=>{const e={appointmentId:null===Y||void 0===Y?void 0:Y.appointmentId};re((0,O.zp)(e)),U(!1),$(!1)};(0,t.useEffect)((()=>{const e={appointmentId:null===Y||void 0===Y?void 0:Y.appointmentId};re((0,O.zp)(e))}),[re,null===Y||void 0===Y?void 0:Y.appointmentId]);const he=()=>{Q();const e={appointmentId:null===Y||void 0===Y?void 0:Y.appointmentId};re((0,O.zp)(e)),ne(!1)};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(a.Z,{onSubmit:B((function(e){var l,i,t;const o={noteId:null!==me&&void 0!==me&&me.noteId?null===me||void 0===me?void 0:me.noteId:0,noteTypeId:2,patientId:null===Y||void 0===Y?void 0:Y.patientId,doctorId:null===Y||void 0===Y?void 0:Y.doctorId,referralNote:oe?null:null===e||void 0===e||null===(l=e.referralNote)||void 0===l?void 0:l.trim(),emergancyDepartmentLetter:e.emergancyDepartmentLetter,referralTypeId:2,toDoctor:e.toDoctor,appointmentId:null===Y||void 0===Y?void 0:Y.appointmentId,showNote:ae,isPatient:!1,date:ve,appointmentDetail:oe||null!==me&&void 0!==me&&null!==(i=me.appointmentDetail)&&void 0!==i&&i.appointmentDetailId?{appointmentDetailId:null!==me&&void 0!==me&&me.noteId?null===me||void 0===me||null===(t=me.appointmentDetail)||void 0===t?void 0:t.appointmentDetailId:0,appointmentId:null===Y||void 0===Y?void 0:Y.appointmentId,presentingComplaint:null!==e&&void 0!==e&&e.presentingComplaint?null===e||void 0===e?void 0:e.presentingComplaint:null!==W&&void 0!==W&&W.presentingComplaint?null===W||void 0===W?void 0:W.presentingComplaint:null===ce||void 0===ce?void 0:ce.presentingComplaint,historyOfPresentingComplaint:null!==e&&void 0!==e&&e.presentingComplaint?null===e||void 0===e?void 0:e.presentingComplaint:null!==W&&void 0!==W&&W.presentingComplaint?null===W||void 0===W?void 0:W.presentingComplaint:null===ce||void 0===ce?void 0:ce.presentingComplaint,pastMedicalHistory:null!==e&&void 0!==e&&e.pastMedicalHistory?null===e||void 0===e?void 0:e.pastMedicalHistory:null!==W&&void 0!==W&&W.pastMedicalHistory?null===W||void 0===W?void 0:W.pastMedicalHistory:null===ce||void 0===ce?void 0:ce.pastMedicalHistory,medications:null!==e&&void 0!==e&&e.medications?null===e||void 0===e?void 0:e.medications:null!==W&&void 0!==W&&W.medications?null===W||void 0===W?void 0:W.medications:null===ce||void 0===ce?void 0:ce.medications,allergies:null!==e&&void 0!==e&&e.allergies?null===e||void 0===e?void 0:e.allergies:null!==W&&void 0!==W&&W.allergies?null===W||void 0===W?void 0:W.allergies:null===ce||void 0===ce?void 0:ce.allergies,familyHistory:null!==e&&void 0!==e&&e.familyHistory?null===e||void 0===e?void 0:e.familyHistory:null!==W&&void 0!==W&&W.familyHistory?null===W||void 0===W?void 0:W.familyHistory:null===ce||void 0===ce?void 0:ce.familyHistory,socialHistory:null!==e&&void 0!==e&&e.socialHistory?null===e||void 0===e?void 0:e.socialHistory:null!==W&&void 0!==W&&W.socialHistory?null===W||void 0===W?void 0:W.socialHistory:null===ce||void 0===ce?void 0:ce.socialHistory,objectiveExamination:null!==e&&void 0!==e&&e.objectiveExamination?null===e||void 0===e?void 0:e.objectiveExamination:null!==W&&void 0!==W&&W.objectiveExamination?null===W||void 0===W?void 0:W.objectiveExamination:null===ce||void 0===ce?void 0:ce.objectiveExamination,suspectedDiagnosis:null!==e&&void 0!==e&&e.suspectedDiagnosis?null===e||void 0===e?void 0:e.suspectedDiagnosis:null!==W&&void 0!==W&&W.suspectedDiagnosis?null===W||void 0===W?void 0:W.suspectedDiagnosis:null===ce||void 0===ce?void 0:ce.suspectedDiagnosis,recommendedActions:null!==e&&void 0!==e&&e.recommendedActions?null===e||void 0===e?void 0:e.recommendedActions:null!==W&&void 0!==W&&W.recommendedActions?null===W||void 0===W?void 0:W.recommendedActions:null===ce||void 0===ce?void 0:ce.recommendedActions,signOff:null!==e&&void 0!==e&&e.signOff?null===e||void 0===e?void 0:e.signOff:null!==W&&void 0!==W&&W.signOff?null===W||void 0===W?void 0:W.signOff:null===ce||void 0===ce?void 0:ce.signOff,appointmentAttended:!0,failuretoattendnotes:"",referralTypeId:2,noteId:null!==me&&void 0!==me&&me.noteId?null===me||void 0===me?void 0:me.noteId:0}:null!==me&&void 0!==me&&me.noteId?{appointmentDetailId:0}:null};null!==me&&void 0!==me&&me.noteId?re((0,T.d9)({finalData:o,onCreateSuccess:xe})):re((0,T.Og)({finalData:o,onCreateSuccess:xe})),K(!0)})),children:(0,N.jsx)(o.Z,{children:(0,N.jsx)(n.Z,{xs:12,className:"mb-3",children:(0,N.jsxs)("div",{style:{background:"#F8F8F8",borderRadius:"5px"},className:"px-3 py-3 h-100",children:[(0,N.jsxs)("span",{className:"d-flex justify-content-between",children:[(0,N.jsx)("p",{className:"referral-main-text",style:{color:"#E31E27"},children:"Emergencey Department Letter"}),(null===me||void 0===me?void 0:me.patientId)&&!1===X&&(0,N.jsx)(D.Z,{id:"dropdown-item-button",title:(0,N.jsx)(h.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,N.jsxs)("div",{className:"set-dropdown-menu",children:[(0,N.jsxs)(I.Z.Item,{className:"d-flex align-items-center",children:[(0,N.jsx)(j.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,N.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},onClick:()=>{U(!0),$(!0),K(!1)},children:"Edit"})]}),(0,N.jsx)(I.Z.Item,{className:"d-flex align-items-center",children:(0,N.jsx)(A.ZP,{trigger:(0,N.jsxs)("button",{ref:de,className:"bg-transparent border-0 p-0",children:[(0,N.jsx)(S.bAs,{size:20})," Download PDF"]}),children:(0,N.jsx)(q.Z,{emergancyDepartmentLetter:me,detailDTO:ue,getUserData:pe})})}),(0,N.jsxs)(I.Z.Item,{className:"d-flex align-items-center",onClick:()=>{le(null===me||void 0===me?void 0:me.noteId),te(!0)},children:[(0,N.jsx)(C.w6k,{size:18,style:{color:"#FD2121"}}),(0,N.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#FD2121"},children:"Remove"})]})]})})]}),(0,N.jsx)(a.Z.Check,{type:"checkbox",id:"show-emergency-notes",label:"Show to Patient",onChange:()=>se(!ae),disabled:!(!0===(null===me||void 0===me?void 0:me.showNote)&&X||!1===(null===me||void 0===me?void 0:me.showNote)&&X)&&!(null===me||void 0===me||!me.noteId),defaultChecked:null===me||void 0===me?void 0:me.showNote}),(0,N.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel3",children:[(0,N.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Refferal Letter"}),(0,N.jsx)(a.Z.Control,{type:"text",placeholder:"Tiredness",className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("emergancyDepartmentLetter",{required:!0}),defaultValue:null!==(l=null===me||void 0===me?void 0:me.emergancyDepartmentLetter)&&void 0!==l?l:"",readOnly:(null===me||void 0===me||!me.emergancyDepartmentLetter||!X)&&!(null===me||void 0===me||!me.emergancyDepartmentLetter),maxLength:250})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel3",children:[(0,N.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"To"}),(0,N.jsx)(a.Z.Control,{type:"text",placeholder:"Specialist name",className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("toDoctor",{required:!0}),defaultValue:null!==(i=null===me||void 0===me?void 0:me.toDoctor)&&void 0!==i?i:"",readOnly:(null===me||void 0===me||!me.toDoctor||!X)&&!(null===me||void 0===me||!me.toDoctor),maxLength:250})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"referralNote",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Referral Notes"}),!1!==oe||null!==me&&void 0!==me&&me.appointmentDetail?"":(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Referral Note",className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("referralNote",{required:!0}),defaultValue:null!==(s=null===me||void 0===me?void 0:me.referralNote)&&void 0!==s?s:"",readOnly:(null===me||void 0===me||!me.referralNote||!X)&&!(null===me||void 0===me||!me.referralNote),maxLength:250})]}),(oe||(null===me||void 0===me?void 0:me.appointmentDetail))&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"presentingComplaint",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Presenting Complaint"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("presentingComplaint"),defaultValue:null!==W&&void 0!==W&&W.presentingComplaint?null===W||void 0===W?void 0:W.presentingComplaint:null!==ce&&void 0!==ce&&ce.presentingComplaint?null===ce||void 0===ce?void 0:ce.presentingComplaint:null!==me&&void 0!==me&&null!==(d=me.appointmentDetail)&&void 0!==d&&d.presentingComplaint?null===me||void 0===me||null===(c=me.appointmentDetail)||void 0===c?void 0:c.presentingComplaint:"N/A",disabled:J})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"pastMedicalHistory",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Past Medical History"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("pastMedicalHistory"),defaultValue:null!==W&&void 0!==W&&W.pastMedicalHistory?null===W||void 0===W?void 0:W.pastMedicalHistory:null!==me&&void 0!==me&&null!==(m=me.appointmentDetail)&&void 0!==m&&m.pastMedicalHistory?null===me||void 0===me||null===(u=me.appointmentDetail)||void 0===u?void 0:u.pastMedicalHistory:null!==ce&&void 0!==ce&&ce.pastMedicalHistory?null===ce||void 0===ce?void 0:ce.pastMedicalHistory:"N/A",disabled:J})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"medications",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Medications"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("medications"),defaultValue:null!==W&&void 0!==W&&W.medications?null===W||void 0===W?void 0:W.medications:null!==me&&void 0!==me&&null!==(p=me.appointmentDetail)&&void 0!==p&&p.medications?null===me||void 0===me||null===(v=me.appointmentDetail)||void 0===v?void 0:v.medications:null!==ce&&void 0!==ce&&ce.medications?null===ce||void 0===ce?void 0:ce.medications:"N/A",disabled:J})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"allergies",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Allergies"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("allergies"),defaultValue:null!==W&&void 0!==W&&W.allergies?null===W||void 0===W?void 0:W.allergies:null!==me&&void 0!==me&&null!==(x=me.appointmentDetail)&&void 0!==x&&x.allergies?null===me||void 0===me||null===(f=me.appointmentDetail)||void 0===f?void 0:f.allergies:null!==ce&&void 0!==ce&&ce.allergies?null===ce||void 0===ce?void 0:ce.allergies:"N/A",disabled:J})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"familyHistory",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Family History"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("familyHistory"),defaultValue:null!==W&&void 0!==W&&W.familyHistory?null===W||void 0===W?void 0:W.familyHistory:null!==me&&void 0!==me&&null!==(y=me.appointmentDetail)&&void 0!==y&&y.familyHistory?null===me||void 0===me||null===(Z=me.appointmentDetail)||void 0===Z?void 0:Z.familyHistory:null!==ce&&void 0!==ce&&ce.familyHistory?null===ce||void 0===ce?void 0:ce.familyHistory:"N/A",disabled:J})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"socialHistory",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Social History"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("socialHistory"),defaultValue:null!==W&&void 0!==W&&W.socialHistory?null===W||void 0===W?void 0:W.socialHistory:null!==me&&void 0!==me&&null!==(F=me.appointmentDetail)&&void 0!==F&&F.socialHistory?null===me||void 0===me||null===(H=me.appointmentDetail)||void 0===H?void 0:H.socialHistory:null!==ce&&void 0!==ce&&ce.socialHistory?null===ce||void 0===ce?void 0:ce.socialHistory:"N/A",disabled:J})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"objectiveExamination",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Objective Examination"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("objectiveExamination"),defaultValue:null!==W&&void 0!==W&&W.objectiveExamination?null===W||void 0===W?void 0:W.objectiveExamination:null!==me&&void 0!==me&&null!==(L=me.appointmentDetail)&&void 0!==L&&L.objectiveExamination?null===me||void 0===me||null===(k=me.appointmentDetail)||void 0===k?void 0:k.objectiveExamination:null!==ce&&void 0!==ce&&ce.objectiveExamination?null===ce||void 0===ce?void 0:ce.objectiveExamination:"N/A",disabled:J})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"suspectedDiagnosis",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Suspected Diagnosis"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("suspectedDiagnosis"),defaultValue:null!==W&&void 0!==W&&W.suspectedDiagnosis?null===W||void 0===W?void 0:W.suspectedDiagnosis:null!==me&&void 0!==me&&null!==(z=me.appointmentDetail)&&void 0!==z&&z.suspectedDiagnosis?null===me||void 0===me||null===(E=me.appointmentDetail)||void 0===E?void 0:E.suspectedDiagnosis:null!==ce&&void 0!==ce&&ce.suspectedDiagnosis?null===ce||void 0===ce?void 0:ce.suspectedDiagnosis:"N/A",disabled:J})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"recommendedActions",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Recommended Actions"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("recommendedActions"),defaultValue:null!==W&&void 0!==W&&W.recommendedActions?null===W||void 0===W?void 0:W.recommendedActions:null!==me&&void 0!==me&&null!==(P=me.appointmentDetail)&&void 0!==P&&P.recommendedActions?null===me||void 0===me||null===(M=me.appointmentDetail)||void 0===M?void 0:M.recommendedActions:null!==ce&&void 0!==ce&&ce.recommendedActions?null===ce||void 0===ce?void 0:ce.recommendedActions:"N/A",disabled:J})]}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"signOff",children:[(0,N.jsx)(a.Z.Label,{className:"mb-0",children:"Sign off"}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("signOff"),defaultValue:null!==W&&void 0!==W&&W.signOff?null===W||void 0===W?void 0:W.signOff:null!==me&&void 0!==me&&null!==(V=me.appointmentDetail)&&void 0!==V&&V.signOff?null===me||void 0===me||null===(G=me.appointmentDetail)||void 0===G?void 0:G.signOff:null!==ce&&void 0!==ce&&ce.signOff?null===ce||void 0===ce?void 0:ce.signOff:"N/A",disabled:J})]})]}),!(null!==me&&void 0!==me&&me.appointmentDetail)&&(0,N.jsx)("div",{className:"d-flex justify-content-end",children:(0,N.jsx)("p",{className:"float-right mb-0",style:{color:"#2269F2",fontWeght:500,fontSize:"18px",cursor:"pointer"},onClick:()=>ne(!0),children:"Generate letter with appointment notes"})}),!(null!==me&&void 0!==me&&me.patientId)&&(0,N.jsx)("div",{className:"d-flex justify-content-end",children:(0,N.jsx)(r.Z,{className:"start-apt-btn",type:"submit",children:"Save"})}),(null===me||void 0===me?void 0:me.patientId)&&!0===X&&(0,N.jsx)(r.Z,{className:"mt-2 mb-3 start-apt-btn float-right",type:"submit",children:"Update"})]})})})}),(0,N.jsx)(w.c,{show:ie,onHide:()=>te(!1),heading:"Delete Referral Notes",title:"this refferal notes",removeFunc:function(){const e={noteId:ee};re((0,T.bw)({finalData:e,onCreateDeleteSuccess:he})),Q()}})]})}function R(e){let{slotDescription:l,aptData:i,setAptData:t,setInputFieldValues:o,inputFieldValues:n}=e;return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(G,{slotDescription:l,aptData:i,setAptData:t,setInputFieldValues:o,inputFieldValues:n}),(0,N.jsx)(W,{slotDescription:l,aptData:i,setAptData:t,setInputFieldValues:o,inputFieldValues:n})]})}var B=i(2002),Q=i(54164),Y=i(36161),_=i(68324);function U(e){let{...l}=e;const{show:i,handleClose:t}=l;return(0,N.jsx)(c.Z,{show:i,onHide:t,size:"lg","aria-labelledby":"patient-modal",centered:!0,className:"appointment-modal",children:(0,N.jsx)(c.Z.Body,{children:(0,N.jsxs)("div",{className:"d-flex justify-content-center flex-column align-items-center text-center p-3",children:[(0,N.jsx)("p",{className:"fw-bold",children:"Tick the box if you have checked the patient's allergy to any medication"}),(0,N.jsx)("div",{className:"d-flex justify-content-center",children:(0,N.jsx)(r.Z,{className:"block primary_bg px-4",variant:"primary",type:"button",onClick:t,children:"OK"})})]})})})}function J(){return{backgroundColor:"#F8F8F8"}}function K(e){let{show:l,onClose:i,data:s,view:d,viewData:m,onCloseView:u}=e;const{register:p,handleSubmit:v,reset:x,setValue:h}=(0,b.cI)(),[f,j]=(0,t.useState)(null),[y,Z]=(0,t.useState)([]),[D,I]=(0,t.useState)(!1),[C,w]=(0,t.useState)(!1),A=JSON.parse(localStorage.getItem("slotDescription")),{MedicationsData:S}=(0,g.v9)((e=>null===e||void 0===e?void 0:e.patientPrescription)),F=(0,g.I0)();function H(){let e={appointmentId:null===A||void 0===A?void 0:A.appointmentId};F((0,_.vY)({finalData:e}))}(0,t.useEffect)((()=>{s&&(h("allergies",(null===s||void 0===s?void 0:s.allergies)||""),h("medicineName",(null===s||void 0===s?void 0:s.medicineName)||""),h("formulation",(null===s||void 0===s?void 0:s.formulation)||""),h("route",(null===s||void 0===s?void 0:s.route)||""),h("dose",(null===s||void 0===s?void 0:s.dose)||""),h("doseFrequency",(null===s||void 0===s?void 0:s.doseFrequency)||""),h("quantity",(null===s||void 0===s?void 0:s.quantity)||""),h("note",(null===s||void 0===s?void 0:s.note)||""))}),[s]),(0,t.useEffect)((()=>{if(null!==f&&void 0!==f&&f.medicineName){const e={medicationName:null===f||void 0===f?void 0:f.medicineName};F((0,_.bT)(e))}}),[F,null===f||void 0===f?void 0:f.medicineName]);const L=e=>{const{name:l,value:i}=e.target;j({...f,[l]:i})};const k=[{dataField:"medicineName",text:"Medicine Name",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{className:"color-99 mb-0",children:"Medicine Name"}),(0,N.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.medicineName})]})},{dataField:"doseFrequency",text:"Dose Frequency",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{className:"color-99 mb-0",children:"Dose Frequency"}),(0,N.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.doseFrequency})]})},{dataField:"dose",text:"Dose",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{className:"color-99 mb-0",children:"Dose"}),(0,N.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.dose})]})},{dataField:"formulation",text:"Formulation",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{className:"color-99 mb-0",children:"Formulation"}),(0,N.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.formulation})]})}],z={paginationSize:2,pageStartIndex:1,alwaysShowAllBtns:!0,withFirstAndLast:!1,hideSizePerPage:!0,showTotal:!0,paginationTotalRenderer:(e,l,i)=>(0,N.jsxs)("span",{className:"react-bootstrap-table-pagination-total",children:[(0,N.jsxs)("b",{children:[" ",e," "]})," to ",(0,N.jsx)("b",{children:l})," out of ",(0,N.jsxs)("b",{children:[i," entries"]})]}),disablePageTitle:!0,sizePerPageList:[{text:"2",value:2}]};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(c.Z,{show:l,onHide:i,centered:!0,size:"lg",className:"prescription-modal",backdrop:"static",children:(0,N.jsxs)(a.Z,{onSubmit:v(s?function(e){const l={medicineId:null===s||void 0===s?void 0:s.medicineId,medicineName:null===e||void 0===e?void 0:e.medicineName,doseFrequency:null===e||void 0===e?void 0:e.doseFrequency,dose:null===e||void 0===e?void 0:e.dose,formulation:null===e||void 0===e?void 0:e.formulation,quantity:null===e||void 0===e?void 0:e.quantity,allergies:null===e||void 0===e?void 0:e.allergies,route:null===e||void 0===e?void 0:e.route,note:null===e||void 0===e?void 0:e.note,showPrescription:!1,isPatient:!1};F((0,_.Rn)({finalData:l,onCreateSuccess:H})),i(),Z([])}:function(){if(w(!0),D){const e={appointmentId:null===A||void 0===A?void 0:A.appointmentId,patientFormStatusId:null,isConfirmed:!1,medicineList:y};F((0,_.Bc)({finalData:e,onCreateSuccess:H})),I(!1),i(),Z([])}else I(!0)}),children:[(0,N.jsx)(c.Z.Header,{closeButton:!0,children:(0,N.jsxs)(c.Z.Title,{className:"prescription-modal-title",children:[s?"":"Add"," Prescription"]})}),(0,N.jsx)(c.Z.Body,{className:"",children:(0,N.jsxs)(o.Z,{className:"custom-prescription-scroll",children:[(0,N.jsx)(n.Z,{xs:12,children:(0,N.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel1",children:[(0,N.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Allergies"}),(0,N.jsx)(a.Z.Control,{type:"text",placeholder:"Type here",className:"custom-field-picker py-2",...p("allergies"),onChange:L,maxLength:70})]})}),(0,N.jsx)(n.Z,{xs:6,children:(0,N.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel2",children:[(0,N.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Medication"}),(0,N.jsx)(a.Z.Control,{list:"medicineNameList",type:"text",placeholder:"Type medication here",className:"custom-field-picker py-2",...p("medicineName"),onChange:L,maxLength:70}),(0,N.jsx)("datalist",{id:"medicineNameList",children:null===S||void 0===S?void 0:S.map((e=>(0,N.jsx)("option",{value:null===e||void 0===e?void 0:e.medicationName,children:e.medicationName},null===e||void 0===e?void 0:e.medicationId)))})]})}),(0,N.jsx)(n.Z,{xs:6,children:(0,N.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel3",children:[(0,N.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Formulation"}),(0,N.jsx)(a.Z.Control,{type:"text",placeholder:"Type formulation here",className:"custom-field-picker py-2",...p("formulation"),onChange:L,maxLength:70})]})}),(0,N.jsx)(n.Z,{xs:6,children:(0,N.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel4",children:[(0,N.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Route"}),(0,N.jsx)(a.Z.Control,{type:"text",placeholder:"Type route here",className:"custom-field-picker py-2",...p("route"),onChange:L,maxLength:70})]})}),(0,N.jsx)(n.Z,{xs:6,children:(0,N.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel4",children:[(0,N.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Dose"}),(0,N.jsx)(a.Z.Control,{type:"text",placeholder:"Type dose here",className:"custom-field-picker py-2",...p("dose"),onChange:L})]})}),(0,N.jsx)(n.Z,{xs:6,children:(0,N.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel4",children:[(0,N.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Frequency"}),(0,N.jsx)(a.Z.Control,{type:"text",placeholder:"Type frequency",className:"custom-field-picker py-2",...p("doseFrequency"),onChange:L,maxLength:70})]})}),(0,N.jsx)(n.Z,{xs:6,children:(0,N.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel4",children:[(0,N.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Quantity/Duration"}),(0,N.jsx)(a.Z.Control,{type:"text",placeholder:"Type quantity",className:"custom-field-picker py-2",...p("quantity"),onChange:L,maxLength:70})]})}),(0,N.jsx)(n.Z,{xs:12,children:(0,N.jsx)(a.Z.Check,{type:"checkbox",id:"prescription-checkbox",label:"Tick this box if you have checked the patient's allergy to any medication",onChange:e=>{I(e.target.checked),w(!1)}})}),(0,N.jsx)(n.Z,{xs:12,children:(0,N.jsxs)("div",{style:{background:"#F0F0F0",borderRadius:"5px"},className:"p-3 mt-2 mb-3",children:[(0,N.jsx)(a.Z.Check,{type:"checkbox",id:"urgent-checkbox",label:"Urgent",className:"mb-2",style:{color:"#999999",fontWeight:400,fontSsize:"16px"}}),(0,N.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,N.jsxs)(a.Z.Label,{className:"mb-0",children:["Add Note",(0,N.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,N.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Note",className:"pt-2 custom-field-picker",...p("note"),onChange:L,maxLength:250})]})]})}),s?null:(0,N.jsx)(n.Z,{xs:12,children:(0,N.jsx)(r.Z,{className:"float-right my-2 prescription-outline-btn",onClick:()=>{f&&(Z((e=>[...e,f])),j(null),x())},type:"button",children:"Confirm & Add Item"})}),(null===y||void 0===y?void 0:y.length)>0&&(0,N.jsx)(n.Z,{xs:12,children:(0,N.jsx)("div",{className:"custom-table-spacing",children:(0,N.jsx)(B.Z,{keyField:"id",data:y,columns:k,rowStyle:J,bordered:!1,pagination:(0,Y.ZP)(z)})})})]})}),(0,N.jsx)(c.Z.Footer,{className:"d-flex justify-content-center",children:(0,N.jsx)(r.Z,{type:"submit",className:"w-50",style:{background:"#000071"},disabled:(null===y||void 0===y?void 0:y.length)<=0&&!s,children:s?"Update Prescription":"Submit Prescription"})})]})}),(0,N.jsxs)(c.Z,{show:d,onHide:u,centered:!0,size:"lg",backdrop:"static",className:"prescription-modal edit-prescription-modal",children:[(0,N.jsx)(c.Z.Header,{closeButton:!0,children:(0,N.jsx)(c.Z.Title,{className:"prescription-modal-title",children:"Prescription"})}),(0,N.jsx)(c.Z.Body,{children:(0,N.jsx)(a.Z,{children:(0,N.jsxs)(o.Z,{children:[(0,N.jsxs)(n.Z,{xs:4,children:[(0,N.jsx)("p",{className:"color-99 mb-0",children:"Allergies"}),(0,N.jsx)("p",{className:"table-custom-data",children:m?null===m||void 0===m?void 0:m.allergies:"Nill"})]}),(0,N.jsxs)(n.Z,{xs:4,children:[(0,N.jsx)("p",{className:"color-99 mb-0",children:"Medication"}),(0,N.jsx)("p",{className:"table-custom-data",children:m?null===m||void 0===m?void 0:m.medicineName:"Nill"})]}),(0,N.jsxs)(n.Z,{xs:4,children:[(0,N.jsx)("p",{className:"color-99 mb-0",children:"Formation"}),(0,N.jsx)("p",{className:"table-custom-data",children:m?null===m||void 0===m?void 0:m.formulation:"Nill"})]}),(0,N.jsxs)(n.Z,{xs:4,children:[(0,N.jsx)("p",{className:"color-99 mb-0",children:"Route"}),(0,N.jsx)("p",{className:"table-custom-data",children:m?null===m||void 0===m?void 0:m.route:"Nill"})]}),(0,N.jsxs)(n.Z,{xs:4,children:[(0,N.jsx)("p",{className:"color-99 mb-0",children:"Dose"}),(0,N.jsx)("p",{className:"table-custom-data",children:m?null===m||void 0===m?void 0:m.dose:"Nill"})]}),(0,N.jsxs)(n.Z,{xs:4,children:[(0,N.jsx)("p",{className:"color-99 mb-0",children:"Frequency"}),(0,N.jsx)("p",{className:"table-custom-data",children:m?null===m||void 0===m?void 0:m.doseFrequency:"Nill"})]}),(0,N.jsxs)(n.Z,{xs:4,children:[(0,N.jsx)("p",{className:"color-99 mb-0",children:"Quantity"}),(0,N.jsx)("p",{className:"table-custom-data",children:m?null===m||void 0===m?void 0:m.quantity:"Nill"})]}),(0,N.jsxs)(n.Z,{xs:4,children:[(0,N.jsx)("p",{className:"color-99 mb-0",children:"Note:"}),(0,N.jsx)("p",{className:"table-custom-data",children:m?null===m||void 0===m?void 0:m.note:"Nill"})]})]})})})]}),(0,N.jsx)(U,{handleClose:()=>I(!1),show:D&&C})]})}var X=i(52802);function $(){return{backgroundColor:"#F8F8F8"}}function ee(e){var l;let{showPresToPatient:i,setShowPresToPatient:o,setPrescriptionIdToPatient:n}=e;const s=(0,g.I0)(),{PreMedicineData:d,isLoading:c,isSuccess:m,isError:u}=(0,g.v9)((e=>null===e||void 0===e?void 0:e.patientPrescription)),p=JSON.parse(localStorage.getItem("slotDescription")),v=(0,g.v9)((e=>null===e||void 0===e?void 0:e.patientPrescription)),x=(0,t.useRef)(null),[y,b]=(0,t.useState)({data:null,show:!1}),[Z,D]=(0,t.useState)(!1),[F,H]=(0,t.useState)({data:null,show:!1}),[L,k]=(0,t.useState)(),z=[{dataField:"medicineName",text:"Medicine Name",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{className:"color-99 mb-0",children:"Medicine Name"}),(0,N.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.medicineName})]})},{dataField:"doseFrequency",text:"Dose Frequency",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{className:"color-99 mb-0",children:"Dose Frequency"}),(0,N.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.doseFrequency})]})},{dataField:"dose",text:"Dose",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{className:"color-99 mb-0",children:"Dose"}),(0,N.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.dose})]})},{dataField:"formulation",text:"Formulation",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{className:"color-99 mb-0",children:"Formulation"}),(0,N.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.formulation})]})},{dataField:"action",text:"Action",formatter:(e,l)=>(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(I.Z,{children:[(0,N.jsx)(I.Z.Toggle,{id:"dropdown-item-button1",size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown border-0 bg-transparent",direction:"left",children:(0,N.jsx)(h.FQA,{className:"float-right color-99",size:25})}),Q.createPortal((0,N.jsxs)(I.Z.Menu,{children:[(0,N.jsxs)(I.Z.Item,{as:"button",className:"d-flex align-items-center",onClick:()=>H({data:l,show:!0}),children:[(0,N.jsx)(f.w8I,{size:18,style:{color:"#1A1A1A"}}),(0,N.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},children:"View"})]}),(0,N.jsxs)(I.Z.Item,{as:"button",className:"d-flex align-items-center",onClick:()=>b({data:l,show:!0}),children:[(0,N.jsx)(j.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,N.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},children:"Edit"})]}),(0,N.jsxs)(I.Z.Item,{as:"button",className:"d-flex align-items-center",onClick:()=>{k(l),D(!0)},children:[(0,N.jsx)(C.w6k,{size:18,style:{color:"#FD2121"}}),(0,N.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#FD2121"},children:"Delete"})]})]}),document.body)]})}),headerAttrs:{hidden:!0}}];function E(){let e={appointmentId:null===p||void 0===p?void 0:p.appointmentId};s((0,_.vY)({finalData:e}))}(0,t.useEffect)((()=>{const e={appointmentId:null===p||void 0===p?void 0:p.appointmentId};s((0,_.vY)({finalData:e}))}),[s,null===p||void 0===p?void 0:p.appointmentId]);let O=[];var P;null!==d&&void 0!==d&&d.medicineList&&(null===d||void 0===d||null===(P=d.medicineList)||void 0===P||P.forEach((e=>{null!==e&&void 0!==e&&e.medicineList&&O.push(...e.medicineList)})));const M={paginationSize:2,pageStartIndex:1,alwaysShowAllBtns:!0,withFirstAndLast:!1,hideSizePerPage:!0,showTotal:!0,paginationTotalRenderer:(e,l,i)=>(0,N.jsxs)("span",{className:"react-bootstrap-table-pagination-total",children:[(0,N.jsxs)("b",{children:[" ",e," "]})," to ",(0,N.jsx)("b",{children:l})," out of ",(0,N.jsxs)("b",{children:[i," entries"]})]}),disablePageTitle:!0,sizePerPageList:[{text:"2",value:2}]};return(0,N.jsxs)(N.Fragment,{children:[c?(0,N.jsx)("p",{className:"my-5 text-center fst-italic",style:{color:"#999999"},children:"Loading..."}):m?(null===d||void 0===d||null===(l=d.medicineList)||void 0===l?void 0:l.length)<=0||void 0===(null===d||void 0===d?void 0:d.medicineList)?(0,N.jsx)("div",{className:"d-flex justify-content-center",children:(0,N.jsx)(r.Z,{className:"prescription-btn px-4 d-flex justify-content-center",onClick:()=>b({data:null,show:!0}),children:"Create Prescription"})}):(0,N.jsxs)("div",{className:"custom-table-spacing",children:[(0,N.jsx)(a.Z,{children:(0,N.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,N.jsx)(a.Z.Check,{type:"checkbox",id:"show-prescription",label:"Show Prescription to Patient",onChange:()=>{var e;o(!i),n(null===v||void 0===v||null===(e=v.PreMedicineData)||void 0===e?void 0:e.prescriptionId)}}),(0,N.jsx)(A.ZP,{trigger:(0,N.jsxs)("button",{type:"button",ref:x,className:"border-0 px-3 py-2 rounded-2",children:[(0,N.jsx)(S.bAs,{size:20})," Download PDF"]}),children:(0,N.jsx)(X.Z,{prescriptionData:d})})]})}),(0,N.jsx)(B.Z,{keyField:"medicineId",data:null===d||void 0===d?void 0:d.medicineList,columns:z,bordered:!1,rowStyle:$,wrapperClasses:"table-responsive",pagination:(0,Y.ZP)(M)}),(0,N.jsx)("p",{className:"float-right text-cursor-pointer",style:{color:"#2269F2",fontWeght:500,fontSize:"18px",cursor:"pointer"},onClick:()=>b({data:null,show:!0}),children:"+ Add Prescription"})]}):u?(0,N.jsx)("p",{className:"my-5 text-center text-danger fst-italic",children:"Network Error"}):null,(0,N.jsx)(K,{data:y.data,show:y.show,view:F.show,viewData:F.data,onCloseView:()=>H({show:!1,data:null}),onClose:()=>b({show:!1,data:null}),slotDescription:p}),(0,N.jsx)(w.c,{show:Z,onHide:()=>D(!1),heading:"Delete Prescription",title:"the prescription",removeFunc:function(){const e={medicineId:null===L||void 0===L?void 0:L.medicineId};s((0,_.w4)({finalData:e,onCreateSuccess:E}))}})]})}var le=i(82573),ie=i(84373);function te(){var e,l,i,v,x,h,f,j,y,D,I,C,w,A;const S=JSON.parse(localStorage.getItem("family_doc_app")),{register:F,handleSubmit:L}=(0,b.cI)(),[k,E]=(0,t.useState)({data:null,show:!1}),[T,V]=(0,t.useState)(!1),[G,q]=(0,t.useState)(!0),[W,B]=(0,t.useState)(!1),[Q,Y]=(0,t.useState)(),[U,J]=(0,t.useState)({}),[X,$]=(0,t.useState)({presentingComp:"",presentingCompHistory:"",pastMedicalHistory:"",medications:"",allergies:"",familyHistory:"",socialHistory:"",suspectedDiagnosis:"",recommendedActions:"",signOff:""}),{patientPharmacy:te}=(0,g.v9)((e=>e)),oe=(0,p.s0)(),{patientPharmacyData:ne}=(0,g.v9)((e=>null===e||void 0===e?void 0:e.patientPharmacy)),{getAptDetails:ae}=(0,g.v9)((e=>null===e||void 0===e?void 0:e.appointmentDetails)),se=(0,g.v9)((e=>e)),de=JSON.parse(localStorage.getItem("slotDescription")),re=(0,g.I0)();(0,t.useEffect)((()=>{const e={userId:null===S||void 0===S?void 0:S.userId};re((0,M.PR)(e))}),[re,null===S||void 0===S?void 0:S.userId]),(0,t.useEffect)((()=>{const e={patientId:null===de||void 0===de?void 0:de.patientId,appointmentId:null===de||void 0===de?void 0:de.appointmentId};re((0,O.gS)(e))}),[re]);const ce=()=>{const e={patientId:null===S||void 0===S?void 0:S.userId,month:+H()(new Date).format("M")};re((0,O.Qe)(e)),oe(u.m.APPOINTMENT)};function me(){const e={appointmentId:null===de||void 0===de?void 0:de.appointmentId,statusId:206};re((0,O.qQ)({finalData:e,moveToNext:ce}))}return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"appointment-notes",children:[(0,N.jsx)(o.Z,{children:(0,N.jsxs)(n.Z,{xs:12,className:"appointment-notes-accordion px-0",children:[(0,N.jsx)(a.Z.Check,{type:"checkbox",id:"patient-attended-checkbox",label:"Patient attended appointment",defaultChecked:!1===(null===ae||void 0===ae||null===(e=ae.data)||void 0===e?void 0:e.appointmentAttended)||G,onChange:e=>{q(e.target.checked)},className:"mb-2",disabled:!(null===ae||void 0===ae||null===(l=ae.data)||void 0===l||!l.failuretoattendnotes)||!0===(null===ae||void 0===ae||null===(i=ae.data)||void 0===i?void 0:i.appointmentAttended)}),(0,N.jsx)(s.Z,{className:"mb-3",children:(0,N.jsx)(s.Z.Body,{className:"mx-0 p-0",children:(0,N.jsx)(d.Z,{defaultActiveKey:"0",children:(0,N.jsxs)(d.Z.Item,{eventKey:"0",children:[(0,N.jsx)(d.Z.Header,{children:"Appointment Detail"}),(0,N.jsx)(d.Z.Body,{className:"py-4 px-5",children:(0,N.jsx)(Z,{checkedApt:G,setInputFieldValues:$,inputFieldValues:X})})]})})})}),G&&!(null!==ae&&void 0!==ae&&null!==(v=ae.data)&&void 0!==v&&v.failuretoattendnotes)&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(s.Z,{className:"mb-3",children:(0,N.jsx)(s.Z.Body,{className:"mx-0 p-0",children:(0,N.jsx)(d.Z,{children:(0,N.jsxs)(d.Z.Item,{eventKey:"1",children:[(0,N.jsx)(d.Z.Header,{children:"Notes to Patient"}),(0,N.jsx)(d.Z.Body,{className:"mx-4",children:(0,N.jsx)(P,{slotDescription:de})})]})})})}),(0,N.jsx)(s.Z,{className:"mb-3",children:(0,N.jsx)(s.Z.Body,{className:"mx-0 p-0",children:(0,N.jsx)(d.Z,{children:(0,N.jsxs)(d.Z.Item,{eventKey:"1",children:[(0,N.jsxs)(d.Z.Header,{children:[(0,N.jsx)("img",{src:m.Z.PRESCRIPTION_ICON,alt:"prescription icon",className:"me-3 color-dk-blue"}),"Prescription"]}),(0,N.jsx)(d.Z.Body,{className:"mx-4",children:(0,N.jsx)(ee,{slotDescription:de,showPresToPatient:W,setShowPresToPatient:B,setPrescriptionIdToPatient:Y})})]})})})}),(0,N.jsx)(s.Z,{className:"mb-3",children:(0,N.jsx)(s.Z.Body,{className:"mx-0 p-0",children:(0,N.jsx)(d.Z,{children:(0,N.jsxs)(d.Z.Item,{eventKey:"2",children:[(0,N.jsxs)(d.Z.Header,{children:[(0,N.jsx)("img",{src:m.Z.REFERRAL_ICON,alt:"referral icon",className:"me-3 color-dk-blue"}),"Referral"]}),(0,N.jsx)(d.Z.Body,{className:"py-4 px-5",children:(0,N.jsx)(R,{slotDescription:de,aptData:U,setAptData:J,inputFieldValues:X||(null===se||void 0===se||null===(x=se.createAppointmentDetails)||void 0===x?void 0:x.data),setInputFieldValues:$})})]})})})}),(0,N.jsx)(s.Z,{className:"mb-3",children:(0,N.jsx)(s.Z.Body,{className:"mx-0 p-0",children:(0,N.jsx)(d.Z,{children:(0,N.jsxs)(d.Z.Item,{eventKey:"3",children:[(0,N.jsxs)(d.Z.Header,{children:[(0,N.jsx)("img",{src:m.Z.MEDICAL_CERTIFICATE_ICON,alt:"medical certificate icon",className:"me-3 color-dk-blue"}),(0,N.jsx)("span",{style:{color:"#44BC19"},children:"Medical Certificate"})]}),(0,N.jsx)(d.Z.Body,{className:"py-4 px-5",children:(0,N.jsx)(z,{slotDescription:de,aptData:U,setAptData:J,inputFieldValues:X||(null===se||void 0===se||null===(h=se.createAppointmentDetails)||void 0===h?void 0:h.data),setInputFieldValues:$})})]})})})})]}),(0,N.jsx)(r.Z,{className:"mt-4 start-apt-btn float-right px-5",onClick:()=>{V(!0),!0===W&&function(){const e={prescriptionId:Q};re((0,_.Po)({finalData:e}))}()},children:"Save appointment notes"})]})}),(0,N.jsxs)(c.Z,{show:T,onHide:()=>{V(!1)},size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"appointment-modal",backdrop:"static",children:[(0,N.jsx)(c.Z.Header,{closeButton:!0,className:"font-weight-600",style:{fontSize:"18px"}}),(0,N.jsx)(c.Z.Body,{children:(0,N.jsx)("div",{className:"d-flex justify-content-center flex-column mx-5 mb-3",children:!1===G||!1===(null===ae||void 0===ae||null===(f=ae.data)||void 0===f?void 0:f.appointmentAttended)?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"d-flex justify-content-center ",children:(0,N.jsx)("img",{src:m.Z.NOTES_COMPLETED_ICON,alt:"Notes Completed Icon"})}),(0,N.jsxs)("div",{className:"my-3",children:[(0,N.jsx)("h3",{className:"text-center w-50 m-auto font-weight-600",children:"Notes Completed"}),(0,N.jsx)("p",{className:"text-center mt-3 mb-4",children:"You have successfully completed appointments notes"})]}),(0,N.jsx)("span",{className:"d-flex justify-content-center",children:(0,N.jsxs)(r.Z,{className:"start-apt-btn d-flex align-items-center",onClick:()=>me(),children:[(0,N.jsx)(ie.u1R,{className:"me-3",size:20,style:{color:"#fff"}}),(0,N.jsx)("p",{className:"mb-0",children:"Back to appointments"})]})})]}):(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(a.Z,{onSubmit:L((function(e){const l={email:null!==ne&&void 0!==ne&&ne.pharmacyEmail?null===ne||void 0===ne?void 0:ne.pharmacyEmail:null===e||void 0===e?void 0:e.pharmacyEmail,appointmentId:null===de||void 0===de?void 0:de.appointmentId,patientFormStatusId:null};re((0,le.Tf)({finalData:l,appointmentStatus:me}))})),children:[(0,N.jsx)(a.Z.Label,{className:"mb-4 font-weight-600",style:{fontSize:"18px"},children:"Do you want to email this prescription to the pharmacy?"}),(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{className:"fw-bold m-0",children:"Pharmcy Name:"}),(0,N.jsx)("p",{children:null!==(j=null===te||void 0===te||null===(y=te.patientPharmacyData)||void 0===y?void 0:y.pharmacyName)&&void 0!==j?j:"N/A"})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{className:"fw-bold m-0",children:"Pharmcy Location:"}),(0,N.jsx)("p",{children:null!==(D=null===te||void 0===te||null===(I=te.patientPharmacyData)||void 0===I?void 0:I.pharmacyLocation)&&void 0!==D?D:"N/A"})]}),null!==te&&void 0!==te&&null!==(C=te.patientPharmacyData)&&void 0!==C&&C.pharmacyEmail?(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{className:"fw-bold m-0",children:"Pharmcy Email:"}),(0,N.jsx)("p",{children:null!==(w=null===te||void 0===te||null===(A=te.patientPharmacyData)||void 0===A?void 0:A.pharmacyEmail)&&void 0!==w?w:"N/A"})]}):(0,N.jsxs)(a.Z.Group,{children:[(0,N.jsx)(a.Z.Label,{className:"fw-bold",children:"Pharmacy Email:"}),(0,N.jsx)(a.Z.Control,{type:"email",placeholder:"Pharmacy Email",...F("pharmacyEmail"),maxLength:250})]}),(0,N.jsxs)("div",{className:"mt-5 d-flex justify-content-center",children:[(0,N.jsx)(r.Z,{className:"custom-outline-btn d-flex align-items-center me-4 font-weight-600",onClick:()=>me(),children:(0,N.jsx)("p",{className:"mb-0",children:"No"})}),(0,N.jsx)(r.Z,{type:"submit",className:"start-apt-btn d-flex align-items-center border-0",children:"Yes"})]})]})})})})]})]}),k&&(0,N.jsx)(K,{show:k.show,onClose:()=>E({show:!1,data:null}),slotDescription:de})]})}}}]);
//# sourceMappingURL=4456.c9caa63c.chunk.js.map