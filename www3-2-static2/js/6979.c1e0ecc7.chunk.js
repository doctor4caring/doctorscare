"use strict";(self.webpackChunkfamily_doc_app=self.webpackChunkfamily_doc_app||[]).push([[6979],{38713:(e,l,i)=>{i.d(l,{c:()=>a});i(72791);var t=i(88135),n=i(43360),o=i(39126),s=i(80184);function a(e){return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(t.Z,{show:e.show,onHide:e.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"appointment-modal",children:[(0,s.jsx)(t.Z.Header,{closeButton:!0}),(0,s.jsxs)(t.Z.Body,{children:[(0,s.jsx)("div",{className:"d-flex justify-content-center",children:(0,s.jsx)("div",{className:"p-4 rounded-circle m-auto",style:{background:"#EDEAFD"},children:(0,s.jsx)(o.yvY,{className:"fw-bold",size:"24",style:{color:"#000071"}})})}),(0,s.jsx)("h3",{className:"text-center mx-auto mt-4",style:{fontWeight:600},children:e.heading}),(0,s.jsxs)("p",{className:"text-center mt-3 mb-4",children:["Are you sure you want to delete ",e.title,"?"]}),(0,s.jsx)("span",{className:"d-flex justify-content-center",children:(0,s.jsx)(n.Z,{style:{background:"#FD2121",border:"none"},className:"px-4 mb-3",onClick:()=>{e.removeFunc(),e.onHide()},children:"Delete"})})]})]})})}},76364:(e,l,i)=>{i.d(l,{Z:()=>s});var t=i(72426),n=i.n(t),o=i(80184);const s=function(e){const{MedicalCertificateData:l,detailDTO:i,doctorDetails:t,getUserData:s}=e,a=n()().format("DD/MM/YYYY");return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("h1",{children:"FamilyDoc247"}),(0,o.jsx)("h6",{children:"General Practitioner (GP) / Family Physician"}),(0,o.jsx)("h6",{children:"Fitzwilliam Hall, Fitzwilliam Place, Dublin 2"}),(0,o.jsx)("h6",{children:"Tel: +353 1 906 9327"}),(0,o.jsx)("h6",{children:"Email : contact@familydoc247.ie"})]}),(0,o.jsx)("div",{className:"py-4",children:(0,o.jsx)("h1",{align:"center",children:"Medical Certificate"})}),(0,o.jsxs)("div",{className:"d-flex",children:[(0,o.jsx)("span",{className:"font-weight-600 me-5",children:"Re: "}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"mb-0",children:(null===i||void 0===i?void 0:i.firstName)+" "+(null===i||void 0===i?void 0:i.lastName)}),(0,o.jsx)("p",{children:null!==i&&void 0!==i&&i.currentAddress?null===i||void 0===i?void 0:i.currentAddress:"N/A"})]})]}),(0,o.jsxs)("div",{className:"d-flex",children:[(0,o.jsx)("span",{className:"font-weight-600 me-4",children:"Date: "}),(0,o.jsx)("p",{className:"pb-4 me-0",children:a})]}),(0,o.jsxs)("p",{className:"py-3",children:["This is to certify in my opinion that the above named patient is/was suffering from ",null===l||void 0===l?void 0:l.sufferingFrom]}),(0,o.jsx)("div",{className:"pt-2 pb-4 d-flex",children:(0,o.jsxs)("p",{children:["And is ",(0,o.jsx)("span",{className:"font-weight-600",children:"unable"})," to attend"," ",null===l||void 0===l?void 0:l.unabletoAttendField]})}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{className:"font-weight-600",children:"From: "}),n()(null===l||void 0===l?void 0:l.fromDate).format("DD-MM-YYYY")?n()(null===l||void 0===l?void 0:l.fromDate).format("DD-MM-YYYY"):"N/A"]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{className:"font-weight-600",children:"To: "}),n()(null===l||void 0===l?void 0:l.toDate).format("DD-MM-YYYY")?n()(null===l||void 0===l?void 0:l.toDate).format("DD-MM-YYYY"):"N/A"]})]}),(0,o.jsxs)("div",{className:"pt-4",children:[(0,o.jsxs)("p",{className:"mb-0",children:["Dr"," ",null!==t&&void 0!==t&&t.doctor?null===t||void 0===t?void 0:t.doctor:null!==s&&void 0!==s&&s.name?null===s||void 0===s?void 0:s.name:"N/A"]}),(0,o.jsxs)("p",{children:["MCRN"," ",null!==t&&void 0!==t&&t.mcrn?null===t||void 0===t?void 0:t.mcrn:null!==s&&void 0!==s&&s.mcrn?null===s||void 0===s?void 0:s.mcrn:"N/A"]}),(0,o.jsx)("span",{style:{display:"block",width:"150px",height:"100px"},children:(0,o.jsx)("img",{src:null===l||void 0===l?void 0:l.doctorSignature,alt:"signature",width:"140px",height:"100px"})})]})]})}},52802:(e,l,i)=>{i.d(l,{Z:()=>o});var t=i(59434),n=i(80184);const o=function(e){var l,i;const{prescriptionData:o}=e,{getUserData:s}=(0,t.v9)((e=>e.userRole));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h1",{children:"FamilyDoc247"}),(0,n.jsx)("h6",{children:"General Practitioner (GP) / Family Physician"}),(0,n.jsx)("h6",{children:"Fitzwilliam Hall, Fitzwilliam Place, Dublin 2"}),(0,n.jsx)("h6",{children:"Tel: +353 1 906 9327"}),(0,n.jsx)("h6",{children:"Email : familydoc.gp@healthmail.ie"})]}),(0,n.jsx)("div",{className:"pdf-table",children:(null===o||void 0===o||null===(l=o.medicineList)||void 0===l?void 0:l.length)>0?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"my-5",children:[(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Medicine"}),(0,n.jsx)("th",{children:"Formulation"}),(0,n.jsx)("th",{children:"Dose"}),(0,n.jsx)("th",{children:"Frequency"}),(0,n.jsx)("th",{children:"Duration"})]})}),(0,n.jsx)("tbody",{children:null===o||void 0===o||null===(i=o.medicineList)||void 0===i?void 0:i.map(((e,l)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.medicineName}),(0,n.jsx)("td",{children:e.formulation}),(0,n.jsx)("td",{children:e.dose}),(0,n.jsx)("td",{children:e.doseFrequency}),(0,n.jsx)("td",{children:e.quantity})]},l)))})]}),(0,n.jsxs)("div",{className:"mt-4 mb-5",children:[(0,n.jsx)("h5",{children:"Notes:"}),(0,n.jsx)("ul",{children:null===o||void 0===o?void 0:o.medicineList.map(((e,l)=>(0,n.jsx)("li",{children:e.note?e.note:"N/A"},l)))})]})]})}):(0,n.jsx)("p",{children:"No Record Found"})}),(0,n.jsxs)("p",{className:"mb-0",children:["Dr"," ",null!==o&&void 0!==o&&o.doctorName?null===o||void 0===o?void 0:o.doctorName:null!==s&&void 0!==s&&s.name?null===s||void 0===s?void 0:s.name:"N/A"]}),(0,n.jsxs)("p",{children:["MCRN"," ",null!==o&&void 0!==o&&o.mcrn?null===o||void 0===o?void 0:o.mcrn:null!==s&&void 0!==s&&s.mcrn?null===s||void 0===s?void 0:s.mcrn:"N/A"]})]})}},66979:(e,l,i)=>{i.r(l),i.d(l,{default:()=>ie});var t=i(72791),n=i(89743),o=i(2677),s=i(36638),a=i(95070),d=i(69764),r=i(43360),c=i(88135),m=i(69499),u=(i(68639),i(95758),i(3810)),p=(i(67758),i(57689)),v=i(59513),x=i.n(v),h=i(39126),f=i(27012),j=i(78820),g=i(56355),N=i(72426),b=i.n(N),y=i(59434),D=i(23196),Z=i(61134),I=i(80184);function C(e){var l,i,a,d,c,m,u,p,v,N,C,A,w,F,S,H,k,L,M,P,z,O,T,V,G,Y,R,q,E,W,B,Q;let{checkedApt:_,setInputFieldValues:U,inputFieldValues:J}=e;const{register:K,handleSubmit:X,reset:$}=(0,Z.cI)(),ee=JSON.parse(localStorage.getItem("slotDescription")),[le,ie]=(0,t.useState)(null),[te,ne]=(0,t.useState)(null),[oe,se]=(0,t.useState)(!1),[ae,de]=(0,t.useState)(""),[re]=(0,t.useState)(1e3),ce=(0,y.I0)(),me=(0,y.v9)((e=>{var l,i;return null===e||void 0===e||null===(l=e.appointmentDetails)||void 0===l||null===(i=l.createAppointmentDetails)||void 0===i?void 0:i.data})),ue=(0,y.v9)((e=>{var l;return null===e||void 0===e||null===(l=e.appointmentDetails)||void 0===l?void 0:l.getAptDetails})),pe=e=>l=>{U((i=>({...i,[e]:l.target.value})))},ve=re-ae.length;(0,t.useEffect)((()=>{const e={appointmentId:null===ee||void 0===ee?void 0:ee.appointmentId};ce((0,D.mQ)(e))}),[ce,null===ee||void 0===ee?void 0:ee.appointmentId]);const xe=e=>{const l={appointmentId:null===ee||void 0===ee?void 0:ee.appointmentId};ce((0,D.mQ)(l)),se(!1),$()};return console.log("appointmentDetails",me),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("span",{className:"d-flex justify-content-end",children:!1===oe&&(null===ue||void 0===ue?void 0:ue.data)&&(0,I.jsxs)(r.Z,{className:"edit-btn py-1 px-3 d-flex align-items-center",onClick:()=>{se(!0)},children:[(0,I.jsx)(g.ffH,{}),(0,I.jsx)("p",{className:"mb-0 ps-2",children:"Edit"})]})}),(0,I.jsx)(s.Z,{onSubmit:X((function(e){var l,i;const t={appointmentDetailId:null!==me&&void 0!==me&&me.appointmentDetailId?null===me||void 0===me?void 0:me.appointmentDetailId:null!==ue&&void 0!==ue&&null!==(l=ue.data)&&void 0!==l&&l.appointmentDetailId?null===ue||void 0===ue||null===(i=ue.data)||void 0===i?void 0:i.appointmentDetailId:0,appointmentId:null===ee||void 0===ee?void 0:ee.appointmentId,presentingComplaint:e.presentingComplaint?e.presentingComplaint:null!==me&&void 0!==me&&me.presentingComplaint?null===me||void 0===me?void 0:me.presentingComplaint:"",historyOfPresentingComplaint:e.presentingComplaint?e.presentingComplaint:null!==me&&void 0!==me&&me.presentingComplaint?null===me||void 0===me?void 0:me.presentingComplaint:"",pastMedicalHistory:e.pastMedicalHistory?e.pastMedicalHistory:null!==me&&void 0!==me&&me.pastMedicalHistory?null===me||void 0===me?void 0:me.pastMedicalHistory:"",medications:e.medications?e.medications:null!==me&&void 0!==me&&me.medications?null===me||void 0===me?void 0:me.medications:"",allergies:e.allergies?e.allergies:null!==me&&void 0!==me&&me.allergies?null===me||void 0===me?void 0:me.allergies:"",familyHistory:e.familyHistory?e.familyHistory:null!==me&&void 0!==me&&me.familyHistory?null===me||void 0===me?void 0:me.familyHistory:"",socialHistory:e.socialHistory?e.socialHistory:null!==me&&void 0!==me&&me.socialHistory?null===me||void 0===me?void 0:me.socialHistory:"",suspectedDiagnosis:null!==e&&void 0!==e&&e.suspectedDiagnosis?null===e||void 0===e?void 0:e.suspectedDiagnosis:null!==me&&void 0!==me&&me.suspectedDiagnosis?null===me||void 0===me?void 0:me.suspectedDiagnosis:"",recommendedActions:null!==e&&void 0!==e&&e.recommendedActions?null===e||void 0===e?void 0:e.recommendedActions:null!==me&&void 0!==me&&me.recommendedActions?null===me||void 0===me?void 0:me.recommendedActions:"",signOff:null!==e&&void 0!==e&&e.signOff?null===e||void 0===e?void 0:e.signOff:null!==me&&void 0!==me&&me.signOff?null===me||void 0===me?void 0:me.signOff:"",appointmentAttended:!0===_,failuretoattendnotes:null!==e&&void 0!==e&&e.failuretoattendnotes?null===e||void 0===e?void 0:e.failuretoattendnotes:null!==me&&void 0!==me&&me.failuretoattendnotes?null===me||void 0===me?void 0:me.failuretoattendnotes:""};null!==ue&&void 0!==ue&&ue.data?ce((0,D.gx)({finalData:t,onCreateSuccess:xe})):ce((0,D.rp)({finalData:t,onCreateSuccess:xe}))})),children:(0,I.jsxs)(n.Z,{children:[!_||null!==ue&&void 0!==ue&&null!==(l=ue.data)&&void 0!==l&&l.failuretoattendnotes?(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(o.Z,{xs:12,children:(0,I.jsxs)(s.Z.Group,{style:{fontSize:"18px",fontWeight:500},controlId:"failuretoattendnotes",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Failure to attend notes"}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:5,placeholder:"Add notes for failure to attend",className:"pt-2 ".concat(oe&&"bg-transparent"),...K("failuretoattendnotes",{required:!0}),onChange:e=>{de(e.target.value)},isInvalid:ae.length>re,style:{height:"200px",whiteSpace:"pre-wrap"},maxLength:250,defaultValue:null!==(E=null===ue||void 0===ue||null===(W=ue.data)||void 0===W?void 0:W.failuretoattendnotes)&&void 0!==E?E:"",readOnly:(null===ue||void 0===ue||null===(B=ue.data)||void 0===B||!B.failuretoattendnotes||!oe)&&!(null===ue||void 0===ue||null===(Q=ue.data)||void 0===Q||!Q.failuretoattendnotes)}),(0,I.jsxs)("span",{className:"mt-3 float-right",bg:"".concat(ae.length>re?"danger":"primary"),children:["Remaining characters ",ve]})]})})}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(o.Z,{xs:6,className:"pe-0",children:[(0,I.jsx)("p",{className:"mb-2",style:{fontSize:"18px",fontWeight:500},children:"Appointment Date"}),(0,I.jsxs)("span",{className:"d-flex",children:[(0,I.jsx)(x(),{selected:ee&&new Date(ee.appointmentDate),onChange:e=>ie(e),dateFormat:"dd MMM yyyy",placeholderText:"23 Jan 2023",className:"custom-field-picker py-2 px-3 w-100 bg-transparent",disabled:!0}),(0,I.jsx)(h.zlR,{className:"custom-date-icon",size:18,style:{top:"12px",right:"34px"}})]})]}),(0,I.jsxs)(o.Z,{xs:6,className:"ps-0",children:[(0,I.jsx)("p",{className:"mb-2",style:{fontSize:"18px",fontWeight:500},children:"Appointment Time"}),(0,I.jsx)("div",{className:"time-picker",children:(0,I.jsx)(f.Z,{value:null===ee||void 0===ee?void 0:ee.appointmentStartTime,onChange:e=>{ne(e)},name:"appointmentTime",format:"HH:mm",clearIcon:null,disabled:!0,disableClock:!1,clockIcon:(0,I.jsx)(j.Gtc,{style:{color:"#999999"},size:16}),renderValue:e=>b()(e,"HH:mm").locale("en-gb").format("h:mm A"),className:"w-100 custom-field-picker py-2 px-3 bg-transparent"})})]}),(0,I.jsx)(o.Z,{xs:12,children:(0,I.jsxs)(s.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"presentingComplaint",children:[(0,I.jsxs)(s.Z.Label,{className:"mb-0",children:["Presenting Complaint",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:1,placeholder:"Tiredness",className:"pt-2 ".concat(oe&&"bg-transparent"),...K("presentingComplaint"),name:"presentingComplaint",defaultValue:(null===J||void 0===J?void 0:J.presentingComplaint)||(null===ue||void 0===ue||null===(i=ue.data)||void 0===i?void 0:i.presentingComplaint),onChange:pe("presentingComplaint"),maxLength:250,required:!0,readOnly:(null===ue||void 0===ue||null===(a=ue.data)||void 0===a||!a.presentingComplaint||!oe)&&!(null===ue||void 0===ue||null===(d=ue.data)||void 0===d||!d.presentingComplaint)})]})}),(0,I.jsx)(o.Z,{xs:12,children:(0,I.jsxs)(s.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"pastMedicalHistory",children:[(0,I.jsxs)(s.Z.Label,{className:"mb-0",children:["Past Medical History",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about past medical history",className:"pt-2 ".concat(oe&&"bg-transparent"),...K("pastMedicalHistory"),name:"pastMedicalHistory",defaultValue:(null===J||void 0===J?void 0:J.pastMedicalHistory)||(null===ue||void 0===ue||null===(c=ue.data)||void 0===c?void 0:c.pastMedicalHistory),onChange:pe("pastMedicalHistory"),readOnly:(null===ue||void 0===ue||null===(m=ue.data)||void 0===m||!m.pastMedicalHistory||!oe)&&!(null===ue||void 0===ue||null===(u=ue.data)||void 0===u||!u.pastMedicalHistory),maxLength:250,required:!0})]})}),(0,I.jsx)(o.Z,{xs:12,children:(0,I.jsxs)(s.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"medications",children:[(0,I.jsxs)(s.Z.Label,{className:"mb-0",children:["Medications",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about past medical history",className:"pt-2 ".concat(oe&&"bg-transparent"),...K("medications"),name:"medications",defaultValue:(null===J||void 0===J?void 0:J.medications)||(null===ue||void 0===ue||null===(p=ue.data)||void 0===p?void 0:p.medications),onChange:pe("medications"),readOnly:(null===ue||void 0===ue||null===(v=ue.data)||void 0===v||!v.medications||!oe)&&!(null===ue||void 0===ue||null===(N=ue.data)||void 0===N||!N.medications),maxLength:250,required:!0})]})}),(0,I.jsx)(o.Z,{xs:12,children:(0,I.jsxs)(s.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"allergies",children:[(0,I.jsxs)(s.Z.Label,{className:"mb-0",children:["Allergies",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about allergy history",className:"pt-2 ".concat(oe&&"bg-transparent"),...K("allergies"),name:"allergies",defaultValue:(null===J||void 0===J?void 0:J.allergies)||(null===ue||void 0===ue||null===(C=ue.data)||void 0===C?void 0:C.allergies),onChange:pe("allergies"),readOnly:(null===ue||void 0===ue||null===(A=ue.data)||void 0===A||!A.allergies||!oe)&&!(null===ue||void 0===ue||null===(w=ue.data)||void 0===w||!w.allergies),maxLength:250,required:!0})]})}),(0,I.jsx)(o.Z,{xs:12,children:(0,I.jsxs)(s.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"familyHistory",children:[(0,I.jsxs)(s.Z.Label,{className:"mb-0",children:["Family History",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about family history",className:"pt-2 ".concat(oe&&"bg-transparent"),...K("familyHistory"),name:"familyHistory",defaultValue:(null===J||void 0===J?void 0:J.familyHistory)||(null===ue||void 0===ue||null===(F=ue.data)||void 0===F?void 0:F.familyHistory),onChange:pe("familyHistory"),readOnly:(null===ue||void 0===ue||null===(S=ue.data)||void 0===S||!S.familyHistory||!oe)&&!(null===ue||void 0===ue||null===(H=ue.data)||void 0===H||!H.familyHistory),maxLength:250,required:!0})]})}),(0,I.jsx)(o.Z,{xs:12,children:(0,I.jsxs)(s.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"socialHistory",children:[(0,I.jsxs)(s.Z.Label,{className:"mb-0",children:["Social History",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about social history",className:"pt-2 ".concat(oe&&"bg-transparent"),...K("socialHistory"),name:"socialHistory",defaultValue:(null===J||void 0===J?void 0:J.socialHistory)||(null===ue||void 0===ue||null===(k=ue.data)||void 0===k?void 0:k.socialHistory),onChange:pe("socialHistory"),readOnly:(null===ue||void 0===ue||null===(L=ue.data)||void 0===L||!L.socialHistory||!oe)&&!(null===ue||void 0===ue||null===(M=ue.data)||void 0===M||!M.socialHistory),maxLength:250,required:!0})]})}),(0,I.jsx)(o.Z,{xs:12,children:(0,I.jsxs)(s.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"suspectedDiagnosis",children:[(0,I.jsxs)(s.Z.Label,{className:"mb-0",children:["Suspected Diagnosis",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about suspected diagnosis",className:"pt-2 ".concat(oe&&"bg-transparent"),...K("suspectedDiagnosis"),name:"suspectedDiagnosis",defaultValue:(null===J||void 0===J?void 0:J.suspectedDiagnosis)||(null===ue||void 0===ue||null===(P=ue.data)||void 0===P?void 0:P.suspectedDiagnosis),onChange:pe("suspectedDiagnosis"),readOnly:(null===ue||void 0===ue||null===(z=ue.data)||void 0===z||!z.suspectedDiagnosis||!oe)&&!(null===ue||void 0===ue||null===(O=ue.data)||void 0===O||!O.suspectedDiagnosis),maxLength:250,required:!0})]})}),(0,I.jsx)(o.Z,{xs:12,children:(0,I.jsxs)(s.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"recommendedActions",children:[(0,I.jsxs)(s.Z.Label,{className:"mb-0",children:["Recommended Actions",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about some recommended actions",className:"pt-2 ".concat(oe&&"bg-transparent"),...K("recommendedActions"),name:"recommendedActions",defaultValue:(null===J||void 0===J?void 0:J.recommendedActions)||(null===ue||void 0===ue||null===(T=ue.data)||void 0===T?void 0:T.recommendedActions),onChange:pe("recommendedActions"),readOnly:(null===ue||void 0===ue||null===(V=ue.data)||void 0===V||!V.recommendedActions||!oe)&&!(null===ue||void 0===ue||null===(G=ue.data)||void 0===G||!G.recommendedActions),maxLength:250,required:!0})]})}),(0,I.jsx)(o.Z,{xs:12,children:(0,I.jsxs)(s.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"signOff",children:[(0,I.jsxs)(s.Z.Label,{className:"mb-0",children:["Sign off",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,placeholder:"",className:"pt-2 ".concat(oe&&"bg-transparent"),...K("signOff"),name:"signOff",defaultValue:(null===J||void 0===J?void 0:J.signOff)||(null===ue||void 0===ue||null===(Y=ue.data)||void 0===Y?void 0:Y.signOff),onChange:pe("signOff"),readOnly:(null===ue||void 0===ue||null===(R=ue.data)||void 0===R||!R.signOff||!oe)&&!(null===ue||void 0===ue||null===(q=ue.data)||void 0===q||!q.signOff),maxLength:250,required:!0})]})})]}),(!(null!==ue&&void 0!==ue&&ue.data)||!0===oe)&&(0,I.jsx)(o.Z,{xs:12,children:(0,I.jsx)(r.Z,{className:"mt-4 start-apt-btn float-right",type:"submit",children:"Save"})})]})})]})}var A=i(29546),w=i(1444),F=i(17425),S=i(38713),H=i(45225),k=i(63524),L=i(76364);function M(){var e,l;const i=JSON.parse(localStorage.getItem("slotDescription")),{register:a,handleSubmit:d,reset:c,setValue:m}=(0,Z.cI)(),[u,p]=(0,t.useState)(!1),v=(0,t.useRef)(null),[x,f]=(0,t.useState)(),[j,N]=(0,t.useState)(!1),[C,M]=(0,t.useState)(!1),{detailDTO:P}=(0,y.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointedDetail)||{}})),{getUserData:z}=(0,y.v9)((e=>null===e||void 0===e?void 0:e.userRole)),{getMediCertificate:O}=(0,y.v9)((e=>null===e||void 0===e?void 0:e.appointmentDetails)),T=(0,y.I0)();(0,t.useEffect)((()=>{null!==O&&void 0!==O&&O.unabletoAttendField&&m("unabletoAttendField",null===O||void 0===O?void 0:O.unabletoAttendField)}),[null===O||void 0===O?void 0:O.unabletoAttendField,m]),(0,t.useEffect)((()=>{const e={appointmentId:null===i||void 0===i?void 0:i.appointmentId};T((0,D.qk)(e))}),[T,null===i||void 0===i?void 0:i.appointmentId]);const V=()=>{const e={appointmentId:null===i||void 0===i?void 0:i.appointmentId};T((0,D.qk)(e)),p(!1)};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(s.Z,{onSubmit:d((function(e){const l={medicalCertificateId:null!==O&&void 0!==O&&O.medicalCertificateId?null===O||void 0===O?void 0:O.medicalCertificateId:0,appointmentId:null===i||void 0===i?void 0:i.appointmentId,fromDate:null===e||void 0===e?void 0:e.fromDate,toDate:null===e||void 0===e?void 0:e.toDate,name:e.name,unabletoAttendField:e.unabletoAttendField,pdfFile:null,sufferingFrom:null===e||void 0===e?void 0:e.name,showMedicalCertificate:j,isPatient:!1};null!==O&&void 0!==O&&O.name?T((0,D.T_)({finalData:l,onCreateSuccess:V})):T((0,D._d)({finalData:l,onCreateSuccess:V}))})),className:"med-certificate",children:(0,I.jsxs)(n.Z,{children:[(0,I.jsxs)(o.Z,{md:12,className:"d-flex justify-content-between",children:[(0,I.jsx)(s.Z.Check,{type:"checkbox",id:"show-medical-certificate",label:"Show to Patient",onChange:()=>{N(!j)},disabled:!(!0===(null===O||void 0===O?void 0:O.showMedicalCertificate)&&u||!1===(null===O||void 0===O?void 0:O.showMedicalCertificate)&&u)&&!(null===O||void 0===O||!O.medicalCertificateId),defaultChecked:null!==(e=null===O||void 0===O?void 0:O.showMedicalCertificate)&&void 0!==e?e:""}),(null===O||void 0===O?void 0:O.name)&&!1===u&&(0,I.jsx)(A.Z,{id:"dropdown-item-button",title:(0,I.jsx)(h.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,I.jsxs)("div",{className:"set-dropdown-menu",children:[(0,I.jsxs)(w.Z.Item,{className:"d-flex align-items-center",onClick:()=>{p(!0)},children:[(0,I.jsx)(g.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},children:"Edit"})]}),(0,I.jsx)(w.Z.Item,{className:"d-flex align-items-center",children:(0,I.jsx)(H.ZP,{trigger:(0,I.jsxs)("button",{ref:v,className:"bg-transparent border-0 p-0",children:[(0,I.jsx)(k.bAs,{size:20})," Download PDF"]}),children:(0,I.jsx)(L.Z,{MedicalCertificateData:O,detailDTO:P,getUserData:z})})}),(0,I.jsxs)(w.Z.Item,{className:"d-flex align-items-center",onClick:()=>{f(null===O||void 0===O?void 0:O.medicalCertificateId),M(!0)},children:[(0,I.jsx)(F.w6k,{size:18,style:{color:"#FD2121"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#FD2121"},children:"Remove"})]})]})})]}),(0,I.jsx)(o.Z,{lg:6,xs:12,children:(0,I.jsxs)(s.Z.Group,{children:[(0,I.jsx)(s.Z.Label,{children:"From"}),(0,I.jsx)(s.Z.Control,{type:"date",placeholderText:"DD / MM / YY",className:"custom-date",defaultValue:b()(null===O||void 0===O?void 0:O.fromDate).format("DD-MM-YYYY"),disabled:(null===O||void 0===O||!O.fromDate||!u)&&!(null===O||void 0===O||!O.fromDate),name:"fromDate",...a("fromDate",{required:!0})})]})}),(0,I.jsx)(o.Z,{lg:6,xs:12,children:(0,I.jsxs)(s.Z.Group,{controlId:"",children:[(0,I.jsx)(s.Z.Label,{className:"",children:"To"}),(0,I.jsx)(s.Z.Control,{type:"date",placeholderText:"DD / MM / YY",className:"custom-date",defaultValue:b()(null===O||void 0===O?void 0:O.toDate).format("DD-MM-YYYY"),disabled:(null===O||void 0===O||!O.toDate||!u)&&!(null===O||void 0===O||!O.toDate),name:"toDate",...a("toDate",{required:!0})})]})}),(0,I.jsx)(o.Z,{xs:12,children:(0,I.jsxs)(s.Z.Group,{className:"my-3",controlId:"unable-to-attend",children:[(0,I.jsx)(s.Z.Label,{children:"Unable to Attend"}),(0,I.jsxs)(s.Z.Select,{"aria-label":"Select Unable to Attend",...a("unabletoAttendField",{required:!0}),disabled:(null===O||void 0===O||!O.unabletoAttendField||!u)&&!(null===O||void 0===O||!O.unabletoAttendField),children:[(0,I.jsx)("option",{value:"",children:"Select Value"}),(0,I.jsx)("option",{value:"work",children:"Work"}),(0,I.jsx)("option",{value:"school",children:"School"}),(0,I.jsx)("option",{value:"college",children:"College"}),(0,I.jsx)("option",{value:"jury duty",children:"Jury Duty"})]})]})}),(0,I.jsx)(o.Z,{xs:12,children:(0,I.jsxs)(s.Z.Group,{className:"mb-3",controlId:"suffering-from",children:[(0,I.jsx)(s.Z.Label,{className:"label-primary",children:"Suffering From"}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:3,className:"".concat((u||(null===O||void 0===O?void 0:O.name))&&"bg-transparent"),placeholder:"Tell about some medical certificate",...a("name",{required:!0}),defaultValue:null!==(l=null===O||void 0===O?void 0:O.name)&&void 0!==l?l:"",readOnly:(null===O||void 0===O||!O.name||!u)&&!(null===O||void 0===O||!O.name),maxLength:250})]})}),(0,I.jsx)(o.Z,{xs:3,className:"w-100",children:(!(null!==O&&void 0!==O&&O.name)||!0===u)&&(0,I.jsx)(r.Z,{className:"mt-2 mb-3 start-apt-btn float-right",type:"submit",children:"Save"})})]})}),(0,I.jsx)(S.c,{show:C,onHide:()=>M(!1),heading:"Delete Medical Certificate",title:"this medical certificate",removeFunc:function(){const e={medicalcertificateId:x};T((0,D.O7)({finalData:e,onCreateSuccess:V})),c()}})]})}var P=i(95985),z=i(24278);function O(){const e=JSON.parse(localStorage.getItem("slotDescription")),{register:l,handleSubmit:i,reset:n}=(0,Z.cI)(),[o,a]=(0,t.useState)(),[d,c]=(0,t.useState)(!1),[m,u]=(0,t.useState)(!1),{note:p}=(0,y.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointmentNotes)||{}})),v=(0,y.I0)(),x=(new Date).toISOString().slice(0,19);(0,t.useEffect)((()=>{const l={appointmentId:null===e||void 0===e?void 0:e.appointmentId};v((0,z.zp)(l))}),[v,null===e||void 0===e?void 0:e.appointmentId]);const f=()=>{const l={appointmentId:null===e||void 0===e?void 0:e.appointmentId};v((0,z.zp)(l)),u(!1),n()};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(s.Z,{onSubmit:i((function(l){const i={noteId:null!==p&&void 0!==p&&p.noteId?null===p||void 0===p?void 0:p.noteId:0,patientId:null===e||void 0===e?void 0:e.patientId,doctorId:null===e||void 0===e?void 0:e.doctorId,appointmentId:null===e||void 0===e?void 0:e.appointmentId,noteTypeId:1,note:null===l||void 0===l?void 0:l.note,date:x,showNote:!0,isPatient:!1,appointmentDetail:null!==p&&void 0!==p&&p.note?{appointmentDetailId:0}:null};null!==p&&void 0!==p&&p.note?v((0,P.fW)({finalData:i,moveToNext:f})):v((0,P.K1)({finalData:i,moveToNext:f}))})),children:[(0,I.jsx)(s.Z.Group,{className:"mb-3",controlId:"medicalForm.ControlTextarea1",children:(0,I.jsxs)("span",{className:"d-flex justify-content-between",children:[(0,I.jsx)(s.Z.Control,{as:"textarea",rows:3,className:"".concat((m||(null===p||void 0===p?void 0:p.note))&&"bg-transparent"),placeholder:"Tell about Clinical Notes",...l("note",{required:!0}),defaultValue:(null===p||void 0===p?void 0:p.note)||"",readOnly:(null===p||void 0===p||!p.note||!m)&&!(null===p||void 0===p||!p.note),maxLength:250}),(null===p||void 0===p?void 0:p.note)&&!1===m&&(0,I.jsx)(A.Z,{id:"dropdown-item-button",title:(0,I.jsx)(h.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,I.jsxs)("div",{className:"set-dropdown-menu",children:[(0,I.jsxs)(w.Z.Item,{className:"d-flex align-items-center",onClick:()=>{u(!0)},children:[(0,I.jsx)(g.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},children:"Edit"})]}),(0,I.jsxs)(w.Z.Item,{className:"d-flex align-items-center",onClick:()=>{a(null===p||void 0===p?void 0:p.noteId),c(!0)},children:[(0,I.jsx)(F.w6k,{size:18,style:{color:"#FD2121"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#FD2121"},children:"Remove"})]})]})})]})}),(!(null!==p&&void 0!==p&&p.note)||!0===m)&&(0,I.jsx)(r.Z,{className:"mt-2 mb-3 start-apt-btn float-right",type:"submit",children:"Save"})]}),(0,I.jsx)(S.c,{show:d,onHide:()=>c(!1),heading:"Delete Clinical Notes",title:"this clinical notes",removeFunc:function(){const e={noteId:o};v((0,P.GA)({finalData:e,moveToNext:f}))}})]})}var T=i(80591),V=i(97866);const G=function(){var e,l,i,t,n,o,s,a,d;const{specialistLetter:r}=(0,y.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointmentNotes)||{}})),{detailDTO:c}=(0,y.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointedDetail)||{}})),{getUserData:m}=(0,y.v9)((e=>e.userRole)),u=b()().format("DD/MM/YYYY");return(0,I.jsxs)("div",{className:"mb-5",children:[(0,I.jsxs)("div",{className:"text-center",children:[(0,I.jsx)("h1",{children:"FamilyDoc247"}),(0,I.jsx)("h6",{children:"General Practitioner (GP) / Family Physician"}),(0,I.jsx)("h6",{children:"Fitzwilliam Hall, Fitzwilliam Place, Dublin 2"}),(0,I.jsx)("h6",{children:"Tel: +353 1 906 9327"}),(0,I.jsx)("h6",{children:"Email : contact@familydoc247.ie"})]}),(0,I.jsx)("p",{className:"my-5",children:u}),(0,I.jsxs)("p",{className:"mb-5",children:[(0,I.jsx)("span",{className:"font-weight-600",children:"To: "}),null===r||void 0===r?void 0:r.toDoctor]}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("p",{children:["Re: ",null!==r&&void 0!==r&&r.patient?null===r||void 0===r?void 0:r.patient:"N/A",","," ",null!==c&&void 0!==c&&c.currentAddress?null===c||void 0===c?void 0:c.currentAddress:"N/A"]}),(0,I.jsxs)("p",{children:["DOB:"," ",b()(null!==c&&void 0!==c&&c.dob?null===c||void 0===c?void 0:c.dob:"N/A").format("MM/DD/YYYY"),", Tel: ",null!==c&&void 0!==c&&c.phoneNumber?null===c||void 0===c?void 0:c.phoneNumber:"N/A"]})]}),(0,I.jsx)("p",{className:"mt-5",children:"Dear Doctor,"}),(0,I.jsx)("p",{children:"I would appreciate if you could see above-named patient."}),(0,I.jsxs)("div",{className:"mb-5",children:[(null===r||void 0===r?void 0:r.referralNote)&&(0,I.jsxs)("div",{children:[(0,I.jsx)("p",{className:"text-black-50 mb-0",children:"Referral Notes"}),null===r||void 0===r?void 0:r.referralNote]}),(null===r||void 0===r?void 0:r.appointmentDetail)&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:"mb-3",children:[(0,I.jsx)("p",{className:"text-black-50 mb-0",children:"Presenting Complaint"}),null===r||void 0===r||null===(e=r.appointmentDetail)||void 0===e?void 0:e.presentingComplaint]}),(0,I.jsxs)("div",{className:"mb-3",children:[(0,I.jsx)("p",{className:"text-black-50 mb-0",children:"Past Medical History"}),null===r||void 0===r||null===(l=r.appointmentDetail)||void 0===l?void 0:l.pastMedicalHistory]}),(0,I.jsxs)("div",{className:"mb-3",children:[(0,I.jsx)("p",{className:"text-black-50 mb-0",children:"Medications"}),null===r||void 0===r||null===(i=r.appointmentDetail)||void 0===i?void 0:i.medications]}),(0,I.jsxs)("div",{className:"mb-3",children:[(0,I.jsx)("p",{className:"text-black-50 mb-0",children:"Allergies"}),null===r||void 0===r||null===(t=r.appointmentDetail)||void 0===t?void 0:t.allergies]}),(0,I.jsxs)("div",{className:"mb-3",children:[(0,I.jsx)("p",{className:"text-black-50 mb-0",children:"Family History"}),null===r||void 0===r||null===(n=r.appointmentDetail)||void 0===n?void 0:n.familyHistory]}),(0,I.jsxs)("div",{className:"mb-3",children:[(0,I.jsx)("p",{className:"text-black-50 mb-0",children:"Social History"}),null===r||void 0===r||null===(o=r.appointmentDetail)||void 0===o?void 0:o.socialHistory]}),(0,I.jsxs)("div",{className:"mb-3",children:[(0,I.jsx)("p",{className:"text-black-50 mb-0",children:"Suspected Diagnosis"}),null===r||void 0===r||null===(s=r.appointmentDetail)||void 0===s?void 0:s.suspectedDiagnosis]}),(0,I.jsxs)("div",{className:"mb-3",children:[(0,I.jsx)("p",{className:"text-black-50 mb-0",children:"Recommended Actions"}),null===r||void 0===r||null===(a=r.appointmentDetail)||void 0===a?void 0:a.recommendedActions]}),(0,I.jsxs)("div",{className:"mb-3",children:[(0,I.jsx)("p",{className:"text-black-50 mb-0",children:"Sign off"}),null===r||void 0===r||null===(d=r.appointmentDetail)||void 0===d?void 0:d.signOff]})]})]}),(0,I.jsx)("p",{className:"py-3",children:"The above-named patient prefers to see you privately."}),(0,I.jsx)("p",{className:"pb-3",children:"I would appreciate your expert review and further management."}),(0,I.jsx)("p",{className:"pb-2",children:"Yours sincerely,"}),(0,I.jsxs)("p",{className:"mb-0",children:["Dr"," ",null!==m&&void 0!==m&&m.name?null===m||void 0===m?void 0:m.name:"N/A"]}),(0,I.jsxs)("p",{children:["MCRN"," ",null!==m&&void 0!==m&&m.mcrn?null===m||void 0===m?void 0:m.mcrn:"N/A"]})]})};function Y(e){var l,i,a,d,c,m,u,p,v,x,f,j,N,b,D,C,L,M,P,O,T;let{inputFieldValues:Y}=e;const{register:R,handleSubmit:q,reset:E}=(0,Z.cI)(),W=JSON.parse(localStorage.getItem("slotDescription")),[B,Q]=(0,t.useState)(!1),[_,U]=(0,t.useState)(!0),[J,K]=(0,t.useState)(!1),[X,$]=(0,t.useState)(!1),[ee,le]=(0,t.useState)(!1),[ie,te]=(0,t.useState)(),[ne,oe]=(0,t.useState)(!1),se=(0,t.useRef)(null),ae=(0,y.I0)(),{data:de}=(0,y.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointmentDetails)||void 0===l?void 0:l.getAptDetails)||{}})),{specialistLetter:re}=(0,y.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointmentNotes)||{}})),{patientAppointmentNotes:ce}=(0,y.v9)((e=>(null===e||void 0===e?void 0:e.appointment)||{}));console.log("patientAppointmentNotes",ce);const me=(0,y.v9)((e=>{var l;return null===e||void 0===e||null===(l=e.appointmentDetails)||void 0===l?void 0:l.getAptDetails})),ue=(new Date).toISOString().slice(0,19),pe=()=>{const e={appointmentId:null===W||void 0===W?void 0:W.appointmentId};ae((0,z.zp)(e)),Q(!1),K(!1)};(0,t.useEffect)((()=>{const e={appointmentId:null===W||void 0===W?void 0:W.appointmentId};ae((0,z.zp)(e))}),[ae,null===W||void 0===W?void 0:W.appointmentId]);const ve=()=>{E();const e={appointmentId:null===W||void 0===W?void 0:W.appointmentId};ae((0,z.zp)(e)),le(!1)};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(s.Z,{onSubmit:q((function(e){var l,i;const t={noteId:null!==re&&void 0!==re&&re.noteId?null===re||void 0===re?void 0:re.noteId:0,noteTypeId:2,patientId:null===W||void 0===W?void 0:W.patientId,doctorId:null===W||void 0===W?void 0:W.doctorId,referralNote:ee?null:null===e||void 0===e||null===(l=e.referralNote)||void 0===l?void 0:l.trim(),specialistLetter:e.specialistLetter,referralTypeId:1,toDoctor:e.toDoctor,appointmentId:null===W||void 0===W?void 0:W.appointmentId,showNote:ne,date:ue,isPatient:!1,appointmentDetail:ee||null!==re&&void 0!==re&&null!==(i=re.appointmentDetail)&&void 0!==i&&i.appointmentDetailId?{appointmentDetailId:null!==re&&void 0!==re&&re.noteId?null===de||void 0===de?void 0:de.appointmentDetailId:0,appointmentId:null===W||void 0===W?void 0:W.appointmentId,presentingComplaint:null!==e&&void 0!==e&&e.presentingComplaint?null===e||void 0===e?void 0:e.presentingComplaint:null!==Y&&void 0!==Y&&Y.presentingComplaint?null===Y||void 0===Y?void 0:Y.presentingComplaint:null===de||void 0===de?void 0:de.presentingComplaint,historyOfPresentingComplaint:null!==e&&void 0!==e&&e.presentingComplaint?null===e||void 0===e?void 0:e.presentingComplaint:null!==Y&&void 0!==Y&&Y.presentingComplaint?null===Y||void 0===Y?void 0:Y.presentingComplaint:null===de||void 0===de?void 0:de.presentingComplaint,pastMedicalHistory:null!==e&&void 0!==e&&e.pastMedicalHistory?null===e||void 0===e?void 0:e.pastMedicalHistory:null!==Y&&void 0!==Y&&Y.pastMedicalHistory?null===Y||void 0===Y?void 0:Y.pastMedicalHistory:null===de||void 0===de?void 0:de.pastMedicalHistory,medications:null!==e&&void 0!==e&&e.medications?null===e||void 0===e?void 0:e.medications:null!==Y&&void 0!==Y&&Y.medications?null===Y||void 0===Y?void 0:Y.medications:null===de||void 0===de?void 0:de.medications,allergies:null!==e&&void 0!==e&&e.allergies?null===e||void 0===e?void 0:e.allergies:null!==Y&&void 0!==Y&&Y.allergies?null===Y||void 0===Y?void 0:Y.allergies:null===de||void 0===de?void 0:de.allergies,familyHistory:null!==e&&void 0!==e&&e.familyHistory?null===e||void 0===e?void 0:e.familyHistory:null!==Y&&void 0!==Y&&Y.familyHistory?null===Y||void 0===Y?void 0:Y.familyHistory:null===de||void 0===de?void 0:de.familyHistory,socialHistory:null!==e&&void 0!==e&&e.socialHistory?null===e||void 0===e?void 0:e.socialHistory:null!==Y&&void 0!==Y&&Y.socialHistory?null===Y||void 0===Y?void 0:Y.socialHistory:null===de||void 0===de?void 0:de.socialHistory,suspectedDiagnosis:null!==e&&void 0!==e&&e.suspectedDiagnosis?null===e||void 0===e?void 0:e.suspectedDiagnosis:null!==Y&&void 0!==Y&&Y.suspectedDiagnosis?null===Y||void 0===Y?void 0:Y.suspectedDiagnosis:null===de||void 0===de?void 0:de.suspectedDiagnosis,recommendedActions:null!==e&&void 0!==e&&e.recommendedActions?null===e||void 0===e?void 0:e.recommendedActions:null!==Y&&void 0!==Y&&Y.recommendedActions?null===Y||void 0===Y?void 0:Y.recommendedActions:null===de||void 0===de?void 0:de.recommendedActions,signOff:null!==e&&void 0!==e&&e.signOff?null===e||void 0===e?void 0:e.signOff:null!==Y&&void 0!==Y&&Y.signOff?null===Y||void 0===Y?void 0:Y.signOff:null===de||void 0===de?void 0:de.signOff,appointmentAttended:!0,failuretoattendnotes:"",referralTypeId:1,noteId:null!==re&&void 0!==re&&re.noteId?null===re||void 0===re?void 0:re.noteId:0}:null!==re&&void 0!==re&&re.noteId?{appointmentDetailId:0}:null};null!==re&&void 0!==re&&re.noteId?ae((0,V.YY)({finalData:t,onCreateSuccess:pe})):ae((0,V.lU)({finalData:t,onCreateSuccess:pe})),U(!0)})),children:(0,I.jsx)(n.Z,{children:(0,I.jsx)(o.Z,{xs:12,className:"my-3",children:(0,I.jsxs)("div",{style:{background:"#F8F8F8",borderRadius:"5px"},className:"px-3 py-3 h-100",children:[(0,I.jsxs)("span",{className:"d-flex justify-content-between",children:[(0,I.jsx)("p",{className:"referral-main-text",style:{color:"#2269F2"},children:"Specialist Letter"}),(null===re||void 0===re?void 0:re.patientId)&&!1===J&&(0,I.jsx)(A.Z,{id:"dropdown-item-button",title:(0,I.jsx)(h.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,I.jsxs)("div",{className:"set-dropdown-menu",children:[(0,I.jsxs)(w.Z.Item,{className:"d-flex align-items-center",children:[(0,I.jsx)(g.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},onClick:()=>{Q(!0),K(!0),U(!1)},children:"Edit"})]}),(0,I.jsx)(w.Z.Item,{className:"d-flex align-items-center",children:(0,I.jsx)(H.ZP,{trigger:(0,I.jsxs)("button",{ref:se,className:"bg-transparent border-0 p-0",children:[(0,I.jsx)(k.bAs,{size:20})," Download PDF"]}),children:(0,I.jsx)(G,{})})}),(0,I.jsxs)(w.Z.Item,{className:"d-flex align-items-center",onClick:()=>{te(null===re||void 0===re?void 0:re.noteId),$(!0)},children:[(0,I.jsx)(F.w6k,{size:18,style:{color:"#FD2121"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#FD2121"},children:"Remove"})]})]})})]}),(0,I.jsx)(s.Z.Check,{type:"checkbox",id:"show-speciality-notes",label:"Show to Patient",onChange:()=>oe(!ne),disabled:!(!0===(null===re||void 0===re?void 0:re.showNote)&&J||!1===(null===re||void 0===re?void 0:re.showNote)&&J)&&!(null===re||void 0===re||!re.noteId),defaultChecked:null===re||void 0===re?void 0:re.showNote}),(0,I.jsxs)(s.Z.Group,{className:"mb-3",controlId:"formBasicLabel3",children:[(0,I.jsx)(s.Z.Label,{className:"label-primary mb-0",children:"Formulation"}),(0,I.jsx)(s.Z.Control,{type:"text",placeholder:"Tiredness",className:"pt-2 custom-field-picker ".concat(B&&"bg-white"),...R("specialistLetter",{required:!0}),defaultValue:null!==(l=null===re||void 0===re?void 0:re.specialistLetter)&&void 0!==l?l:"",maxLength:250,readOnly:(null===re||void 0===re||!re.specialistLetter||!J)&&!(null===re||void 0===re||!re.specialistLetter)})]}),(0,I.jsxs)(s.Z.Group,{className:"mb-3",controlId:"formBasicLabel3",children:[(0,I.jsx)(s.Z.Label,{className:"label-primary mb-0",children:"To"}),(0,I.jsx)(s.Z.Control,{type:"text",placeholder:"Specialist name",className:"pt-2 custom-field-picker ".concat(B&&"bg-white"),...R("toDoctor",{required:!0}),maxLength:250,defaultValue:null!==(i=null===re||void 0===re?void 0:re.toDoctor)&&void 0!==i?i:"",readOnly:(null===re||void 0===re||!re.toDoctor||!J)&&!(null===re||void 0===re||!re.toDoctor)})]}),(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Referral Notes"}),!1!==ee||null!==re&&void 0!==re&&re.appointmentDetail?"":(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,placeholder:"Referral Note",className:"pt-2 custom-field-picker ".concat(B&&"bg-white"),...R("referralNote",{required:!0}),defaultValue:null!==(a=null===re||void 0===re?void 0:re.referralNote)&&void 0!==a?a:"",readOnly:(null===re||void 0===re||!re.referralNote||!J)&&!(null===re||void 0===re||!re.referralNote),maxLength:250})]}),(ee||(null===re||void 0===re?void 0:re.appointmentDetail))&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Presenting Complaint"}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("presentingComplaint"),defaultValue:null!==Y&&void 0!==Y&&Y.presentingComplaint?null===Y||void 0===Y?void 0:Y.presentingComplaint:null!==re&&void 0!==re&&null!==(d=re.appointmentDetail)&&void 0!==d&&d.presentingComplaint?null===re||void 0===re||null===(c=re.appointmentDetail)||void 0===c?void 0:c.presentingComplaint:null!==de&&void 0!==de&&de.presentingComplaint?null===de||void 0===de?void 0:de.presentingComplaint:"N/A",disabled:_})]}),(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Past Medical History"}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("pastMedicalHistory"),defaultValue:null!==Y&&void 0!==Y&&Y.pastMedicalHistory?null===Y||void 0===Y?void 0:Y.pastMedicalHistory:null!==re&&void 0!==re&&null!==(m=re.appointmentDetail)&&void 0!==m&&m.pastMedicalHistory?null===re||void 0===re||null===(u=re.appointmentDetail)||void 0===u?void 0:u.pastMedicalHistory:null!==de&&void 0!==de&&de.pastMedicalHistory?null===de||void 0===de?void 0:de.pastMedicalHistory:"N/A",disabled:_})]}),(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Medications"}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("medications"),defaultValue:null!==Y&&void 0!==Y&&Y.medications?null===Y||void 0===Y?void 0:Y.medications:null!==re&&void 0!==re&&null!==(p=re.appointmentDetail)&&void 0!==p&&p.medications?null===re||void 0===re||null===(v=re.appointmentDetail)||void 0===v?void 0:v.medications:null!==de&&void 0!==de&&de.medication?null===de||void 0===de?void 0:de.medications:"N/A",disabled:_})]}),(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Allergies"}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("allergies"),defaultValue:null!==Y&&void 0!==Y&&Y.allergies?null===Y||void 0===Y?void 0:Y.allergies:null!==re&&void 0!==re&&null!==(x=re.appointmentDetail)&&void 0!==x&&x.allergies?null===re||void 0===re||null===(f=re.appointmentDetail)||void 0===f?void 0:f.allergies:null!==de&&void 0!==de&&de.allergies?null===de||void 0===de?void 0:de.allergies:"N/A",disabled:_})]}),(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Family History"}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("familyHistory"),defaultValue:null!==Y&&void 0!==Y&&Y.familyHistory?null===Y||void 0===Y?void 0:Y.familyHistory:null!==re&&void 0!==re&&null!==(j=re.appointmentDetail)&&void 0!==j&&j.familyHistory?null===re||void 0===re||null===(N=re.appointmentDetail)||void 0===N?void 0:N.familyHistory:null!==de&&void 0!==de&&de.familyHistory?null===de||void 0===de?void 0:de.familyHistory:"N/A",disabled:_})]}),(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Social History"}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("socialHistory"),defaultValue:null!==Y&&void 0!==Y&&Y.socialHistory?null===Y||void 0===Y?void 0:Y.socialHistory:null!==re&&void 0!==re&&null!==(b=re.appointmentDetail)&&void 0!==b&&b.socialHistory?null===re||void 0===re||null===(D=re.appointmentDetail)||void 0===D?void 0:D.socialHistory:null!==de&&void 0!==de&&de.socialHistory?null===de||void 0===de?void 0:de.socialHistory:"N/A",disabled:_})]}),(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Suspected Diagnosis"}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("suspectedDiagnosis"),defaultValue:null!==Y&&void 0!==Y&&Y.suspectedDiagnosis?null===Y||void 0===Y?void 0:Y.suspectedDiagnosis:null!==re&&void 0!==re&&null!==(C=re.appointmentDetail)&&void 0!==C&&C.suspectedDiagnosis?null===re||void 0===re||null===(L=re.appointmentDetail)||void 0===L?void 0:L.suspectedDiagnosis:null!==de&&void 0!==de&&de.suspectedDiagnosis?null===de||void 0===de?void 0:de.suspectedDiagnosis:"N/A",disabled:_})]}),(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Recommended Actions"}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("recommendedActions"),defaultValue:null!==Y&&void 0!==Y&&Y.recommendedActions?null===Y||void 0===Y?void 0:Y.recommendedActions:null!==re&&void 0!==re&&null!==(M=re.appointmentDetail)&&void 0!==M&&M.recommendedActions?null===re||void 0===re||null===(P=re.appointmentDetail)||void 0===P?void 0:P.recommendedActions:null!==de&&void 0!==de&&de.recommendedActions?null===de||void 0===de?void 0:de.recommendedActions:"N/A",disabled:_})]}),(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Sign off"}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("signOff"),defaultValue:null!==Y&&void 0!==Y&&Y.signOff?null===Y||void 0===Y?void 0:Y.signOff:null!==re&&void 0!==re&&null!==(O=re.appointmentDetail)&&void 0!==O&&O.signOff?null===re||void 0===re||null===(T=re.appointmentDetail)||void 0===T?void 0:T.signOff:null!==de&&void 0!==de&&de.signOff?null===de||void 0===de?void 0:de.signOff:"N/A",disabled:_})]})]}),!(null!==re&&void 0!==re&&re.appointmentDetail)&&(null===me||void 0===me?void 0:me.data)&&(0,I.jsx)("div",{className:"d-flex justify-content-end",children:(0,I.jsx)("p",{className:"mb-0",style:{color:"#2269F2",fontWeght:500,fontSize:"18px",cursor:"pointer"},onClick:()=>le(!0),children:"Generate letter with appointment notes"})}),!(null!==re&&void 0!==re&&re.patientId)&&(0,I.jsx)("div",{className:"d-flex justify-content-end",children:(0,I.jsx)(r.Z,{className:"start-apt-btn",type:"submit",children:"Save"})}),(null===re||void 0===re?void 0:re.patientId)&&!0===J&&(0,I.jsx)(r.Z,{className:"mt-2 mb-3 start-apt-btn float-right",type:"submit",children:"Update"})]})})})}),(0,I.jsx)(S.c,{show:X,onHide:()=>$(!1),heading:"Delete Referral Notes",title:"this refferal notes",removeFunc:function(){const e={noteId:ie};ae((0,V.FW)({finalData:e,onCreateDeleteSuccess:ve})),E()}})]})}const R=function(){var e,l,i,t,n,o,s,a,d;const{emergancyDepartmentLetter:r}=(0,y.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointmentNotes)||{}})),{detailDTO:c}=(0,y.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointedDetail)||{}})),{getUserData:m}=(0,y.v9)((e=>e.userRole)),u=b()().format("DD/MM/YYYY");return(0,I.jsxs)("div",{className:"mb-5",children:[(0,I.jsxs)("div",{className:"text-center",children:[(0,I.jsx)("h1",{children:"FamilyDoc247"}),(0,I.jsx)("h6",{children:"General Practitioner (GP) / Family Physician"}),(0,I.jsx)("h6",{children:"Fitzwilliam Hall, Fitzwilliam Place, Dublin 2"}),(0,I.jsx)("h6",{children:"Tel: +353 1 906 9327"}),(0,I.jsx)("h6",{children:"Email : contact@familydoc247.ie"})]}),(0,I.jsx)("p",{className:"my-5",children:u}),(0,I.jsxs)("p",{className:"mb-5",children:[(0,I.jsx)("span",{className:"font-weight-600",children:"To: "}),"Emergency Department Doctor On Duty"]}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("p",{children:["Re: ",null===r||void 0===r?void 0:r.patient,","," ",null!==c&&void 0!==c&&c.currentAddress?null===c||void 0===c?void 0:c.currentAddress:"N/A"]}),(0,I.jsxs)("p",{children:["DOB:"," ",b()(null!==c&&void 0!==c&&c.dob?null===c||void 0===c?void 0:c.dob:"N/A").format("MM/DD/YYYY"),", Tel: ",null!==c&&void 0!==c&&c.phoneNumber?null===c||void 0===c?void 0:c.phoneNumber:"N/A"]})]}),(0,I.jsx)("p",{className:"mt-5",children:"Dear Doctor On Duty,"}),(0,I.jsx)("p",{children:"I would appreciate if you could see above-named patient."}),(0,I.jsxs)("div",{className:"mb-5",children:[(null===r||void 0===r?void 0:r.referralNote)&&(0,I.jsxs)("div",{children:[(0,I.jsx)("p",{className:"text-black-50 mb-0",children:"Referral Notes"}),null===r||void 0===r?void 0:r.referralNote]}),(null===r||void 0===r?void 0:r.appointmentDetail)&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:"mb-3",children:[(0,I.jsx)("p",{className:"text-black-50 mb-0",children:"Presenting Complaint"}),null===r||void 0===r||null===(e=r.appointmentDetail)||void 0===e?void 0:e.presentingComplaint]}),(0,I.jsxs)("div",{className:"mb-3",children:[(0,I.jsx)("p",{className:"text-black-50 mb-0",children:"Past Medical History"}),null===r||void 0===r||null===(l=r.appointmentDetail)||void 0===l?void 0:l.pastMedicalHistory]}),(0,I.jsxs)("div",{className:"mb-3",children:[(0,I.jsx)("p",{className:"text-black-50 mb-0",children:"Medications"}),null===r||void 0===r||null===(i=r.appointmentDetail)||void 0===i?void 0:i.medications]}),(0,I.jsxs)("div",{className:"mb-3",children:[(0,I.jsx)("p",{className:"text-black-50 mb-0",children:"Allergies"}),null===r||void 0===r||null===(t=r.appointmentDetail)||void 0===t?void 0:t.allergies]}),(0,I.jsxs)("div",{className:"mb-3",children:[(0,I.jsx)("p",{className:"text-black-50 mb-0",children:"Family History"}),null===r||void 0===r||null===(n=r.appointmentDetail)||void 0===n?void 0:n.familyHistory]}),(0,I.jsxs)("div",{className:"mb-3",children:[(0,I.jsx)("p",{className:"text-black-50 mb-0",children:"Social History"}),null===r||void 0===r||null===(o=r.appointmentDetail)||void 0===o?void 0:o.socialHistory]}),(0,I.jsxs)("div",{className:"mb-3",children:[(0,I.jsx)("p",{className:"text-black-50 mb-0",children:"Suspected Diagnosis"}),null===r||void 0===r||null===(s=r.appointmentDetail)||void 0===s?void 0:s.suspectedDiagnosis]}),(0,I.jsxs)("div",{className:"mb-3",children:[(0,I.jsx)("p",{className:"text-black-50 mb-0",children:"Recommended Actions"}),null===r||void 0===r||null===(a=r.appointmentDetail)||void 0===a?void 0:a.recommendedActions]}),(0,I.jsxs)("div",{className:"mb-3",children:[(0,I.jsx)("p",{className:"text-black-50 mb-0",children:"Sign off"}),null===r||void 0===r||null===(d=r.appointmentDetail)||void 0===d?void 0:d.signOff]})]})]}),(0,I.jsx)("p",{className:"pb-3",children:"I would appreciate your urgent assessment and management."}),(0,I.jsx)("p",{className:"pb-2",children:"Yours sincerely,"}),(0,I.jsxs)("p",{className:"mb-0",children:["Dr ",null!==m&&void 0!==m&&m.name?null===m||void 0===m?void 0:m.name:"N/A"]}),(0,I.jsxs)("p",{children:["MCRN ",null!==m&&void 0!==m&&m.mcrn?null===m||void 0===m?void 0:m.mcrn:"N/A"]})]})};function q(e){var l,i,a,d,c,m,u,p,v,x,f,j,N,b,D,C,L,M,P,O,T;let{inputFieldValues:G}=e;const{register:Y,handleSubmit:q,reset:E}=(0,Z.cI)(),W=JSON.parse(localStorage.getItem("slotDescription")),[B,Q]=(0,t.useState)(!1),[_,U]=(0,t.useState)(!0),[J,K]=(0,t.useState)(!1),[X,$]=(0,t.useState)(),[ee,le]=(0,t.useState)(!1),[ie,te]=(0,t.useState)(!1),[ne,oe]=(0,t.useState)(!1),se=(0,t.useRef)(null),ae=(0,y.I0)(),{data:de}=(0,y.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointmentDetails)||void 0===l?void 0:l.getAptDetails)||{}})),{emergancyDepartmentLetter:re}=(0,y.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointmentNotes)||{}})),ce=(new Date).toISOString().slice(0,19),me=()=>{const e={appointmentId:null===W||void 0===W?void 0:W.appointmentId};ae((0,z.zp)(e)),Q(!1),K(!1)};(0,t.useEffect)((()=>{const e={appointmentId:null===W||void 0===W?void 0:W.appointmentId};ae((0,z.zp)(e))}),[ae,null===W||void 0===W?void 0:W.appointmentId]);const ue=()=>{E();const e={appointmentId:null===W||void 0===W?void 0:W.appointmentId};ae((0,z.zp)(e)),te(!1)};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(s.Z,{onSubmit:q((function(e){var l,i;const t={noteId:null!==re&&void 0!==re&&re.noteId?null===re||void 0===re?void 0:re.noteId:0,noteTypeId:2,patientId:null===W||void 0===W?void 0:W.patientId,doctorId:null===W||void 0===W?void 0:W.doctorId,referralNote:ie?null:null===e||void 0===e||null===(l=e.referralNote)||void 0===l?void 0:l.trim(),emergancyDepartmentLetter:e.emergancyDepartmentLetter,referralTypeId:2,toDoctor:e.toDoctor,appointmentId:null===W||void 0===W?void 0:W.appointmentId,showNote:ne,isPatient:!1,date:ce,appointmentDetail:ie||null!==re&&void 0!==re&&null!==(i=re.appointmentDetail)&&void 0!==i&&i.appointmentDetailId?{appointmentDetailId:null!==re&&void 0!==re&&re.noteId?null===de||void 0===de?void 0:de.appointmentDetailId:0,appointmentId:null===W||void 0===W?void 0:W.appointmentId,presentingComplaint:null!==e&&void 0!==e&&e.presentingComplaint?null===e||void 0===e?void 0:e.presentingComplaint:null!==G&&void 0!==G&&G.presentingComplaint?null===G||void 0===G?void 0:G.presentingComplaint:null===de||void 0===de?void 0:de.presentingComplaint,historyOfPresentingComplaint:null!==e&&void 0!==e&&e.presentingComplaint?null===e||void 0===e?void 0:e.presentingComplaint:null!==G&&void 0!==G&&G.presentingComplaint?null===G||void 0===G?void 0:G.presentingComplaint:null===de||void 0===de?void 0:de.presentingComplaint,pastMedicalHistory:null!==e&&void 0!==e&&e.pastMedicalHistory?null===e||void 0===e?void 0:e.pastMedicalHistory:null!==G&&void 0!==G&&G.pastMedicalHistory?null===G||void 0===G?void 0:G.pastMedicalHistory:null===de||void 0===de?void 0:de.pastMedicalHistory,medications:null!==e&&void 0!==e&&e.medications?null===e||void 0===e?void 0:e.medications:null!==G&&void 0!==G&&G.medications?null===G||void 0===G?void 0:G.medications:null===de||void 0===de?void 0:de.medications,allergies:null!==e&&void 0!==e&&e.allergies?null===e||void 0===e?void 0:e.allergies:null!==G&&void 0!==G&&G.allergies?null===G||void 0===G?void 0:G.allergies:null===de||void 0===de?void 0:de.allergies,familyHistory:null!==e&&void 0!==e&&e.familyHistory?null===e||void 0===e?void 0:e.familyHistory:null!==G&&void 0!==G&&G.familyHistory?null===G||void 0===G?void 0:G.familyHistory:null===de||void 0===de?void 0:de.familyHistory,socialHistory:null!==e&&void 0!==e&&e.socialHistory?null===e||void 0===e?void 0:e.socialHistory:null!==G&&void 0!==G&&G.socialHistory?null===G||void 0===G?void 0:G.socialHistory:null===de||void 0===de?void 0:de.socialHistory,suspectedDiagnosis:null!==e&&void 0!==e&&e.suspectedDiagnosis?null===e||void 0===e?void 0:e.suspectedDiagnosis:null!==G&&void 0!==G&&G.suspectedDiagnosis?null===G||void 0===G?void 0:G.suspectedDiagnosis:null===de||void 0===de?void 0:de.suspectedDiagnosis,recommendedActions:null!==e&&void 0!==e&&e.recommendedActions?null===e||void 0===e?void 0:e.recommendedActions:null!==G&&void 0!==G&&G.recommendedActions?null===G||void 0===G?void 0:G.recommendedActions:null===de||void 0===de?void 0:de.recommendedActions,signOff:null!==e&&void 0!==e&&e.signOff?null===e||void 0===e?void 0:e.signOff:null!==G&&void 0!==G&&G.signOff?null===G||void 0===G?void 0:G.signOff:null===de||void 0===de?void 0:de.signOff,appointmentAttended:!0,failuretoattendnotes:"",referralTypeId:2,noteId:null!==re&&void 0!==re&&re.noteId?null===re||void 0===re?void 0:re.noteId:0}:null!==re&&void 0!==re&&re.noteId?{appointmentDetailId:0}:null};null!==re&&void 0!==re&&re.noteId?ae((0,V.d9)({finalData:t,onCreateSuccess:me})):ae((0,V.Og)({finalData:t,onCreateSuccess:me})),U(!0)})),children:(0,I.jsx)(n.Z,{children:(0,I.jsx)(o.Z,{xs:12,className:"mb-3",children:(0,I.jsxs)("div",{style:{background:"#F8F8F8",borderRadius:"5px"},className:"px-3 py-3 h-100",children:[(0,I.jsxs)("span",{className:"d-flex justify-content-between",children:[(0,I.jsx)("p",{className:"referral-main-text",style:{color:"#E31E27"},children:"Emergencey Department Letter"}),(null===re||void 0===re?void 0:re.patientId)&&!1===J&&(0,I.jsx)(A.Z,{id:"dropdown-item-button",title:(0,I.jsx)(h.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,I.jsxs)("div",{className:"set-dropdown-menu",children:[(0,I.jsxs)(w.Z.Item,{className:"d-flex align-items-center",children:[(0,I.jsx)(g.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},onClick:()=>{Q(!0),K(!0),U(!1)},children:"Edit"})]}),(0,I.jsx)(w.Z.Item,{className:"d-flex align-items-center",children:(0,I.jsx)(H.ZP,{trigger:(0,I.jsxs)("button",{ref:se,className:"bg-transparent border-0 p-0",children:[(0,I.jsx)(k.bAs,{size:20})," Download PDF"]}),children:(0,I.jsx)(R,{})})}),(0,I.jsxs)(w.Z.Item,{className:"d-flex align-items-center",onClick:()=>{$(null===re||void 0===re?void 0:re.noteId),le(!0)},children:[(0,I.jsx)(F.w6k,{size:18,style:{color:"#FD2121"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#FD2121"},children:"Remove"})]})]})})]}),(0,I.jsx)(s.Z.Check,{type:"checkbox",id:"show-emergency-notes",label:"Show to Patient",onChange:()=>oe(!ne),disabled:!(!0===(null===re||void 0===re?void 0:re.showNote)&&J||!1===(null===re||void 0===re?void 0:re.showNote)&&J)&&!(null===re||void 0===re||!re.noteId),defaultChecked:null===re||void 0===re?void 0:re.showNote}),(0,I.jsxs)(s.Z.Group,{className:"mb-3",controlId:"formBasicLabel3",children:[(0,I.jsx)(s.Z.Label,{className:"label-primary mb-0",children:"Emergency Letter"}),(0,I.jsx)(s.Z.Control,{type:"text",placeholder:"Tiredness",className:"pt-2 custom-field-picker ".concat(B&&"bg-white"),...Y("emergancyDepartmentLetter",{required:!0}),defaultValue:null!==(l=null===re||void 0===re?void 0:re.emergancyDepartmentLetter)&&void 0!==l?l:"",readOnly:(null===re||void 0===re||!re.emergancyDepartmentLetter||!J)&&!(null===re||void 0===re||!re.emergancyDepartmentLetter),maxLength:250})]}),(0,I.jsxs)(s.Z.Group,{className:"mb-3",controlId:"formBasicLabel3",children:[(0,I.jsx)(s.Z.Label,{className:"label-primary mb-0",children:"To"}),(0,I.jsx)(s.Z.Control,{type:"text",placeholder:"Specialist name",className:"pt-2 custom-field-picker ".concat(B&&"bg-white"),...Y("toDoctor",{required:!0}),defaultValue:null!==(i=null===re||void 0===re?void 0:re.toDoctor)&&void 0!==i?i:"",readOnly:(null===re||void 0===re||!re.toDoctor||!J)&&!(null===re||void 0===re||!re.toDoctor),maxLength:250})]}),(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"referralNote",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Referral Notes"}),!1!==ie||null!==re&&void 0!==re&&re.appointmentDetail?"":(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,placeholder:"Referral Note",className:"pt-2 custom-field-picker ".concat(B&&"bg-white"),...Y("referralNote",{required:!0}),defaultValue:null!==(a=null===re||void 0===re?void 0:re.referralNote)&&void 0!==a?a:"",readOnly:(null===re||void 0===re||!re.referralNote||!J)&&!(null===re||void 0===re||!re.referralNote),maxLength:250})]}),(ie||(null===re||void 0===re?void 0:re.appointmentDetail))&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"presentingComplaint",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Presenting Complaint"}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...Y("presentingComplaint"),defaultValue:null!==G&&void 0!==G&&G.presentingComplaint?null===G||void 0===G?void 0:G.presentingComplaint:null!==de&&void 0!==de&&de.presentingComplaint?null===de||void 0===de?void 0:de.presentingComplaint:null!==re&&void 0!==re&&null!==(d=re.appointmentDetail)&&void 0!==d&&d.presentingComplaint?null===re||void 0===re||null===(c=re.appointmentDetail)||void 0===c?void 0:c.presentingComplaint:"N/A",disabled:_})]}),(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"pastMedicalHistory",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Past Medical History"}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...Y("pastMedicalHistory"),defaultValue:null!==G&&void 0!==G&&G.pastMedicalHistory?null===G||void 0===G?void 0:G.pastMedicalHistory:null!==re&&void 0!==re&&null!==(m=re.appointmentDetail)&&void 0!==m&&m.pastMedicalHistory?null===re||void 0===re||null===(u=re.appointmentDetail)||void 0===u?void 0:u.pastMedicalHistory:null!==de&&void 0!==de&&de.pastMedicalHistory?null===de||void 0===de?void 0:de.pastMedicalHistory:"N/A",disabled:_})]}),(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"medications",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Medications"}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...Y("medications"),defaultValue:null!==G&&void 0!==G&&G.medications?null===G||void 0===G?void 0:G.medications:null!==re&&void 0!==re&&null!==(p=re.appointmentDetail)&&void 0!==p&&p.medications?null===re||void 0===re||null===(v=re.appointmentDetail)||void 0===v?void 0:v.medications:null!==de&&void 0!==de&&de.medications?null===de||void 0===de?void 0:de.medications:"N/A",disabled:_})]}),(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"allergies",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Allergies"}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...Y("allergies"),defaultValue:null!==G&&void 0!==G&&G.allergies?null===G||void 0===G?void 0:G.allergies:null!==re&&void 0!==re&&null!==(x=re.appointmentDetail)&&void 0!==x&&x.allergies?null===re||void 0===re||null===(f=re.appointmentDetail)||void 0===f?void 0:f.allergies:null!==de&&void 0!==de&&de.allergies?null===de||void 0===de?void 0:de.allergies:"N/A",disabled:_})]}),(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"familyHistory",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Family History"}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...Y("familyHistory"),defaultValue:null!==G&&void 0!==G&&G.familyHistory?null===G||void 0===G?void 0:G.familyHistory:null!==re&&void 0!==re&&null!==(j=re.appointmentDetail)&&void 0!==j&&j.familyHistory?null===re||void 0===re||null===(N=re.appointmentDetail)||void 0===N?void 0:N.familyHistory:null!==de&&void 0!==de&&de.familyHistory?null===de||void 0===de?void 0:de.familyHistory:"N/A",disabled:_})]}),(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"socialHistory",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Social History"}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...Y("socialHistory"),defaultValue:null!==G&&void 0!==G&&G.socialHistory?null===G||void 0===G?void 0:G.socialHistory:null!==re&&void 0!==re&&null!==(b=re.appointmentDetail)&&void 0!==b&&b.socialHistory?null===re||void 0===re||null===(D=re.appointmentDetail)||void 0===D?void 0:D.socialHistory:null!==de&&void 0!==de&&de.socialHistory?null===de||void 0===de?void 0:de.socialHistory:"N/A",disabled:_})]}),(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"suspectedDiagnosis",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Suspected Diagnosis"}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...Y("suspectedDiagnosis"),defaultValue:null!==G&&void 0!==G&&G.suspectedDiagnosis?null===G||void 0===G?void 0:G.suspectedDiagnosis:null!==re&&void 0!==re&&null!==(C=re.appointmentDetail)&&void 0!==C&&C.suspectedDiagnosis?null===re||void 0===re||null===(L=re.appointmentDetail)||void 0===L?void 0:L.suspectedDiagnosis:null!==de&&void 0!==de&&de.suspectedDiagnosis?null===de||void 0===de?void 0:de.suspectedDiagnosis:"N/A",disabled:_})]}),(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"recommendedActions",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Recommended Actions"}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...Y("recommendedActions"),defaultValue:null!==G&&void 0!==G&&G.recommendedActions?null===G||void 0===G?void 0:G.recommendedActions:null!==re&&void 0!==re&&null!==(M=re.appointmentDetail)&&void 0!==M&&M.recommendedActions?null===re||void 0===re||null===(P=re.appointmentDetail)||void 0===P?void 0:P.recommendedActions:null!==de&&void 0!==de&&de.recommendedActions?null===de||void 0===de?void 0:de.recommendedActions:"N/A",disabled:_})]}),(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"signOff",children:[(0,I.jsx)(s.Z.Label,{className:"mb-0",children:"Sign off"}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...Y("signOff"),defaultValue:null!==G&&void 0!==G&&G.signOff?null===G||void 0===G?void 0:G.signOff:null!==re&&void 0!==re&&null!==(O=re.appointmentDetail)&&void 0!==O&&O.signOff?null===re||void 0===re||null===(T=re.appointmentDetail)||void 0===T?void 0:T.signOff:null!==de&&void 0!==de&&de.signOff?null===de||void 0===de?void 0:de.signOff:"N/A",disabled:_})]})]}),!(null!==re&&void 0!==re&&re.appointmentDetail)&&(0,I.jsx)("div",{className:"d-flex justify-content-end",children:(0,I.jsx)("p",{className:"float-right mb-0",style:{color:"#2269F2",fontWeght:500,fontSize:"18px",cursor:"pointer"},onClick:()=>te(!0),children:"Generate letter with appointment notes"})}),!(null!==re&&void 0!==re&&re.patientId)&&(0,I.jsx)("div",{className:"d-flex justify-content-end",children:(0,I.jsx)(r.Z,{className:"start-apt-btn",type:"submit",children:"Save"})}),(null===re||void 0===re?void 0:re.patientId)&&!0===J&&(0,I.jsx)(r.Z,{className:"mt-2 mb-3 start-apt-btn float-right",type:"submit",children:"Update"})]})})})}),(0,I.jsx)(S.c,{show:ee,onHide:()=>le(!1),heading:"Delete Referral Notes",title:"this refferal notes",removeFunc:function(){const e={noteId:X};ae((0,V.bw)({finalData:e,onCreateDeleteSuccess:ue})),E()}})]})}function E(e){let{slotDescription:l,aptData:i,setAptData:t,setInputFieldValues:n,inputFieldValues:o}=e;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Y,{slotDescription:l,aptData:i,setAptData:t,setInputFieldValues:n,inputFieldValues:o}),(0,I.jsx)(q,{slotDescription:l,aptData:i,setAptData:t,setInputFieldValues:n,inputFieldValues:o})]})}var W=i(2002),B=i(54164),Q=i(36161),_=i(68324);function U(){return{backgroundColor:"#F8F8F8"}}function J(e){let{show:l,onClose:i,data:a,view:d,viewData:m,onCloseView:u}=e;const{register:p,handleSubmit:v,reset:x,setValue:h}=(0,Z.cI)(),[f,j]=(0,t.useState)(null),[g,N]=(0,t.useState)([]),b=JSON.parse(localStorage.getItem("slotDescription")),{MedicationsData:D}=(0,y.v9)((e=>null===e||void 0===e?void 0:e.patientPrescription)),C=(0,y.I0)();function A(){let e={appointmentId:null===b||void 0===b?void 0:b.appointmentId};C((0,_.vY)({finalData:e}))}(0,t.useEffect)((()=>{a&&(h("allergies",(null===a||void 0===a?void 0:a.allergies)||""),h("medicineName",(null===a||void 0===a?void 0:a.medicineName)||""),h("formulation",(null===a||void 0===a?void 0:a.formulation)||""),h("route",(null===a||void 0===a?void 0:a.route)||""),h("dose",(null===a||void 0===a?void 0:a.dose)||""),h("doseFrequency",(null===a||void 0===a?void 0:a.doseFrequency)||""),h("quantity",(null===a||void 0===a?void 0:a.quantity)||""),h("note",(null===a||void 0===a?void 0:a.note)||""))}),[a]),(0,t.useEffect)((()=>{if(null!==f&&void 0!==f&&f.medicineName){const e={medicationName:null===f||void 0===f?void 0:f.medicineName};C((0,_.bT)(e))}}),[C,null===f||void 0===f?void 0:f.medicineName]);const w=e=>{const{name:l,value:i}=e.target;j({...f,[l]:i})};const F=[{dataField:"medicineName",text:"Medicine Name",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Medicine Name"}),(0,I.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.medicineName})]})},{dataField:"doseFrequency",text:"Dose Frequency",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Dose Frequency"}),(0,I.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.doseFrequency})]})},{dataField:"dose",text:"Dose",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Dose"}),(0,I.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.dose})]})},{dataField:"formulation",text:"Formulation",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Formulation"}),(0,I.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.formulation})]})}],S={paginationSize:2,pageStartIndex:1,alwaysShowAllBtns:!0,withFirstAndLast:!1,hideSizePerPage:!0,showTotal:!0,paginationTotalRenderer:(e,l,i)=>(0,I.jsxs)("span",{className:"react-bootstrap-table-pagination-total",children:[(0,I.jsxs)("b",{children:[" ",e," "]})," to ",(0,I.jsx)("b",{children:l})," out of ",(0,I.jsxs)("b",{children:[i," entries"]})]}),disablePageTitle:!0,sizePerPageList:[{text:"2",value:2}]};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(c.Z,{show:l,onHide:i,centered:!0,size:"lg",className:"prescription-modal",backdrop:"static",children:(0,I.jsxs)(s.Z,{onSubmit:v(a?function(e){const l={medicineId:null===a||void 0===a?void 0:a.medicineId,medicineName:null===e||void 0===e?void 0:e.medicineName,doseFrequency:null===e||void 0===e?void 0:e.doseFrequency,dose:null===e||void 0===e?void 0:e.dose,formulation:null===e||void 0===e?void 0:e.formulation,quantity:null===e||void 0===e?void 0:e.quantity,allergies:null===e||void 0===e?void 0:e.allergies,route:null===e||void 0===e?void 0:e.route,note:null===e||void 0===e?void 0:e.note,showPrescription:!1,isPatient:!1};C((0,_.Rn)({finalData:l,onCreateSuccess:A})),i(),N([])}:function(){const e={appointmentId:null===b||void 0===b?void 0:b.appointmentId,patientFormStatusId:null,isConfirmed:!1,medicineList:g};C((0,_.Bc)({finalData:e,onCreateSuccess:A})),i(),N([])}),children:[(0,I.jsx)(c.Z.Header,{closeButton:!0,children:(0,I.jsxs)(c.Z.Title,{className:"prescription-modal-title",children:[a?"":"Add"," Prescription"]})}),(0,I.jsx)(c.Z.Body,{className:"",children:(0,I.jsxs)(n.Z,{className:"custom-prescription-scroll",children:[(0,I.jsx)(o.Z,{xs:12,children:(0,I.jsxs)(s.Z.Group,{className:"mb-3",controlId:"formBasicLabel1",children:[(0,I.jsx)(s.Z.Label,{className:"label-primary mb-0",children:"Allergies"}),(0,I.jsx)(s.Z.Control,{type:"text",placeholder:"Type here",className:"custom-field-picker py-2",...p("allergies"),onChange:w,maxLength:70})]})}),(0,I.jsx)(o.Z,{xs:12,children:(0,I.jsxs)(s.Z.Group,{className:"mb-3",controlId:"formBasicLabel2",children:[(0,I.jsx)(s.Z.Label,{className:"label-primary mb-0",children:"Medication"}),(0,I.jsx)(s.Z.Control,{list:"medicineNameList",type:"text",placeholder:"Type medication here",className:"custom-field-picker py-2",...p("medicineName"),onChange:w,maxLength:70}),(0,I.jsx)("datalist",{id:"medicineNameList",children:null===D||void 0===D?void 0:D.map((e=>(0,I.jsx)("option",{value:null===e||void 0===e?void 0:e.medicationName,children:e.medicationName},null===e||void 0===e?void 0:e.medicationId)))})]})}),(0,I.jsx)(o.Z,{xs:12,children:(0,I.jsxs)(s.Z.Group,{className:"mb-3",controlId:"formBasicLabel3",children:[(0,I.jsx)(s.Z.Label,{className:"label-primary mb-0",children:"Formulation"}),(0,I.jsx)(s.Z.Control,{type:"text",placeholder:"Type formulation here",className:"custom-field-picker py-2",...p("formulation"),onChange:w,maxLength:70})]})}),(0,I.jsx)(o.Z,{xs:6,children:(0,I.jsxs)(s.Z.Group,{className:"mb-3",controlId:"formBasicLabel4",children:[(0,I.jsx)(s.Z.Label,{className:"label-primary mb-0",children:"Route"}),(0,I.jsx)(s.Z.Control,{type:"text",placeholder:"Type route here",className:"custom-field-picker py-2",...p("route"),onChange:w,maxLength:70})]})}),(0,I.jsx)(o.Z,{xs:6,children:(0,I.jsxs)(s.Z.Group,{className:"mb-3",controlId:"formBasicLabel4",children:[(0,I.jsx)(s.Z.Label,{className:"label-primary mb-0",children:"Dose"}),(0,I.jsx)(s.Z.Control,{type:"text",placeholder:"Type dose here",className:"custom-field-picker py-2",...p("dose"),onChange:w})]})}),(0,I.jsx)(o.Z,{xs:6,children:(0,I.jsxs)(s.Z.Group,{className:"mb-3",controlId:"formBasicLabel4",children:[(0,I.jsx)(s.Z.Label,{className:"label-primary mb-0",children:"Frequency"}),(0,I.jsx)(s.Z.Control,{type:"text",placeholder:"Type frequency",className:"custom-field-picker py-2",...p("doseFrequency"),onChange:w,maxLength:70})]})}),(0,I.jsx)(o.Z,{xs:6,children:(0,I.jsxs)(s.Z.Group,{className:"mb-3",controlId:"formBasicLabel4",children:[(0,I.jsx)(s.Z.Label,{className:"label-primary mb-0",children:"Quantity/Duration"}),(0,I.jsx)(s.Z.Control,{type:"text",placeholder:"Type quantity",className:"custom-field-picker py-2",...p("quantity"),onChange:w,maxLength:70})]})}),(0,I.jsx)(o.Z,{xs:12,children:(0,I.jsx)(s.Z.Check,{type:"checkbox",id:"prescription-checkbox",label:"Tick this box if you are prescribing an off licence/off base label medication"})}),(0,I.jsx)(o.Z,{xs:12,children:(0,I.jsxs)("div",{style:{background:"#F0F0F0",borderRadius:"5px"},className:"p-3 mt-2 mb-3",children:[(0,I.jsx)(s.Z.Check,{type:"checkbox",id:"urgent-checkbox",label:"Urgent",className:"mb-2",style:{color:"#999999",fontWeight:400,fontSsize:"16px"}}),(0,I.jsxs)(s.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,I.jsxs)(s.Z.Label,{className:"mb-0",children:["Add Note",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(s.Z.Control,{as:"textarea",rows:2,placeholder:"Note",className:"pt-2 custom-field-picker",...p("note"),onChange:w,maxLength:250})]})]})}),a?null:(0,I.jsx)(o.Z,{xs:12,children:(0,I.jsx)(r.Z,{className:"float-right my-2 prescription-outline-btn",onClick:()=>{f&&(N((e=>[...e,f])),j(null),x())},type:"button",children:"Confirm & Add Item"})}),g.length>0&&(0,I.jsx)(o.Z,{xs:12,children:(0,I.jsx)("div",{className:"custom-table-spacing",children:(0,I.jsx)(W.Z,{keyField:"id",data:g,columns:F,rowStyle:U,bordered:!1,pagination:(0,Q.ZP)(S)})})})]})}),(0,I.jsx)(c.Z.Footer,{className:"d-flex justify-content-center",children:(0,I.jsx)(r.Z,{type:"submit",className:"w-50",style:{background:"#000071"},disabled:g.length<=0&&!a,children:a?"Update Prescription":"Submit Prescription"})})]})}),(0,I.jsxs)(c.Z,{show:d,onHide:u,centered:!0,size:"lg",backdrop:"static",className:"prescription-modal edit-prescription-modal",children:[(0,I.jsx)(c.Z.Header,{closeButton:!0,children:(0,I.jsx)(c.Z.Title,{className:"prescription-modal-title",children:"Prescription"})}),(0,I.jsx)(c.Z.Body,{children:(0,I.jsx)(s.Z,{children:(0,I.jsxs)(n.Z,{children:[(0,I.jsxs)(o.Z,{xs:4,children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Allergies"}),(0,I.jsx)("p",{className:"table-custom-data",children:m?null===m||void 0===m?void 0:m.allergies:"Nill"})]}),(0,I.jsxs)(o.Z,{xs:4,children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Medication"}),(0,I.jsx)("p",{className:"table-custom-data",children:m?null===m||void 0===m?void 0:m.medicineName:"Nill"})]}),(0,I.jsxs)(o.Z,{xs:4,children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Formation"}),(0,I.jsx)("p",{className:"table-custom-data",children:m?null===m||void 0===m?void 0:m.formulation:"Nill"})]}),(0,I.jsxs)(o.Z,{xs:4,children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Route"}),(0,I.jsx)("p",{className:"table-custom-data",children:m?null===m||void 0===m?void 0:m.route:"Nill"})]}),(0,I.jsxs)(o.Z,{xs:4,children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Dose"}),(0,I.jsx)("p",{className:"table-custom-data",children:m?null===m||void 0===m?void 0:m.dose:"Nill"})]}),(0,I.jsxs)(o.Z,{xs:4,children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Frequency"}),(0,I.jsx)("p",{className:"table-custom-data",children:m?null===m||void 0===m?void 0:m.doseFrequency:"Nill"})]}),(0,I.jsxs)(o.Z,{xs:4,children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Quantity"}),(0,I.jsx)("p",{className:"table-custom-data",children:m?null===m||void 0===m?void 0:m.quantity:"Nill"})]}),(0,I.jsxs)(o.Z,{xs:4,children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Note:"}),(0,I.jsx)("p",{className:"table-custom-data",children:m?null===m||void 0===m?void 0:m.note:"Nill"})]})]})})})]})]})}var K=i(52802);function X(){return{backgroundColor:"#F8F8F8"}}function $(e){var l;let{showPresToPatient:i,setShowPresToPatient:n,setPrescriptionIdToPatient:o}=e;const a=(0,y.I0)(),d=(0,y.v9)((e=>{var l;return null===e||void 0===e||null===(l=e.patientPrescription)||void 0===l?void 0:l.PreMedicineData})),c=JSON.parse(localStorage.getItem("slotDescription")),m=(0,y.v9)((e=>null===e||void 0===e?void 0:e.patientPrescription)),u=(0,t.useRef)(null),[p,v]=(0,t.useState)({data:null,show:!1}),[x,f]=(0,t.useState)(!1),[N,b]=(0,t.useState)({data:null,show:!1}),[D,Z]=(0,t.useState)(),C=[{dataField:"medicineName",text:"Medicine Name",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Medicine Name"}),(0,I.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.medicineName})]})},{dataField:"doseFrequency",text:"Dose Frequency",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Dose Frequency"}),(0,I.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.doseFrequency})]})},{dataField:"dose",text:"Dose",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Dose"}),(0,I.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.dose})]})},{dataField:"formulation",text:"Formulation",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Formulation"}),(0,I.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.formulation})]})},{dataField:"action",text:"Action",formatter:(e,l)=>(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(w.Z,{children:[(0,I.jsx)(w.Z.Toggle,{id:"dropdown-item-button1",size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown border-0 bg-transparent",direction:"left",children:(0,I.jsx)(h.FQA,{className:"float-right color-99",size:25})}),B.createPortal((0,I.jsxs)(w.Z.Menu,{children:[(0,I.jsxs)(w.Z.Item,{as:"button",className:"d-flex align-items-center",onClick:()=>b({data:l,show:!0}),children:[(0,I.jsx)(j.w8I,{size:18,style:{color:"#1A1A1A"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},children:"View"})]}),(0,I.jsxs)(w.Z.Item,{as:"button",className:"d-flex align-items-center",onClick:()=>v({data:l,show:!0}),children:[(0,I.jsx)(g.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},children:"Edit"})]}),(0,I.jsxs)(w.Z.Item,{as:"button",className:"d-flex align-items-center",onClick:()=>{Z(l),f(!0)},children:[(0,I.jsx)(F.w6k,{size:18,style:{color:"#FD2121"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#FD2121"},children:"Delete"})]})]}),document.body)]})}),headerAttrs:{hidden:!0}}];function A(){let e={appointmentId:null===c||void 0===c?void 0:c.appointmentId};a((0,_.vY)({finalData:e}))}(0,t.useEffect)((()=>{const e={appointmentId:null===c||void 0===c?void 0:c.appointmentId};a((0,_.vY)({finalData:e}))}),[a,null===c||void 0===c?void 0:c.appointmentId]);let L=[];var M;null!==d&&void 0!==d&&d.medicineList&&(null===d||void 0===d||null===(M=d.medicineList)||void 0===M||M.forEach((e=>{null!==e&&void 0!==e&&e.medicineList&&L.push(...e.medicineList)})));const P={paginationSize:2,pageStartIndex:1,alwaysShowAllBtns:!0,withFirstAndLast:!1,hideSizePerPage:!0,showTotal:!0,paginationTotalRenderer:(e,l,i)=>(0,I.jsxs)("span",{className:"react-bootstrap-table-pagination-total",children:[(0,I.jsxs)("b",{children:[" ",e," "]})," to ",(0,I.jsx)("b",{children:l})," out of ",(0,I.jsxs)("b",{children:[i," entries"]})]}),disablePageTitle:!0,sizePerPageList:[{text:"2",value:2}]};return(0,I.jsxs)(I.Fragment,{children:[(null===d||void 0===d||null===(l=d.medicineList)||void 0===l?void 0:l.length)<=0||void 0===(null===d||void 0===d?void 0:d.medicineList)?(0,I.jsx)("div",{className:"d-flex justify-content-center",children:(0,I.jsx)(r.Z,{className:"prescription-btn px-4 d-flex justify-content-center",onClick:()=>v({data:null,show:!0}),children:"Create Prescription"})}):(0,I.jsxs)("div",{className:"custom-table-spacing",children:[(0,I.jsx)(s.Z,{children:(0,I.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,I.jsx)(s.Z.Check,{type:"checkbox",id:"show-prescription",label:"Show Prescription to Patient",onChange:()=>{var e;n(!i),o(null===m||void 0===m||null===(e=m.PreMedicineData)||void 0===e?void 0:e.prescriptionId)}}),(0,I.jsx)(H.ZP,{trigger:(0,I.jsxs)("button",{type:"button",ref:u,className:"border-0 px-3 py-2 rounded-2",children:[(0,I.jsx)(k.bAs,{size:20})," Download PDF"]}),children:(0,I.jsx)(K.Z,{prescriptionData:d})})]})}),(0,I.jsx)(W.Z,{keyField:"medicineId",data:null===d||void 0===d?void 0:d.medicineList,columns:C,bordered:!1,rowStyle:X,wrapperClasses:"table-responsive",pagination:(0,Q.ZP)(P)}),(0,I.jsx)("p",{className:"float-right text-cursor-pointer",style:{color:"#2269F2",fontWeght:500,fontSize:"18px",cursor:"pointer"},onClick:()=>v({data:null,show:!0}),children:"+ Add Prescription"})]})," ",(0,I.jsx)(J,{data:p.data,show:p.show,view:N.show,viewData:N.data,onCloseView:()=>b({show:!1,data:null}),onClose:()=>v({show:!1,data:null}),slotDescription:c}),(0,I.jsx)(S.c,{show:x,onHide:()=>f(!1),heading:"Delete Prescription",title:"the prescription",removeFunc:function(){const e={medicineId:null===D||void 0===D?void 0:D.medicineId};a((0,_.w4)({finalData:e,onCreateSuccess:A}))}})]})}var ee=i(82573),le=i(84373);function ie(){var e,l,i,v,x,h,f,j,g,N;const D=JSON.parse(localStorage.getItem("family_doc_app")),{register:A,handleSubmit:w}=(0,Z.cI)(),[F,S]=(0,t.useState)({data:null,show:!1}),[H,k]=(0,t.useState)(!1),[L,P]=(0,t.useState)(!0),[V,G]=(0,t.useState)(!1),[Y,R]=(0,t.useState)(),[q,W]=(0,t.useState)({}),B=(0,y.v9)((e=>{var l,i;return null===e||void 0===e||null===(l=e.patientPrescription)||void 0===l||null===(i=l.PreMedicineData)||void 0===i?void 0:i.medicineList})),[Q,U]=(0,t.useState)({presentingComp:"",presentingCompHistory:"",pastMedicalHistory:"",medications:"",allergies:"",familyHistory:"",socialHistory:"",suspectedDiagnosis:"",recommendedActions:"",signOff:""}),{patientPharmacy:K}=(0,y.v9)((e=>e)),X=(0,p.s0)(),{patientPharmacyData:ie}=(0,y.v9)((e=>null===e||void 0===e?void 0:e.patientPharmacy)),{getAptDetails:te}=(0,y.v9)((e=>null===e||void 0===e?void 0:e.appointmentDetails));console.log("checkbox",te);const ne=(0,y.v9)((e=>e)),oe=()=>{k(!1)},se=JSON.parse(localStorage.getItem("slotDescription")),ae=(0,y.I0)();(0,t.useEffect)((()=>{const e={userId:null===D||void 0===D?void 0:D.userId};ae((0,T.PR)(e))}),[ae,null===D||void 0===D?void 0:D.userId]),(0,t.useEffect)((()=>{const e={patientId:null===se||void 0===se?void 0:se.patientId,appointmentId:null===se||void 0===se?void 0:se.appointmentId};ae((0,z.gS)(e))}),[ae]);const de=()=>{const e={patientId:null===D||void 0===D?void 0:D.userId,month:+b()(new Date).format("M")};ae((0,z.Qe)(e)),X(u.m.APPOINTMENT)};function re(){const e={appointmentId:null===se||void 0===se?void 0:se.appointmentId,statusId:206};ae((0,z.qQ)({finalData:e,moveToNext:de}))}return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:"appointment-notes",children:[(0,I.jsx)(n.Z,{children:(0,I.jsxs)(o.Z,{xs:12,className:"appointment-notes-accordion px-0",children:[(0,I.jsx)(s.Z.Check,{type:"checkbox",id:"patient-attended-checkbox",label:"Patient attended appointment",defaultChecked:!1===(null===te||void 0===te||null===(e=te.data)||void 0===e?void 0:e.appointmentAttended)||L,onChange:e=>{P(e.target.checked)},className:"mb-2",disabled:!(null===te||void 0===te||null===(l=te.data)||void 0===l||!l.failuretoattendnotes)||!0===(null===te||void 0===te||null===(i=te.data)||void 0===i?void 0:i.appointmentAttended)}),(0,I.jsx)(a.Z,{className:"mb-3",children:(0,I.jsx)(a.Z.Body,{className:"mx-0 p-0",children:(0,I.jsx)(d.Z,{defaultActiveKey:"0",children:(0,I.jsxs)(d.Z.Item,{eventKey:"0",children:[(0,I.jsx)(d.Z.Header,{children:"Appointment Detail"}),(0,I.jsx)(d.Z.Body,{className:"py-4 px-5",children:(0,I.jsx)(C,{checkedApt:L,setInputFieldValues:U,inputFieldValues:Q})})]})})})}),L&&!(null!==te&&void 0!==te&&null!==(v=te.data)&&void 0!==v&&v.failuretoattendnotes)&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(a.Z,{className:"mb-3",children:(0,I.jsx)(a.Z.Body,{className:"mx-0 p-0",children:(0,I.jsx)(d.Z,{children:(0,I.jsxs)(d.Z.Item,{eventKey:"1",children:[(0,I.jsx)(d.Z.Header,{children:"Clinical Notes"}),(0,I.jsx)(d.Z.Body,{className:"mx-4",children:(0,I.jsx)(O,{slotDescription:se})})]})})})}),(0,I.jsx)(a.Z,{className:"mb-3",children:(0,I.jsx)(a.Z.Body,{className:"mx-0 p-0",children:(0,I.jsx)(d.Z,{children:(0,I.jsxs)(d.Z.Item,{eventKey:"1",children:[(0,I.jsxs)(d.Z.Header,{children:[(0,I.jsx)("img",{src:m.Z.PRESCRIPTION_ICON,alt:"prescription icon",className:"me-3 color-dk-blue"}),"Prescription"]}),(0,I.jsx)(d.Z.Body,{className:"mx-4",children:(0,I.jsx)($,{slotDescription:se,showPresToPatient:V,setShowPresToPatient:G,setPrescriptionIdToPatient:R})})]})})})}),(0,I.jsx)(a.Z,{className:"mb-3",children:(0,I.jsx)(a.Z.Body,{className:"mx-0 p-0",children:(0,I.jsx)(d.Z,{children:(0,I.jsxs)(d.Z.Item,{eventKey:"2",children:[(0,I.jsxs)(d.Z.Header,{children:[(0,I.jsx)("img",{src:m.Z.REFERRAL_ICON,alt:"referral icon",className:"me-3 color-dk-blue"}),"Referral"]}),(0,I.jsx)(d.Z.Body,{className:"py-4 px-5",children:(0,I.jsx)(E,{slotDescription:se,aptData:q,setAptData:W,inputFieldValues:Q||(null===ne||void 0===ne||null===(x=ne.createAppointmentDetails)||void 0===x?void 0:x.data),setInputFieldValues:U})})]})})})}),(0,I.jsx)(a.Z,{className:"mb-3",children:(0,I.jsx)(a.Z.Body,{className:"mx-0 p-0",children:(0,I.jsx)(d.Z,{children:(0,I.jsxs)(d.Z.Item,{eventKey:"3",children:[(0,I.jsxs)(d.Z.Header,{children:[(0,I.jsx)("img",{src:m.Z.MEDICAL_CERTIFICATE_ICON,alt:"medical certificate icon",className:"me-3 color-dk-blue"}),(0,I.jsx)("span",{style:{color:"#44BC19"},children:"Medical Certificate"})]}),(0,I.jsx)(d.Z.Body,{className:"py-4 px-5",children:(0,I.jsx)(M,{slotDescription:se,aptData:q,setAptData:W,inputFieldValues:Q||(null===ne||void 0===ne||null===(h=ne.createAppointmentDetails)||void 0===h?void 0:h.data),setInputFieldValues:U})})]})})})})]}),(0,I.jsx)(r.Z,{className:"mt-4 start-apt-btn float-right px-5",onClick:()=>{k(!0),!0===V&&function(){const e={prescriptionId:Y};ae((0,_.Po)({finalData:e}))}()},children:"Save appointment notes"})]})}),(0,I.jsxs)(c.Z,{show:H,onHide:oe,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"appointment-modal",backdrop:"static",children:[(0,I.jsx)(c.Z.Header,{closeButton:!0,className:"font-weight-600",style:{fontSize:"18px"}}),(0,I.jsx)(c.Z.Body,{children:(0,I.jsx)("div",{className:"d-flex justify-content-center flex-column mx-5 mb-3",children:!1===L||!1===(null===te||void 0===te||null===(f=te.data)||void 0===f?void 0:f.appointmentAttended)?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:"d-flex justify-content-center ",children:(0,I.jsx)("img",{src:m.Z.NOTES_COMPLETED_ICON,alt:"Notes Completed Icon"})}),(0,I.jsxs)("div",{className:"my-3",children:[(0,I.jsx)("h3",{className:"text-center w-50 m-auto font-weight-600",children:"Notes Completed"}),(0,I.jsx)("p",{className:"text-center mt-3 mb-4",children:"You have successfully completed appointments notes"})]}),(0,I.jsx)("span",{className:"d-flex justify-content-center",children:(0,I.jsxs)(r.Z,{className:"start-apt-btn d-flex align-items-center",onClick:()=>re(),children:[(0,I.jsx)(le.u1R,{className:"me-3",size:20,style:{color:"#fff"}}),(0,I.jsx)("p",{className:"mb-0",children:"Back to appointments"})]})})]}):(null===B||void 0===B?void 0:B.length)<=0||void 0===B?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{className:"mb-0 font-weight-600 text-center",style:{fontSize:"20px"},children:"Please create Prescription to Complete the Appointment Notes"}),(0,I.jsx)("div",{className:"d-flex justify-content-center",children:(0,I.jsx)(r.Z,{className:"start-apt-btn d-flex border-0 px-5 mt-5",onClick:()=>{oe(),S({data:null,show:!0})},children:"Create"})})]}):(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(s.Z,{onSubmit:w((function(e){const l={email:null!==ie&&void 0!==ie&&ie.pharmacyEmail?null===ie||void 0===ie?void 0:ie.pharmacyEmail:null===e||void 0===e?void 0:e.pharmacyEmail,appointmentId:null===se||void 0===se?void 0:se.appointmentId,patientFormStatusId:null};ae((0,ee.Tf)({finalData:l,appointmentStatus:re}))})),children:[(0,I.jsx)(s.Z.Label,{className:"mb-0 font-weight-600",style:{fontSize:"20px"},children:"Do you want to Email a Prescription to the Patient?"}),(0,I.jsx)(s.Z.Group,{className:"mt-4",children:(0,I.jsx)(s.Z.Control,{type:"email",size:"lg",placeholder:"Pharmacy Email",...A("pharmacyEmail"),defaultValue:null!==(j=null===K||void 0===K||null===(g=K.patientPharmacyData)||void 0===g?void 0:g.pharmacyEmail)&&void 0!==j?j:"",maxLength:250,disabled:null===K||void 0===K||null===(N=K.patientPharmacyData)||void 0===N?void 0:N.pharmacyEmail})}),(0,I.jsxs)("div",{className:"mt-5 d-flex justify-content-center",children:[(0,I.jsx)(r.Z,{className:"d-flex align-items-center me-4 font-weight-600 px-5",onClick:()=>re(),style:{background:"transparent",color:"#000071",fontSize:"18px",border:"1px solid #000071"},children:(0,I.jsx)("p",{className:"mb-0",children:"No"})}),(0,I.jsx)(r.Z,{type:"submit",className:"start-apt-btn d-flex align-items-center border-0 px-5",children:"Yes"})]})]})})})})]})]}),F&&(0,I.jsx)(J,{show:F.show,onClose:()=>S({show:!1,data:null}),slotDescription:se})]})}}}]);
//# sourceMappingURL=6979.c1e0ecc7.chunk.js.map