"use strict";(self.webpackChunkfamily_doc_app=self.webpackChunkfamily_doc_app||[]).push([[3870],{45793:(e,s,l)=>{l.d(s,{Z:()=>i});var a=l(29086);const i=async e=>{try{const s=await a.Z.post("/digitalOcean/post",e);return null===s||void 0===s?void 0:s.data}catch(s){return s}}},17505:(e,s,l)=>{l.d(s,{c:()=>n});var a=l(3810),i=l(80184);function n(e){return(0,i.jsx)("div",{className:"error-message-field-generic",children:(0,i.jsx)("p",{className:"my-1",children:e.message?e.message:a.p.SYSTEM_ERROR})})}},52179:(e,s,l)=>{l.d(s,{Z:()=>k});var a=l(72791),i=l(47022),n=l(61734),o=l(89743),r=l(2677),t=l(36957),d=l(56355),c=l(57689),m=l(79474),u=l(41578),x=l(85880),h=l(65413),p=l(43360),v=l(36638),g=l(73683),f=l(45793),j=l(3810),N=l(80184);function y(e){let{eventKey:s,setImageUrl:l,imageUrl:a,setIsEditing:i,setLoading:n,loading:o,getUserData:r}=e;const t=JSON.parse(localStorage.getItem("family_doc_app")),y=(0,h.Z)().get("profile"),b=(0,c.s0)();return(0,N.jsx)("div",{className:"tab__content-header",children:(0,N.jsxs)("div",{className:"h-100 d-flex justify-content-between ",children:[(0,N.jsxs)("div",{className:"position-relative",children:[(0,N.jsx)("div",{className:"user__outer-section",children:o?(0,N.jsx)("div",{className:"h-100 d-flex align-items-center justify-content-center",style:{background:"#000071",borderRadius:"50%"},children:(0,N.jsx)(m.Z,{color:"#F26522",size:30})}):(0,N.jsx)("img",{src:(null===a||void 0===a?void 0:a.baseUrl)||(null===r||void 0===r?void 0:r.imageUrl)||"https://ui-avatars.com/api/?name=".concat("".concat(encodeURIComponent(null===r||void 0===r?void 0:r.firstName),"+").concat(encodeURIComponent(null===r||void 0===r?void 0:r.lastName))||encodeURIComponent(null===r||void 0===r?void 0:r.name),"&background=000071&color=fff"),alt:"".concat((null===r||void 0===r?void 0:r.name)||"".concat(null===r||void 0===r?void 0:r.firstName," ").concat(null===r||void 0===r?void 0:r.lastName),"'s avatar"),srcSet:""})}),"personalInfo"===s&&"info"!==y&&(0,N.jsxs)("div",{className:"position-relative profile__upload-btns",style:{top:"1.5rem",left:"12rem"},children:[(0,N.jsxs)(p.Z,{className:"profile__change-btn border-0 px-4 h-100",children:[(0,N.jsx)("label",{htmlFor:"profile-pic",className:"d-none d-sm-block",children:"Change"}),(0,N.jsx)(u.rtw,{size:22,className:"d-sm-none"}),(0,N.jsx)(v.Z.Control,{onChange:e=>(async e=>{let s=e.target.files[0];if(s){const e=s.name.lastIndexOf("."),a=s.name.slice(0,e),i=s.name.slice(e+1,s.name.length);(0,g.ZP)(s).then((e=>{n(!0);const s={name:a,base64:e,fileExtension:"".concat(i)};(0,f.Z)(s).then((e=>{e&&(l(e),n(!1))}))}))}})(e),type:"file",id:"profile-pic",name:"profilePicture",accept:"image/*"})]}),(0,N.jsxs)(p.Z,{className:"profile__remove-btn border-0 px-4 ms-3 h-100",onClick:()=>l(""),children:[(0,N.jsx)(x.kre,{size:22,style:{color:"#FD2121"},className:"d-sm-none"}),(0,N.jsx)("span",{className:"d-none d-sm-block",children:"Remove"})]})]})]}),"personalInfo"===s&&"info"===y&&(0,N.jsx)("div",{className:"d-flex align-items-end pb-4 pe-4 rm__position-alignment",children:(0,N.jsxs)("button",{type:"button",className:"btn text-decoration-none profile__edit-btn bg-white d-flex px-3 py-2",onClick:()=>{const e=3===(null===t||void 0===t?void 0:t.roleId)?"".concat(null===j.m||void 0===j.m?void 0:j.m.PATIENT_PROFILE,"?profile=edit"):"".concat(null===j.m||void 0===j.m?void 0:j.m.PROFILE,"?profile=edit");b(e),i(!1)},children:[(0,N.jsx)(d.fmQ,{className:"me-2",size:"22"}),(0,N.jsx)("span",{children:"Edit"})]})})]})})}var b=l(84373),_=l(59434),Z=l(34740),I=l(16115),S=l(36455),w=l(38713);function k(e){var s;let{navEventLinks:l,setImageUrl:d,imageUrl:c,setIsEditing:m,loading:u,setLoading:x,getUserData:h,onNavClick:p,deleteAccount:v,children:g}=e;const[f,j]=(0,a.useState)(!1),k=JSON.parse(localStorage.getItem("family_doc_app"))||{},A=(0,_.I0)(),P=()=>{(0,Z.ZK)().then((e=>{const s={userId:null===k||void 0===k?void 0:k.userId,deviceId:e||""};A((0,I.TX)(s))}))};const C=null===l||void 0===l?void 0:l.filter((e=>"deleteAcc"!==(null===e||void 0===e?void 0:e.key))),E=null===l||void 0===l?void 0:l.find((e=>"deleteAcc"===(null===e||void 0===e?void 0:e.key)));return(0,N.jsxs)("div",{className:"personal__profile-layout",children:[(0,N.jsx)(i.Z,{fluid:!0,children:(0,N.jsx)(n.Z.Container,{id:"left-tabs-example",defaultActiveKey:null===(s=l[0])||void 0===s?void 0:s.key,children:(0,N.jsxs)(o.Z,{className:"gy-2 gx-4 h-100",children:[(0,N.jsx)(r.Z,{lg:3,children:(0,N.jsxs)(t.Z,{variant:"pills",className:"flex-column p-3 tabs_panel",children:[null===C||void 0===C?void 0:C.map((e=>(0,N.jsx)(t.Z.Item,{children:(0,N.jsx)(t.Z.Link,{eventKey:null===e||void 0===e?void 0:e.key,onClick:()=>p(null===e||void 0===e?void 0:e.key),className:"cursor-pointer",children:(0,N.jsxs)("span",{className:"d-flex justify-content-between align-items-center",children:[null===e||void 0===e?void 0:e.name,(0,N.jsx)(b.hjJ,{className:"float-right Arrow-ForwardIcon"})]})})},null===e||void 0===e?void 0:e.key))),E&&(0,N.jsx)(t.Z.Item,{children:(0,N.jsx)(t.Z.Link,{onClick:()=>{return e=null===E||void 0===E?void 0:E.key,void(v?j(!0):p(e));var e},children:(0,N.jsx)("span",{className:"d-flex justify-content-between align-items-center",style:{color:v?"#E31E27":"inherit"},children:null===E||void 0===E?void 0:E.name})})})]})}),(0,N.jsx)(r.Z,{lg:9,children:(0,N.jsx)(n.Z.Content,{children:a.Children.map(g,(e=>(0,N.jsxs)(n.Z.Pane,{eventKey:e.props.eventKey,children:[(0,N.jsx)(y,{eventKey:e.props.eventKey,setImageUrl:d,imageUrl:c,setIsEditing:m,loading:u,setLoading:x,getUserData:h}),e]})))})})]})})}),(0,N.jsx)(w.c,{show:f,onHide:()=>j(!1),heading:"Delete Account",title:"your account",removeFunc:function(){const e={id:null===k||void 0===k?void 0:k.userId};A((0,S.ib)({finalData:e,logoutAccount:P}))}})]})}},38713:(e,s,l)=>{l.d(s,{c:()=>r});l(72791);var a=l(88135),i=l(43360),n=l(39126),o=l(80184);function r(e){return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(a.Z,{show:e.show,onHide:e.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"appointment-modal",children:[(0,o.jsx)(a.Z.Header,{closeButton:!0}),(0,o.jsxs)(a.Z.Body,{children:[(0,o.jsx)("div",{className:"d-flex justify-content-center",children:(0,o.jsx)("div",{className:"p-4 rounded-circle m-auto",style:{background:"#EDEAFD"},children:(0,o.jsx)(n.yvY,{className:"fw-bold",size:"24",style:{color:"#000071"}})})}),(0,o.jsx)("h3",{className:"text-center mx-auto mt-4",style:{fontWeight:600},children:e.heading}),(0,o.jsxs)("p",{className:"text-center mt-3 mb-4",children:["Are you sure you want to delete ",e.title,"?"]}),(0,o.jsx)("span",{className:"d-flex justify-content-center",children:(0,o.jsx)(i.Z,{style:{background:"#FD2121",border:"none"},className:"px-4 mb-3",onClick:()=>{e.removeFunc(),e.onHide()},children:"Delete"})})]})]})})}},65413:(e,s,l)=>{l.d(s,{Z:()=>n});var a=l(72791),i=l(57689);function n(){const{search:e}=(0,i.TH)();return a.useMemo((()=>new URLSearchParams(e)),[e])}},3870:(e,s,l)=>{l.r(s),l.d(s,{default:()=>U});var a=l(72791),i=l(59434),n=l(80591),o=l(65413),r=l(52179),t=l(89743),d=l(2677),c=l(36638),m=l(43360),u=l(17505),x=l(61134),h=l(51276),p=l.n(h),v=l(9897),g=l(56355),f=l(73683),j=l(45793),N=l(76053),y=l(78820),b=l(82962),_=l(3810),Z=l(57689),I=l(80184);function S(){const{handleSubmit:e}=(0,x.cI)(),[s,l]=(0,a.useState)(!0),[o,r]=(0,a.useState)(null),[t,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(),[S,w]=(0,a.useState)(),k=(0,a.useRef)({}),A=(0,i.I0)(),P=JSON.parse(localStorage.getItem("family_doc_app")),{getUserData:C}=(0,i.v9)((e=>(null===e||void 0===e?void 0:e.userRole)||"")),E=(0,Z.s0)(),L=e=>{e||l(!s)},U=e=>{E("".concat(_.m.PROFILE,"?profile=info"));const s={userId:null===P||void 0===P?void 0:P.userId},l=F(s,e);localStorage.setItem("family_doc_app",JSON.stringify(l)),A((0,n.PR)(s))},F=(e,s)=>{var l;const a=JSON.parse(localStorage.getItem("family_doc_app"))||{};a.doctorSignature=!(null===s||void 0===s||null===(l=s.data)||void 0===l||!l.doctorSignature);return{...a,doctorSignature:!0}};return(0,I.jsxs)("div",{className:"px-5 py-4",children:[(0,I.jsx)("h5",{className:"fw-bold",children:"Signature"}),(0,I.jsxs)(c.Z,{onSubmit:e((function(){const e={doctorId:null===P||void 0===P?void 0:P.userId,doctorSignature:o?null===o||void 0===o?void 0:o.keyName:null===t||void 0===t?void 0:t.keyName};A((0,b.V5)({signatureURL:e,moveToNext:U}))})),children:[(0,I.jsx)(c.Z.Check,{type:"checkbox",id:"upload-picture",label:"Upload Picture",onChange:()=>L(s),checked:s,disabled:null===C||void 0===C?void 0:C.doctorSignature}),(0,I.jsx)(c.Z.Check,{type:"checkbox",id:"signature-pad",label:"Signature Pad",onChange:()=>L(!s),checked:!s,disabled:null===C||void 0===C?void 0:C.doctorSignature}),(0,I.jsx)("div",{className:"border py-4 rounded upload_pic",children:s?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("label",{htmlFor:"signature-upload",className:"text-center w-100 pt-1",children:[(0,I.jsx)("img",{className:"mb-2 upload-icon color-dk-blue",src:v.Z.UPLOAD_ICON,alt:"upload file"}),(0,I.jsx)("p",{className:"upload-text mb-1",children:"Upload a file"}),(0,I.jsx)("p",{className:"upload-text_small mb-0",children:"PNG, JPG, JPEG upto 2MB"})]}),(0,I.jsx)("input",{size:"small",type:"file",id:"signature-upload",name:"signature-upload",accept:"image/png, image/jpeg",onChange:e=>{(async e=>{let s=e.target.files[0];if(h(s),s){const e=s.name.lastIndexOf("."),l=s.name.slice(0,e),a=s.name.slice(e+1,s.name.length);(0,f.ZP)(s).then((e=>{const s={name:l,base64:e,fileExtension:"".concat(a)};(0,j.Z)(s).then((e=>{e&&d(e)}))}))}})(e)}}),(0,I.jsx)("div",{className:"my-3",children:(null===u||void 0===u?void 0:u.name)&&(0,I.jsxs)("div",{className:"d-flex align-items-center mx-3",children:[(0,I.jsx)(N.hF6,{size:30,style:{color:"#745DED"}}),(0,I.jsx)("h6",{className:"file-name mb-0 ms-2",children:null===u||void 0===u?void 0:u.name}),(0,I.jsx)("span",{className:"mx-3",children:(0,I.jsx)(y.oHP,{size:18,onClick:()=>{h(null),document.getElementById("signature-upload").value=null}})})]})})]}):(0,I.jsxs)("div",{className:"w-100",children:[(0,I.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,I.jsx)(p(),{ref:k,canvasProps:{className:"signatureCanvas rounded border me-3"}}),o?(0,I.jsx)("div",{className:"d-flex align-items-end",children:(0,I.jsx)("img",{src:null===o||void 0===o?void 0:o.baseUrl,alt:"my signature",style:{display:"block",border:"1px solid black",width:"150px",height:"100px"}})}):null]}),(0,I.jsxs)("div",{className:"mt-2 d-flex justify-content-center",children:[(0,I.jsxs)(m.Z,{onClick:()=>{const e=k.current.getTrimmedCanvas().toDataURL("image/png");e.substring(11,e.indexOf(";base64"));const s=e.split(";")[0].split("/")[1];w(!0);const l={name:"signatureImage",base64:e,fileExtension:"".concat(s)};(0,j.Z)(l).then((e=>{e&&(r(e),w(!1))}))},style:{background:"#000071"},className:"me-2",children:[(0,I.jsx)(g.wEH,{})," Add Signature"]}),(0,I.jsx)(m.Z,{onClick:()=>r(k.current.clear()),type:"button",style:{background:"#000071"},children:"Clear"})]})]})}),(0,I.jsx)("div",{className:"w-100 d-flex justify-content-end mt-3",children:(0,I.jsx)(m.Z,{style:{background:"#000071"},type:"submit",disabled:!o&&!u,children:"Save"})})]})]})}var w=l(16115),k=l(75737),A=l.n(k);l(98404);function P(e){let{profileQuery:s,imageUrl:l,setProfileImage:o,setIsEditing:r,loading:h}=e;const{register:p,handleSubmit:v,formState:{errors:g}}=(0,x.cI)(),f=JSON.parse(localStorage.getItem("family_doc_app"))||{},{getUserData:j,isLoading:N,isSuccess:y,isError:b}=(0,i.v9)((e=>e.userRole)),[k,P]=(0,a.useState)(null===j||void 0===j?void 0:j.phoneNumber),C=(0,i.I0)(),E=(0,Z.s0)(),L=e=>{r(!0);const s={userId:null===f||void 0===f?void 0:f.userId};null!==f&&void 0!==f&&f.userId&&f[f.userId]&&(f[f.userId].imageUrl=null===e||void 0===e?void 0:e.imageUrl,localStorage.setItem("auth",JSON.stringify(f))),C((0,n.PR)(s)),E("".concat(_.m.PROFILE,"?profile=info")),o({imageUrl:l,userName:"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null===e||void 0===e?void 0:e.lastName)})};return(0,I.jsx)("div",{className:"profile__edit-section",children:N?(0,I.jsx)("p",{className:"my-5 text-center fst-italic",style:{color:"#999999"},children:"Loading..."}):y?(0,I.jsxs)(I.Fragment,{children:["edit"===s&&(0,I.jsxs)(c.Z,{onSubmit:v((function(e){const s={userId:null===f||void 0===f?void 0:f.userId,roleId:null===f||void 0===f?void 0:f.roleId,firstName:e.firstName,lastName:e.lastName,genderId:+e.genderName,speciality:e.speciality,email:e.email,phoneNumber:k||(null!==j&&void 0!==j&&j.phoneNumber?null===j||void 0===j?void 0:j.phoneNumber:""),mcrn:e.mcrn,currentAddress:e.currentAddress,image:null!==l&&void 0!==l&&l.keyName?null===l||void 0===l?void 0:l.keyName:null!==j&&void 0!==j&&j.image?null===j||void 0===j?void 0:j.image:"",doctorSignatureKey:null===j||void 0===j?void 0:j.doctorSignatureKey};C((0,n.Nq)({finalData:s,onCreateSuccess:L,callBackFunc:()=>{C((0,w.hj)())}}))})),children:[(0,I.jsxs)(t.Z,{className:"gy-4 gx-5 mt-4",children:[(0,I.jsxs)(d.Z,{xl:4,sm:6,children:[(0,I.jsx)(c.Z.Label,{className:"profile__field-label",style:{color:"#1A1A1A"},children:"First Name"}),(0,I.jsx)(c.Z.Control,{name:"firstName",type:"text",placeholder:"John Smith",...p("firstName"),defaultValue:null===j||void 0===j?void 0:j.firstName}),g.firstName&&(0,I.jsx)(u.c,{message:"This Field is Required"})]}),(0,I.jsxs)(d.Z,{xl:4,sm:6,children:[(0,I.jsx)(c.Z.Label,{className:"profile__field-label",style:{color:"#1A1A1A"},children:"Last Name"}),(0,I.jsx)(c.Z.Control,{name:"lastName",type:"text",placeholder:"John Smith",...p("lastName"),defaultValue:null===j||void 0===j?void 0:j.lastName}),g.lastName&&(0,I.jsx)(u.c,{message:"This Field is Required"})]}),(0,I.jsxs)(d.Z,{xl:4,sm:6,children:[(0,I.jsx)(c.Z.Label,{className:"profile__field-label",style:{color:"#1A1A1A"},children:"Gender"}),(0,I.jsxs)(c.Z.Select,{name:"genderName",className:"Select-Dropdown-Sizing",...p("genderName"),defaultValue:null===j||void 0===j?void 0:j.genderName,children:[(0,I.jsx)("option",{value:101,children:"Male"}),(0,I.jsx)("option",{value:102,children:"Female"}),(0,I.jsx)("option",{value:103,children:"Other"})]}),g.genderName&&(0,I.jsx)(u.c,{message:"This Field is Required"})]}),(0,I.jsxs)(d.Z,{xl:4,sm:6,children:[(0,I.jsx)(c.Z.Label,{className:"profile__field-label",style:{color:"#1A1A1A"},children:"Email"}),(0,I.jsx)(c.Z.Control,{name:"email",type:"email",placeholder:"patient@gmail.com",...p("email",{pattern:/^[^@ ]+@[^@ ]+\.[^@ .]{2,}$/}),defaultValue:null===j||void 0===j?void 0:j.email}),g.email&&(0,I.jsx)(u.c,{message:"This Field is Required"})]}),(0,I.jsxs)(d.Z,{xl:4,sm:6,children:[(0,I.jsx)(c.Z.Label,{className:"profile__field-label",style:{color:"#1A1A1A"},children:"Phone Number"}),(0,I.jsx)(A(),{country:"ie",className:"Phone-Number-FieldWidth border rounded",value:null===j||void 0===j?void 0:j.phoneNumber,onChange:e=>P("+".concat(e))}),g.phoneNumber&&(0,I.jsx)(u.c,{message:"This Field is Required"})]}),(0,I.jsxs)(d.Z,{xl:4,sm:6,children:[(0,I.jsx)(c.Z.Label,{className:"profile__field-label",style:{color:"#1A1A1A"},children:"Medical Council Number"}),(0,I.jsx)(c.Z.Control,{name:"mcrn",type:"text",placeholder:"788 988 98 888",...p("mcrn"),defaultValue:null===j||void 0===j?void 0:j.mcrn}),g.mcrn&&(0,I.jsx)(u.c,{message:"This Field is Required"})]}),(0,I.jsxs)(d.Z,{lg:8,children:[(0,I.jsx)(c.Z.Label,{className:"profile__field-label",style:{color:"#1A1A1A"},children:"Address"}),(0,I.jsx)(c.Z.Control,{name:"currentAddress",type:"text",placeholder:"4517 Washington Ave. Manchester, Kentucky 39495",className:"Address-Input-Height w-100",...p("currentAddress"),defaultValue:null===j||void 0===j?void 0:j.currentAddress}),g.currentAddress&&(0,I.jsx)(u.c,{message:"This Field is Required"})]}),(0,I.jsx)(d.Z,{lg:4,className:"d-flex align-items-end",children:(0,I.jsxs)("span",{className:"d-flex ".concat(null!==j&&void 0!==j&&j.doctorSignature?"color-99":""),children:[(0,I.jsx)("p",{className:"mb-0 text-decoration-underline text-cursor-pointer ".concat(null!==j&&void 0!==j&&j.doctorSignature?"disabled":""),onClick:()=>{null!==j&&void 0!==j&&j.doctorSignature||E("".concat(_.m.PROFILE,"?profile=signature"))},children:"Upload Signature"}),(0,I.jsx)("span",{style:{color:"#FF3A3A"},children:"*"})]})})]}),(0,I.jsxs)("div",{className:"mt-4 d-flex flex-wrap justify-content-end",children:[(0,I.jsx)(m.Z,{onClick:()=>E("".concat(_.m.PROFILE,"?profile=info")),className:"Save-Changes-Btn border-0 text-black",style:{background:"#eae5e5",borderColor:"#eae5e5"},children:"Cancel"}),(0,I.jsx)(m.Z,{className:"Save-Changes-Btn",style:{background:"#000071"},type:"submit",disabled:h,children:"Save Changes"})]})]}),"signature"===s&&(0,I.jsx)(S,{})]}):b?(0,I.jsx)("p",{className:"my-5 text-center text-danger fst-italic",children:"Network Error"}):null})}function C(e){let{profileQuery:s,imageUrl:l,setProfileImage:a,setIsEditing:n,loading:o}=e;const{getUserData:r,isLoading:c,isSuccess:m,isError:u}=(0,i.v9)((e=>e.userRole));return(0,I.jsxs)(I.Fragment,{children:["info"===s&&(c?(0,I.jsx)("p",{className:"my-5 text-center fst-italic",style:{color:"#999999"},children:"Loading..."}):m?(0,I.jsxs)(t.Z,{className:"gy-4 gx-2 mt-4",children:[(0,I.jsxs)(d.Z,{xl:4,sm:6,children:[(0,I.jsx)("p",{className:"profile__field-label",children:"Name"}),(0,I.jsx)("h5",{className:"profile__field-value",children:null!==r&&void 0!==r&&r.firstName?"".concat(null===r||void 0===r?void 0:r.firstName," ").concat(null===r||void 0===r?void 0:r.lastName):"N/A"})]}),(0,I.jsxs)(d.Z,{xl:4,sm:6,children:[(0,I.jsx)("p",{className:"profile__field-label",children:"Gender"}),(0,I.jsx)("h5",{className:"profile__field-value",children:null!==r&&void 0!==r&&r.genderName?null===r||void 0===r?void 0:r.genderName:"N/A"})]}),(0,I.jsxs)(d.Z,{xl:4,sm:6,children:[(0,I.jsx)("p",{className:"profile__field-label",children:"Phone"}),(0,I.jsx)("h5",{className:"profile__field-value",children:null!==r&&void 0!==r&&r.phoneNumber?null===r||void 0===r?void 0:r.phoneNumber:"N/A"})]}),(0,I.jsxs)(d.Z,{xl:4,sm:6,children:[(0,I.jsx)("p",{className:"profile__field-label",children:"Medical Council Number"}),(0,I.jsx)("h5",{className:"profile__field-value",children:null!==r&&void 0!==r&&r.mcrn?null===r||void 0===r?void 0:r.mcrn:"N/A"})]}),(0,I.jsxs)(d.Z,{xl:4,sm:6,children:[(0,I.jsx)("p",{className:"profile__field-label",children:"Email"}),(0,I.jsx)("h5",{className:"profile__field-value",children:null!==r&&void 0!==r&&r.email?null===r||void 0===r?void 0:r.email:"N/A"})]}),(0,I.jsxs)(d.Z,{xl:4,sm:6,children:[(0,I.jsx)("p",{className:"profile__field-label",children:"Address"}),(0,I.jsx)("h5",{className:"profile__field-value",children:null!==r&&void 0!==r&&r.currentAddress?null===r||void 0===r?void 0:r.currentAddress:"N/A"})]}),(0,I.jsxs)(d.Z,{xl:4,sm:6,children:[(0,I.jsx)("p",{className:"profile__field-label",children:"Signature"}),null!==r&&void 0!==r&&r.doctorSignature?(0,I.jsx)("span",{style:{display:"block",border:"1px solid black",width:"150px",height:"auto"},className:"mt-4",children:(0,I.jsx)("img",{src:null===r||void 0===r?void 0:r.doctorSignature,alt:"signature",width:"100%",height:"100px"})}):(0,I.jsx)("p",{className:"profile__field-value",children:"N/A"})]})]}):u?(0,I.jsx)("p",{className:"my-5 text-center text-danger fst-italic",children:"Network Error"}):null),("edit"===s||"signature"===s)&&(0,I.jsx)(P,{profileQuery:s,imageUrl:l,setProfileImage:a,setIsEditing:n,loading:o})]})}const E=function(){const{getUserData:e,isLoading:s,isSuccess:l,isError:n}=(0,i.v9)((e=>e.userRole)),o=(0,i.I0)(),[r,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[v,g]=(0,a.useState)(!1),{register:f,watch:j,handleSubmit:N,reset:b,formState:{errors:_}}=(0,x.cI)(),Z=(0,a.useRef)({});Z.current=j("password","");const S=()=>{b({oldPassword:""})};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(t.Z,{className:"mt-1 Password-Input-Spacing"}),s?(0,I.jsx)("p",{className:"my-5 text-center fst-italic",style:{color:"#999999"},children:"Loading..."}):l?(0,I.jsx)(c.Z,{onSubmit:N((function(e){const s={password:e.oldPassword,newPassword:e.password};o((0,w.Cp)({finalData:s,moveToNext:S}))})),children:(0,I.jsxs)(t.Z,{className:"gy-4 gx-5 mt-4 d-grid",children:[(0,I.jsx)(d.Z,{xl:6,lg:12,md:6,xs:12,children:(0,I.jsxs)(c.Z.Group,{className:"position-relative font-bold",controlId:"doctorOldPassword",children:[(0,I.jsx)(c.Z.Label,{className:"profile__field-label",style:{color:"#1A1A1A"},children:"Old Password"}),(0,I.jsx)(c.Z.Control,{type:r?"text":"password",placeholder:"Password",className:"profile__field-label font-bold",size:"lg",name:"oldPassword",...f("oldPassword",{required:!0})}),_.oldPassword&&(0,I.jsx)("p",{className:"text-danger",children:_.oldPassword.message}),(0,I.jsx)("div",{onClick:()=>u((e=>!e)),className:"eye-icon",children:r?(0,I.jsx)(y.Zju,{size:18}):(0,I.jsx)(y.I0d,{size:18})})]})}),(0,I.jsx)(d.Z,{xl:6,lg:12,md:6,xs:12,children:(0,I.jsxs)(c.Z.Group,{className:"position-relative",controlId:"doctorNewPassword",children:[(0,I.jsx)(c.Z.Label,{className:"profile__field-label font-bold",style:{color:"#1A1A1A"},children:"New Password"}),(0,I.jsx)(c.Z.Control,{type:h?"text":"password",placeholder:"Password",className:"Field-Sizing",size:"lg",name:"password",...f("password",{required:!0})}),_.password&&(0,I.jsx)("p",{className:"text-danger",children:_.password.message}),(0,I.jsx)("div",{onClick:()=>p((e=>!e)),className:"eye-icon",children:h?(0,I.jsx)(y.Zju,{size:18}):(0,I.jsx)(y.I0d,{size:18})})]})}),(0,I.jsx)(d.Z,{xl:6,lg:12,md:6,xs:12,children:(0,I.jsxs)(c.Z.Group,{className:"position-relative",controlId:"doctorConfirmPassword",children:[(0,I.jsx)(c.Z.Label,{className:"profile__field-label",style:{color:"#1A1A1A"},children:"Confirm Password"}),(0,I.jsx)(c.Z.Control,{type:v?"text":"password",placeholder:"Password",name:"confirmPassword",size:"lg",...f("confirmPassword",{validate:e=>e===Z.current||"The passwords does not match"})}),_.confirmPassword&&(0,I.jsx)("p",{className:"text-danger",children:_.confirmPassword.message}),(0,I.jsx)("div",{onClick:()=>g((e=>!e)),className:"eye-icon",children:v?(0,I.jsx)(y.Zju,{size:18}):(0,I.jsx)(y.I0d,{size:18})})]})}),(0,I.jsx)(d.Z,{xl:6,lg:12,md:6,xs:12,children:(0,I.jsx)(m.Z,{variant:"primary",className:"Save-password-button border-0 w-100",type:"submit",children:"Save Password"})})]})}):n?(0,I.jsx)("p",{className:"my-5 text-center text-danger fst-italic",children:"Network Error"}):null]})},L=[{key:"personalInfo",name:"Personal Information"},{key:"changePass",name:"Change Password"}];const U=function(e){let{setProfileImage:s}=e;const l=(0,i.I0)(),t=JSON.parse(localStorage.getItem("family_doc_app"))||{},{getUserData:d,isLoading:c,isSuccess:m,isError:u}=(0,i.v9)((e=>e.userRole)),[x,h]=(0,a.useState)(!0),[p,v]=(0,a.useState)(),[g,f]=(0,a.useState)(!1),j=(0,o.Z)().get("profile");return(0,a.useEffect)((()=>{const e={userId:null===t||void 0===t?void 0:t.userId};l((0,n.PR)(e))}),[l,null===t||void 0===t?void 0:t.userId]),(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(r.Z,{navEventLinks:L,setImageUrl:v,imageUrl:p,setIsEditing:h,loading:g,setLoading:f,getUserData:d,onNavClick:()=>{},children:[(0,I.jsxs)("div",{eventKey:"personalInfo",className:"tab__content-body",children:[(0,I.jsx)("p",{className:"main-title m-0",children:"Personal Information"}),(0,I.jsx)(C,{profileQuery:j,imageUrl:p,setProfileImage:s,setIsEditing:h,loading:g})]}),(0,I.jsxs)("div",{eventKey:"changePass",className:"tab__content-body",children:[(0,I.jsx)("p",{className:"main-title m-0",children:"Change Password"}),(0,I.jsx)(E,{isError:u,isLoading:c,isSuccess:m})]})]})})}}}]);
//# sourceMappingURL=3870.4a8e4d10.chunk.js.map