"use strict";(self.webpackChunkfamily_doc_app=self.webpackChunkfamily_doc_app||[]).push([[7636],{52268:(e,n,l)=>{l.d(n,{Tf:()=>i,bA:()=>t,lt:()=>a,sP:()=>s});const t=[{lookupId:6,value:"Nurse"},{lookupId:7,value:"Receptionist"}],s=[{lookupId:101,value:"Male"},{lookupId:102,value:"Female"},{lookupId:103,value:"Other"}],i={Destroyed:"destroyed",Error:"error",Incoming:"incoming",Registered:"registered",Registering:"registering",TokenWillExpire:"tokenWillExpire",Unregistered:"unregistered"},a={Connected:"connected",Accept:"accept",Audio:"audio",Cancel:"cancel",Disconnect:"disconnect",Error:"error",Mute:"mute",Reconnected:"reconnected",Reconnecting:"reconnecting",Reject:"reject",Ringing:"ringing",Sample:"sample",Volume:"volume",WarningCleared:"warning-cleared",Warning:"warning"}},21446:(e,n,l)=>{l.d(n,{Z:()=>g});var t=l(72791),s=l(95070),i=l(72426),a=l.n(i),o=l(43360),d=l(88135),r=l(36638),c=l(61134),p=l(95431),x=l(59434),m=(l(10215),l(4053)),u=l(52268),h=l(80184);const j=()=>{var e;const{register:n}=(0,c.cI)(),[l,s]=(0,t.useState)(!1),[i,a]=(0,t.useState)(u.Tf.Unregistered),[j,g]=(0,t.useState)(null),[f,v]=(0,t.useState)(null),{videoCallData:N}=((0,x.I0)(),(0,x.v9)((e=>(null===e||void 0===e?void 0:e.vonageData)||{}))),{patientAppointedDetail:b}=(0,x.v9)((e=>e.appointment));function y(e){a(u.Tf.Registering),console.log("Initializing a new device",i);let n=new p.AS(null===e||void 0===e?void 0:e.twilioToken,{logLevel:1,codecPreferences:["opus","pcmu"]});!function(e){e.on("registered",(function(){console.log("The device is ready to make and receive incoming calls."),a(u.Tf.Registered)})),e.on("registering",(function(){a(u.Tf.Registering)})),e.on("error",(function(e){console.log("Twilio.Device Error: "+e.message),a(u.Tf.Error)})),e.audio.on("deviceChange",(function(){console.log("device Change")}))}(n),n.register(),async function(e,n){var l;const t=null===n||void 0===n?void 0:n.callingDeviceIdentity;var s={To:null===b||void 0===b||null===(l=b.detailDTO)||void 0===l?void 0:l.phoneNumber,callingDeviceIdentity:t};if(e){console.log("Attempting to call ".concat(s.To," ..."));const n=await e.connect({params:s});v(n),n&&(g(u.lt.Connected),console.log("setCallStateConnected",j)),console.log("Connection successful:",g),n.on("accept",(function(){console.log("'accepted' means the call has finished connecting and the state is now 'open'"),g(u.lt.Accept)})),n.on("ringing",(function(){console.log("Ringing ..."),g(u.lt.Ringing)})),n.on("disconnect",(function(){console.log("Call Disconnected"),g(u.lt.Disconnect,(()=>{console.log("callState",j)}))})),n.on("cancel",(function(){console.log("Call Cancelled"),g(u.lt.Cancel)}))}else console.log("Unable to make call.")}(n,e)}function I(){console.log("Requesting Access Token...");y({twilioToken:null===N||void 0===N?void 0:N.twilioToken,callingDeviceIdentity:null===N||void 0===N?void 0:N.twilioIdentity})}return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"w-100 d-flex mb-3",children:(0,h.jsx)(o.Z,{style:{background:"#6045EB"},onClick:()=>s(!0),className:"px-4 mx-auto my-o",disabled:!N,children:"Call"})}),(0,h.jsxs)(d.Z,{show:l,onHide:()=>s(!1),size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"appointment-modal",backdrop:"static",children:["unregistered"===i||"disconnect"===j&&(0,h.jsx)(d.Z.Header,{closeButton:!0}),(0,h.jsxs)(d.Z.Body,{children:[(0,h.jsx)("div",{className:"d-flex justify-content-center",children:(0,h.jsx)("img",{src:m.Z.TWILIO_LOGO,alt:"Twilio Logo",width:120,height:"auto",className:"".concat("disconnect"!==j&&"unregistered"!==i&&"error"!==i?"rotate-img":"")})}),(0,h.jsxs)(r.Z.Group,{className:"mb-2",controlId:"numberField",children:[(0,h.jsx)(r.Z.Label,{className:"fw-bold",children:"Enter Phone Number"}),(0,h.jsx)(r.Z.Control,{type:"text",placeholder:"+1 530 673 3342",size:"lg",...n("toNumber",{required:!0}),defaultValue:null===b||void 0===b||null===(e=b.detailDTO)||void 0===e?void 0:e.phoneNumber,disabled:!0})]}),"error"===i?(0,h.jsx)("p",{className:"mb-0",style:{fontSize:"14px",color:"#E31E27"},children:"Unable to Connect Server"}):"",(0,h.jsx)("div",{className:"d-flex",children:"ringing"===j?(0,h.jsx)("p",{className:"mb-0 mx-auto my-0",style:{color:"#44BC19"},children:"Ringing ..."}):"registering"===i?(0,h.jsx)("p",{className:"mb-0 mx-auto my-0",style:{color:"#FFB400"},children:"Registring ..."}):(0,h.jsx)(o.Z,{style:{background:"transparent",border:"none",color:"#E31E27"},className:"fw-bold px-4 mx-auto my-0 cursor-pointer",onClick:"unregistered"===i||"disconnect"===j||"error"===i?I:function(){f&&(console.log("Hanging up ...",f),f.disconnect())},children:"unregistered"===i||"disconnect"===j||"error"===i?"Call":"Hang Up"})})]})]})]})};function g(e){const{name:n,genderInfo:l,gender:t,dobInfo:i,dob:o,professionInfo:d,profession:r,currentLocationInfo:c,currentLocation:p,patientLocalGPInfo:x,patientLocalGP:m,emailInfo:u,email:g,phoneInfo:f,phone:v,specialityInfo:N,speciality:b,pharmacyInfo:y,pharmacy:I,locationInfo:w,location:F,nextOfKinName:A,nextOfKinNumber:Z,nextOfKinNameInfo:C,nextOfKinNumberInfo:k,image:P,callButton:T}=e;return(0,h.jsx)(s.Z,{className:"generic-card",children:(0,h.jsxs)(s.Z.Body,{className:"p-0 main-personalprofile",children:[(0,h.jsxs)("div",{className:"img-card w-100",children:[(0,h.jsx)("div",{className:"upload_pic profile_upload profileContent",children:(0,h.jsx)("img",{src:P||"https://ui-avatars.com/api/?name=".concat("".concat(n),"&background=6045eb&color=fff"),alt:"",className:"img-fluid Profile-2 position-relative test-border"})}),(0,h.jsx)("p",{className:"text-center my-3",style:{fontSize:"1.5rem",fontWeight:500,paddingTop:"40px"},children:n||"N/A"})]}),(0,h.jsxs)("div",{className:"px-4 card-content pt-4",children:[l&&(0,h.jsxs)(h.Fragment,{children:[" ",(0,h.jsxs)("span",{className:"d-flex flex-wrap justify-content-between pt-3",children:[(0,h.jsx)("p",{children:"Gender"}),(0,h.jsx)("p",{children:t||"N/A"})]}),(0,h.jsx)("hr",{})]}),i&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,h.jsx)("p",{children:"D.O.B"}),(0,h.jsx)("p",{children:a()(o).format("MM/DD/YYYY")})]}),(0,h.jsx)("hr",{})]}),w&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,h.jsx)("p",{children:"Location"}),(0,h.jsx)("p",{children:F||"N/A"})]}),(0,h.jsx)("hr",{})]}),d&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,h.jsx)("p",{children:"Profession/Occupation:"}),(0,h.jsx)("p",{children:r||"N/A"})]}),(0,h.jsx)("hr",{})]}),c&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,h.jsx)("p",{children:"Current Location"}),(0,h.jsx)("p",{children:p||"N/A"})]}),(0,h.jsx)("hr",{})]}),x&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,h.jsx)("p",{children:"Patient Local GP"}),(0,h.jsx)("p",{children:m||"N/A"})]}),(0,h.jsx)("hr",{})]}),u&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,h.jsx)("p",{children:"Email"}),(0,h.jsx)("p",{children:g||"N/A"})]}),(0,h.jsx)("hr",{})]}),y&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,h.jsx)("p",{children:"Pharmacy"}),(0,h.jsx)("p",{children:I||"N/A"})]}),(0,h.jsx)("hr",{})]}),f&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,h.jsx)("p",{children:"Phone"}),(0,h.jsx)("p",{children:v||"N/A"})]}),(0,h.jsx)("hr",{})]}),C&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,h.jsx)("p",{children:"Next of Kin Name"}),(0,h.jsx)("p",{children:A||"N/A"})]}),(0,h.jsx)("hr",{})]}),k&&(0,h.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,h.jsx)("p",{children:"Next of Kin Number"}),(0,h.jsx)("p",{children:Z||"N/A"})]}),N&&(0,h.jsxs)("span",{className:"d-flex flex-wrap justify-content-between",children:[(0,h.jsx)("p",{children:"Speciality"}),(0,h.jsx)("p",{children:b||"N/A"})]}),T&&(0,h.jsx)(j,{})]})]})})}},67636:(e,n,l)=>{l.r(n),l.d(n,{default:()=>D});var t=l(72791),s=l(89743),i=l(2677),a=l(95070),o=l(61734),d=l(36957),r=l(45736),c=l(78820),p=l(11087),x=l(2002),m=l(36161),u=l(59513),h=l.n(u),j=l(39126),g=(l(68639),l(80184));function f(e){const{allAppointment:n,selectedDate:l,setSelectedDate:t}=e,s=[{dataField:"appointmentId",text:"SR.",sort:!0,headerStyle:{backgroundColor:"#F1F1F1"}},{dataField:"patientName",text:"Patients",sort:!0,headerStyle:{backgroundColor:"#F1F1F1"}},{dataField:"appointmentDate",text:"Date",sort:!0,headerStyle:{backgroundColor:"#F1F1F1"},formatter:e=>e?null===e||void 0===e?void 0:e.split("T")[0]:"N/A"},{dataField:"appointmentStartTime",text:"Start Time",sort:!0,headerStyle:{backgroundColor:"#F1F1F1"}},{dataField:"status",text:"Status",sort:!1,formatter:(e,n)=>{return 204===(l=null===n||void 0===n?void 0:n.statusId)?(0,g.jsx)(r.Z,{pill:!0,bg:"info",className:"upcoming-badge",children:"Upcoming"}):201===l?(0,g.jsx)(r.Z,{pill:!0,bg:"primary",className:"pending-badge",children:"Pending"}):205===l?(0,g.jsx)(r.Z,{pill:!0,bg:"danger",className:"missed-badge",children:"Missed"}):206===l?(0,g.jsx)(r.Z,{pill:!0,bg:"light",className:"completed-badge",children:"Completed"}):203===l?(0,g.jsx)(r.Z,{pill:!0,bg:"warning",className:"cancelled-badge",children:"Cancelled"}):(0,g.jsx)(r.Z,{children:"Booked"});var l},headerStyle:{backgroundColor:"#F1F1F1"}},{dataField:"action",text:"",sort:!1,formatter:(e,n)=>(0,g.jsxs)(p.rU,{to:"/doctor/patients/".concat(null===n||void 0===n?void 0:n.patientId,"/patient-details/").concat(null===n||void 0===n?void 0:n.appointmentId,"/appointment-notes"),className:"table-action",children:[(0,g.jsx)(c.w8I,{})," View"]}),headerStyle:{backgroundColor:"#F1F1F1"}}],i={paginationSize:10,pageStartIndex:1,alwaysShowAllBtns:!0,withFirstAndLast:!1,hideSizePerPage:!0,showTotal:!0,paginationTotalRenderer:(e,n,l)=>(0,g.jsxs)("span",{className:"react-bootstrap-table-pagination-total",children:[(0,g.jsxs)("b",{children:[" ",e," "]})," to ",(0,g.jsx)("b",{children:n})," out of ",(0,g.jsxs)("b",{children:[l," entries"]})]}),disablePageTitle:!0,sizePerPageList:[{text:"10",value:10}]};return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(a.Z,{className:"  patient-details-card",children:[(0,g.jsxs)("div",{className:"px-4 py-3 d-flex justify-content-between custom-row align-items-center table-header-border",children:[(0,g.jsx)("div",{children:(0,g.jsx)("h5",{className:"mb-0 fw-bold",children:"Appointments"})}),(0,g.jsx)("div",{className:"d-flex custom-div-row",children:(0,g.jsxs)("div",{className:"px-1 d-flex",children:[(0,g.jsx)(h(),{selected:l,onChange:e=>t(e),dateFormat:"dd MMM yyyy",placeholderText:"Date",className:"custom-field-picker dr-date-w px-3"}),(0,g.jsx)(j.zlR,{className:"custom-date-icon",size:18})]})})]}),(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("span",{className:"doctor-datatable apt-badge",children:(0,g.jsx)(x.Z,{columns:s,data:n.filter((e=>206===e.statusId)),keyField:"id",id:"bar",pagination:(0,m.ZP)(i),bordered:!1,wrapperClasses:"table-responsive"})})})]})})}var v=l(4053);const N=e=>{let{name:n,date:l,description:t}=e;return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,g.jsx)("p",{className:" fs-5  fw-bold",children:n}),(0,g.jsxs)("div",{className:"d-flex",children:[(0,g.jsx)("img",{src:v.Z.APPOINTMENT_ICON,alt:"Appointment Icon",className:"appointment-icon-size"}),(0,g.jsx)("p",{className:"ps-2",children:l?null===l||void 0===l?void 0:l.split("T")[0]:"N/A"})]})]}),(0,g.jsxs)("p",{children:["Description: ",t]}),(0,g.jsx)("hr",{})]})},b=e=>{let{data:n}=e;return(0,g.jsx)("div",{children:null===n||void 0===n?void 0:n.map((e=>(0,g.jsx)(N,{name:null===e||void 0===e?void 0:e.doctor,date:null===e||void 0===e?void 0:e.date,description:null===e||void 0===e?void 0:e.note},null===e||void 0===e?void 0:e.noteId)))})};function y(e){const{allPatientNotesData:n}=e;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(a.Z,{className:"patient-clinical-note",children:[(0,g.jsx)(a.Z.Header,{className:" px-4 py-4 table-header-border",children:(0,g.jsx)("h5",{className:"mb-0 fw-bold",children:"Notes"})}),(0,g.jsx)(a.Z.Body,{className:"table-body-border px-4",style:{overflow:"auto",height:"695px"},children:(null===n||void 0===n?void 0:n.length)>0?(0,g.jsx)(b,{data:n}):"No Notes"})]})})}var I=l(84373),w=l(21446),F=l(36455),A=l(57689),Z=l(59434),C=l(24278),k=l(95985),P=l(72426),T=l.n(P),S=l(3810);function D(){const e=(0,A.UO)(),n=(0,Z.I0)(),{getPatientData:l}=(0,Z.v9)((e=>e.patient)),{allAppointment:r}=(0,Z.v9)((e=>e.appointment)),{allPatientNotesData:c}=(0,Z.v9)((e=>e.patientNotes)),{user:x}=(0,Z.v9)((e=>e.auth)),[m,u]=(0,t.useState)(null),[h,j]=(0,t.useState)(null);return(0,t.useEffect)((()=>{const l={patientId:null===e||void 0===e?void 0:e.patientId};n((0,F._s)(l))}),[n,null===e||void 0===e?void 0:e.patientId]),(0,t.useEffect)((()=>{const l={patientId:+(null===e||void 0===e?void 0:e.patientId),doctorId:null===x||void 0===x?void 0:x.userId,date:h?T()(h).format("YYYY-MM-DD"):null,statusId:"205"===m?205:"204"===m?204:"206"===m?206:"203"===m?203:"201"===m?201:"202"===m?202:null};n((0,C.Qe)(l))}),[n,null===e||void 0===e?void 0:e.patientId,null===x||void 0===x?void 0:x.userId,h,m]),(0,t.useEffect)((()=>{const l={patientId:+(null===e||void 0===e?void 0:e.patientId),doctorId:null===x||void 0===x?void 0:x.userId,noteTypeId:1};n((0,k.xs)(l))}),[n,null===e||void 0===e?void 0:e.patientId,null===x||void 0===x?void 0:x.userId]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("nav",{"aria-label":"breadcrumb",children:(0,g.jsxs)("ol",{className:"breadcrumb",children:[(0,g.jsx)("li",{className:"breadcrumb-item",children:(0,g.jsx)(p.rU,{to:S.m.PATIENTS,className:"text-decoration-none fs-5",style:{color:"#999999"},children:"Patients"})}),(0,g.jsx)(I.hjJ,{style:{color:"#999999"},className:"ms-2 mt-2"}),(0,g.jsx)("li",{className:"breadcrumb-item active fs-5","aria-current":"page",style:{color:"#6045EB"},children:"".concat(null===l||void 0===l?void 0:l.firstName," ").concat(null===l||void 0===l?void 0:l.lastName)})]})}),(0,g.jsxs)(s.Z,{className:"my-3 patient-details",children:[(0,g.jsx)(i.Z,{xl:3,lg:4,md:4,children:(0,g.jsx)("div",{className:"shadow-sm",children:(0,g.jsx)(w.Z,{name:null!==l&&void 0!==l&&l.firstName?"".concat(null===l||void 0===l?void 0:l.firstName," ").concat(null===l||void 0===l?void 0:l.lastName):"N/A",genderInfo:"true",gender:null!==l&&void 0!==l&&l.gender?null===l||void 0===l?void 0:l.gender:"N/A",dobInfo:"true",dob:null!==l&&void 0!==l&&l.dob?null===l||void 0===l?void 0:l.dob.split("T")[0]:"N/A",locationInfo:"true",location:null!==l&&void 0!==l&&l.currentAddress?null===l||void 0===l?void 0:l.currentAddress:"N/A",currentLocationInfo:"true",currentLocation:null!==l&&void 0!==l&&l.currentAddress?null===l||void 0===l?void 0:l.currentAddress:"N/A",patientLocalGPInfo:"true",patientLocalGP:null!==l&&void 0!==l&&l.patientLocalGP?null===l||void 0===l?void 0:l.patientLocalGP:"N/A",emailInfo:"true",email:null!==l&&void 0!==l&&l.email?null===l||void 0===l?void 0:l.email:"N/A",pharmacyInfo:"true",pharmacy:"Clinix",phoneInfo:"true",phone:null!==l&&void 0!==l&&l.phoneNumber?null===l||void 0===l?void 0:l.phoneNumber:"N/A",image:null===l||void 0===l?void 0:l.imageUrl})})}),(0,g.jsx)(i.Z,{xl:9,lg:8,md:8,children:(0,g.jsxs)(a.Z,{className:"shadow-sm px-4 py-4 h-100",children:[(0,g.jsxs)("div",{className:"py-3",children:[(0,g.jsx)("div",{}),(0,g.jsx)("h5",{className:"px-2 py-2 fw-bold header-border",children:"Clinical Notes"})]}),(0,g.jsx)(o.Z.Container,{id:"left-tabs-example",defaultActiveKey:"first",children:(0,g.jsxs)(s.Z,{className:"",children:[(0,g.jsx)(i.Z,{lg:12,md:12,children:(0,g.jsxs)(d.Z,{variant:"pills",className:"flex-row",children:[(0,g.jsx)(d.Z.Item,{className:"p-2 ps-0",children:(0,g.jsx)(d.Z.Link,{eventKey:"first",children:"Notes"})}),(0,g.jsx)(d.Z.Item,{className:"p-2 ps-0",children:(0,g.jsx)(d.Z.Link,{eventKey:"second",children:"Appointment Notes"})})]})}),(0,g.jsx)(i.Z,{lg:12,md:12,children:(0,g.jsxs)(o.Z.Content,{children:[(0,g.jsx)(o.Z.Pane,{eventKey:"first",children:(0,g.jsx)(y,{allPatientNotesData:c})}),(0,g.jsx)(o.Z.Pane,{eventKey:"second",children:(0,g.jsx)(f,{allAppointment:r,selectedDate:h,setSelectedDate:j,selectedOptions:m,setSelectedOptions:u})})]})})]})})]})})]})]})}},45736:(e,n,l)=>{l.d(n,{Z:()=>r});var t=l(81694),s=l.n(t),i=l(72791),a=l(10162),o=l(80184);const d=i.forwardRef(((e,n)=>{let{bsPrefix:l,bg:t="primary",pill:i=!1,text:d,className:r,as:c="span",...p}=e;const x=(0,a.vE)(l,"badge");return(0,o.jsx)(c,{ref:n,...p,className:s()(r,x,i&&"rounded-pill",d&&"text-".concat(d),t&&"bg-".concat(t))})}));d.displayName="Badge";const r=d}}]);
//# sourceMappingURL=7636.3c22633f.chunk.js.map