"use strict";(self.webpackChunkfamily_doc_app=self.webpackChunkfamily_doc_app||[]).push([[4885],{45793:(e,s,a)=>{a.d(s,{Z:()=>t});var l=a(29086);const t=async e=>{const s=await(null===l.Z||void 0===l.Z?void 0:l.Z.post("/digitalOcean/post",e));return null===s||void 0===s?void 0:s.data}},17505:(e,s,a)=>{a.d(s,{c:()=>i});var l=a(3810),t=a(80184);function i(e){return(0,t.jsx)("div",{className:"error-message-field-generic",children:(0,t.jsx)("p",{className:"mb-1",children:e.message?e.message:l.p.SYSTEM_ERROR})})}},93590:(e,s,a)=>{a.r(s),a.d(s,{default:()=>h});var l=a(72791),t=a(89743),i=a(2677),n=a(3593),r=a(80184);const o=()=>(0,r.jsxs)(t.Z,{className:"profileHeader px-5 d-flex align-items-center justify-content-between",children:[(0,r.jsx)(i.Z,{xl:3,className:"d-flex",children:(0,r.jsx)("h2",{className:"fw-bold fs-3 mb-0",children:"Complete Profile"})}),(0,r.jsxs)(i.Z,{xl:4,className:"d-flex align-items-center justify-content-between",children:[(0,r.jsx)("h6",{className:"fw-semibold text-nowrap mb-0",children:"Profile Completed"}),(0,r.jsx)("div",{className:"w-75 mx-3",children:(0,r.jsx)(n.Z,{now:20})}),(0,r.jsx)("h6",{className:"fw-semibold mb-0",children:"20%"})]})]});var d=a(11087),c=a(56355),m=a(3810),u=a(4053);const p=[{label:"General Information",link:m.m.PERSONAL_INFORMATION},{label:"Medical History",link:m.m.MEDICAL_HISTORY},{label:"Pharmacy",link:m.m.PHARMACY}],x=e=>{let{activeStep:s}=e;const[a,t]=(0,l.useState)(!1),[i,n]=(0,l.useState)([]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:"sidebar-toggle",onClick:()=>{t(!a)},children:(0,r.jsx)(c.Fm7,{})}),(0,r.jsx)("div",{className:"profileSidebar ".concat(a?"visible":""),children:(0,r.jsxs)("aside",{className:"d-flex flex-column justify-content-center align-items-center",children:[(0,r.jsx)(d.rU,{to:m.m.PATIENT_DASHBOARD,className:"logo mr-0 header-logo-image text-decoration-none mt-5",children:(0,r.jsx)("img",{alt:"sidebar logo",src:u.Z.SIDEBAR_LOGO})}),(0,r.jsx)("ul",{className:"list-unstyled py-3 mt-5 d-flex flex-column justify-content-center align-items-start",children:p.map(((e,a)=>(0,r.jsxs)("li",{className:"mb-4",children:[(0,r.jsxs)(d.rU,{to:e.link,className:a===s?"active":i.includes(a)?"completed":"",onClick:()=>(e=>{i.includes(e)||n([...i,e])})(a),children:[(0,r.jsx)("span",{className:"p-3 spanBorder rounded-circle me-2",children:"0".concat(a+1)}),e.label]}),a!==p.length-1&&(0,r.jsx)("span",{className:"d-flex justify-content-start ps-4 mt-4",children:(0,r.jsx)("img",{alt:"vertical line",src:u.Z.VERTICAL_LINE})})]},a)))})]})})]})};var f=a(57689);const h=function(e){let{children:s}=e,a=0;switch((0,f.TH)().pathname){case m.m.MEDICAL_HISTORY:a=1;break;case m.m.PHARMACY:a=2;break;default:a=0}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o,{}),(0,r.jsxs)("main",{children:[(0,r.jsx)(x,{activeStep:a}),(0,r.jsx)("section",{className:"profile_wrapper px-3 px-md-4 px-lg-0",children:s})]})]})}},69969:(e,s,a)=>{a.r(s),a.d(s,{default:()=>E});var l=a(72791),t=a(36638),i=a(95070),n=a(43360),r=a(89743),o=a(2677),d=a(53392),c=a(23853),m=a(75737),u=a.n(m),p=(a(98404),a(78820)),x=a(57689),f=a(4053),h=a(93590),v=a(3810),N=a(61134),b=a(17505),j=a(36455),g=a(59434),y=a(72426),Z=a.n(y),I=a(45793),w=a(73683),O=a(88135),P=a(49739),C=a(25779),S=a(80184);function L(e){let{show:s,onClose:a}=e;const{handleSubmit:t,register:i}=(0,N.cI)(),r=JSON.parse(localStorage.getItem("family_doc_app")),[o,d]=(0,l.useState)(["","","",""]),[c,m]=(0,l.useState)(60),[u,p]=(0,l.useState)(null),{isLoading:x}=(0,g.v9)((e=>e.auth));(0,l.useEffect)((()=>{const e=setInterval((()=>{m((e=>e-1))}),1e3);return p(e),()=>clearInterval(e)}),[]),(0,l.useEffect)((()=>{0===c&&clearInterval(u)}),[c,u]);const f=(0,g.I0)(),h=()=>{a()};return(0,S.jsxs)(O.Z,{show:s,onHide:a,size:"md",backdrop:"static",children:[(0,S.jsx)(O.Z.Header,{closeButton:!0,children:(0,S.jsx)(O.Z.Title,{style:{fontSize:"19px",fontWeight:"bold"},children:"Verify Phone Number"})}),(0,S.jsx)(O.Z.Body,{children:(0,S.jsxs)("form",{className:"p-3",onSubmit:t((e=>{const s=e.otp0+e.otp1+e.otp2+e.otp3,a={userId:null===r||void 0===r?void 0:r.userId,OTP:s};f((0,C.j5)({resendOtpData:a,moveToNext:h}))})),children:[(0,S.jsx)("p",{className:"text-center mb-5",children:"Please enter the code below we\u2019ve sent to your phone number"}),o.map(((e,s)=>(0,S.jsx)("input",{type:"text",id:"otp".concat(s),name:"otp".concat(s),maxLength:1,value:e,...i("otp".concat(s),{required:!0}),onChange:e=>function(e,s){const a=e.target.value,l=[...o];var t;l[s]=a.replace(/\D/,""),d(l),s<5&&a&&(null===(t=document.getElementById("otp".concat(s+1)))||void 0===t||t.focus())}(e,s),onKeyDown:e=>function(e,s){var a;"Backspace"===e.key&&!o[s]&&s>0&&(null===(a=document.getElementById("otp".concat(s-1)))||void 0===a||a.focus())}(e,s),className:"otp-field me-3 py-1 text-center",style:{width:"20%",fontweight:500,fontSize:"31px"}},s))),(0,S.jsx)(n.Z,{className:"w-100 mt-5 ".concat(x&&"disabled"),style:{background:"#6045EB"},type:"submit",children:!0===x?(0,S.jsx)(P.Z,{color:"white",size:25,className:"d-flex m-auto"}):"Confirm Code"})]})}),(0,S.jsx)(O.Z.Footer,{})]})}var A=a(82573);const E=()=>{const[e,s]=(0,l.useState)(!1),[a,m]=(0,l.useState)(),[y,O]=(0,l.useState)(),{getPatientData:P}=(0,g.v9)((e=>e.patient)),{isresendOtp:E}=(0,g.v9)((e=>null===e||void 0===e?void 0:e.verifyNumber)),[R,T]=(0,l.useState)(null===P||void 0===P?void 0:P.phoneNumber),_=JSON.parse(localStorage.getItem("family_doc_app")),k=(0,x.s0)(),F=(0,g.I0)(),{register:H,handleSubmit:M,formState:{errors:D}}=(0,N.cI)();(0,l.useEffect)((()=>{const e={patientId:null===_||void 0===_?void 0:_.userId};F((0,j._s)(e))}),[F,null===_||void 0===_?void 0:_.userId]);(0,l.useEffect)((()=>{const e={patientId:null===_||void 0===_?void 0:_.userId};F((0,A.jX)(e))}),[F,null===_||void 0===_?void 0:_.userId]),(0,l.useEffect)((()=>{F((0,A.VT)({pharmacyName:null,pharmacyLocation:null}))}),[F]),(0,l.useEffect)((()=>{const e={patientId:null===_||void 0===_?void 0:_.userId};F((0,A.jX)(e))}),[F,null===_||void 0===_?void 0:_.userId]);const G=()=>{k(v.m.MEDICAL_HISTORY)};const K=()=>{s(!0)};return(0,S.jsxs)("div",{className:"main-personalprofile",children:[(0,S.jsx)(h.default,{className:"pt-5 ",children:(0,S.jsx)("div",{className:"mx-auto width_75",children:P&&(0,S.jsxs)(t.Z,{onSubmit:M((function(e){const s={patientId:null===_||void 0===_?void 0:_.userId,firstName:null===e||void 0===e?void 0:e.firstName,lastName:null===e||void 0===e?void 0:e.lastName,image:null!==a&&void 0!==a&&a.keyName?null===a||void 0===a?void 0:a.keyName:null!==P&&void 0!==P&&P.image?null===P||void 0===P?void 0:P.image:"",dob:null===e||void 0===e?void 0:e.dob,genderId:+(null===e||void 0===e?void 0:e.genderId),patientLocalGP:null===e||void 0===e?void 0:e.patientLocalGP,phoneNumber:R||(null!==P&&void 0!==P&&P.phoneNumber?null===P||void 0===P?void 0:P.phoneNumber:""),currentAddress:null===e||void 0===e?void 0:e.currentAddress,nextOfKinName:e.nextOfKinName,nextOfKinNumber:e.nextOfKinNumber,pharmacy:null};F((0,j.xu)({finalData:s,moveToNext:G}))})),children:[(0,S.jsxs)(i.Z,{className:"width_75 mx-auto",children:[(0,S.jsx)(i.Z.Header,{className:"bg-white py-4",children:(0,S.jsx)("h5",{className:"fw-semibold mb-0",children:"Personal Information"})}),(0,S.jsxs)(i.Z.Body,{className:"px-4 px-md-5",children:[(0,S.jsxs)("div",{className:"upload_pic profile_upload profileContent",children:[(0,S.jsx)("img",{alt:"upload",className:"Profile-2 test-border",src:(null===a||void 0===a?void 0:a.baseUrl)||(null===P||void 0===P?void 0:P.imageUrl)||f.Z.PROFILE_UPLOAD}),(0,S.jsxs)(n.Z,{className:"ms-sm-5 ms-0 mt-3 mt-sm-0",children:[(0,S.jsxs)("label",{htmlFor:"patient-pic",className:"text-center w-100 d-flex align-items-center",children:[(0,S.jsx)(c.Yjd,{className:"fs-5 me-2"}),"Upload"]}),(0,S.jsx)(t.Z.Control,{onChange:e=>(async e=>{let s=e.target.files[0];if(s){const e=s.name.lastIndexOf("."),a=s.name.slice(0,e),l=s.name.slice(e+1,s.name.length);(0,w.ZP)(s).then((e=>{O(!0);const s={name:a,base64:e,fileExtension:"".concat(l)};(0,I.Z)(s).then((e=>{e&&(m(e),O(!1))}))}))}})(e),type:"file",id:"patient-pic",name:"patient-pic",accept:"image/*"})]})]}),(0,S.jsxs)(r.Z,{className:"mt-5",children:[(0,S.jsxs)(o.Z,{md:6,children:[(0,S.jsxs)(t.Z.Group,{controlId:"",className:"mb-3",children:[(0,S.jsx)(d.Z,{className:"fw-semibold fs-6",children:"First Name"}),(0,S.jsx)(t.Z.Control,{type:"text",name:"firstName",placeholder:"John",defaultValue:null===P||void 0===P?void 0:P.firstName,className:"p-2",...H("firstName",{required:!0})}),D.firstName&&(0,S.jsx)(b.c,{message:"This Field is Required"})]}),(0,S.jsxs)(t.Z.Group,{controlId:"",className:"mb-3",children:[(0,S.jsx)(d.Z,{className:"fw-semibold fs-6",children:"D.O.B"}),(0,S.jsx)(t.Z.Control,{type:"date",name:"dob",defaultValue:Z()(null===P||void 0===P?void 0:P.dob).format("YYYY-MM-DD"),placeholder:"HH:MM",className:"p-2",...H("dob",{required:!0})}),D.dob&&(0,S.jsx)(b.c,{message:"This Field is Required"})]})]}),(0,S.jsxs)(o.Z,{md:6,children:[(0,S.jsxs)(t.Z.Group,{controlId:"",className:"mb-3",children:[(0,S.jsx)(d.Z,{className:"fw-semibold fs-6",children:"Last Name"}),(0,S.jsx)(t.Z.Control,{type:"text",defaultValue:null===P||void 0===P?void 0:P.lastName,name:"lastName",placeholder:"Smith",className:"p-2",...H("lastName",{required:!0})}),D.lastName&&(0,S.jsx)(b.c,{message:"This Field is Required"})]}),(0,S.jsxs)(t.Z.Group,{controlId:"",className:"mb-3",children:[(0,S.jsx)(d.Z,{className:"fw-semibold fs-6",children:"Gender"}),(0,S.jsxs)(t.Z.Select,{name:"genderId",className:"formSelect",defaultValue:null===P||void 0===P?void 0:P.genderId,"aria-label":"Default select example",...H("genderId",{required:!0}),children:[D.genderId&&(0,S.jsx)(b.c,{message:"This Field is Required"}),(0,S.jsx)("option",{value:101,children:"Male"}),(0,S.jsx)("option",{value:102,children:"Female"}),(0,S.jsx)("option",{value:103,children:"Other"})]})]})]}),(0,S.jsx)(o.Z,{xl:12,children:(0,S.jsxs)(t.Z.Group,{controlId:"",className:"mb-3",children:[(0,S.jsx)(d.Z,{className:"fw-semibold fs-6",children:"Patient Local GP"}),(0,S.jsx)(t.Z.Control,{type:"text",name:"patientLocalGP",defaultValue:null===P||void 0===P?void 0:P.patientLocalGP,placeholder:"Patient Local GP",className:"p-2",...H("patientLocalGP",{required:!0})}),D.patientLocalGP&&(0,S.jsx)(b.c,{message:"This Field is Required"})]})}),(0,S.jsx)(o.Z,{md:6,children:(0,S.jsxs)(t.Z.Group,{controlId:"",className:"mb-3",children:[(0,S.jsx)(d.Z,{className:"fw-semibold fs-6",children:"Email"}),(0,S.jsx)(t.Z.Control,{type:"email",name:"email",value:null===_||void 0===_?void 0:_.email,placeholder:"patient@gmail.com",className:"p-2",disabled:!0})]})}),(0,S.jsxs)(o.Z,{md:6,children:[(0,S.jsxs)(d.Z,{className:"fw-semibold fs-6",children:["Phone Number",(0,S.jsx)("span",{style:{color:"#FF3A3A"},children:" *"})]}),(0,S.jsx)(u(),{className:"Phone-Number-FieldWidth border rounded w-100",value:null===P||void 0===P?void 0:P.phoneNumber,onChange:e=>T("+".concat(e))}),(0,S.jsx)("div",{className:"position-relative verify-btn",children:(0,S.jsx)(n.Z,{className:"fs-5 primary_bg position-absolute bottom-0",style:{right:"0px"},size:"sm",variant:"primary",onClick:function(){const e={userId:null===_||void 0===_?void 0:_.userId,phoneNumber:R||(null===P||void 0===P?void 0:P.phoneNumber)};F((0,C.fi)({finalData:e,moveToOTPCode:K}))},disabled:null===E||void 0===E?void 0:E.data,children:"Verify"})}),null===E&&(0,S.jsx)(b.c,{message:"Phone Verification is Required"})]}),(0,S.jsxs)(o.Z,{md:6,children:[(0,S.jsx)(t.Z.Label,{style:{color:"#1A1A1A",fontWeight:"bold"},children:"Next of Kin Name"}),(0,S.jsx)(t.Z.Control,{name:"nextOfKinName",type:"text",maxLength:100,placeholder:"Next of Kin Name",className:"p-2",...H("nextOfKinName"),defaultValue:null===P||void 0===P?void 0:P.nextOfKinName}),D.nextOfKinName&&(0,S.jsx)(b.c,{message:"This Field is Required"})]}),(0,S.jsxs)(o.Z,{md:6,children:[(0,S.jsx)(t.Z.Label,{className:"",style:{color:"#1A1A1A",fontWeight:"bold"},children:"Next of Kin Number"}),(0,S.jsx)(t.Z.Control,{name:"nextOfKinNumber",type:"text",maxLength:100,placeholder:"Next of Kin Number",className:"p-2",...H("nextOfKinNumber"),defaultValue:null===P||void 0===P?void 0:P.nextOfKinName}),D.nextOfKinNumber&&(0,S.jsx)(b.c,{message:"This Field is Required"})]}),(0,S.jsx)(o.Z,{md:6,children:(0,S.jsxs)(t.Z.Group,{controlId:"",className:"my-3",children:[(0,S.jsx)(d.Z,{className:"fw-semibold fs-6",children:"Location"}),(0,S.jsx)(t.Z.Control,{type:"text",name:"currentAddress",defaultValue:null===P||void 0===P?void 0:P.currentAddress,placeholder:"4140 Parker Rd. Allentown, New Mexico 31134",className:"p-2",...H("currentAddress",{required:!0})}),D.currentAddress&&(0,S.jsx)(b.c,{message:"This Field is Required"})]})})]}),(0,S.jsx)("div",{className:"d-flex justify-content-end w-100 mx-auto",children:(0,S.jsxs)(n.Z,{type:"submit",variant:"primary",className:"px-3 fs-5 py-2 primary_bg",size:"sm",disabled:null===E,children:["Submit ",(0,S.jsx)(p.Td4,{className:"fs-6"})," "]})})]})]}),(0,S.jsx)("div",{className:"py-3 d-flex justify-content-end width_75 mx-auto",children:(0,S.jsxs)(n.Z,{onClick:()=>k(v.m.MEDICAL_HISTORY),className:"px-4 px-md-5 fs-5 py-2 primary_bg",size:"sm",variant:"primary",children:["Next ",(0,S.jsx)(p.Td4,{className:"fs-6"})," "]})})]})})}),(0,S.jsx)(L,{show:e,onClose:()=>s(!1)})]})}},89252:(e,s,a)=>{function l(e,s){e.classList?e.classList.add(s):function(e,s){return e.classList?!!s&&e.classList.contains(s):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+s+" ")}(e,s)||("string"===typeof e.className?e.className=e.className+" "+s:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+s))}a.d(s,{Z:()=>l})},12946:(e,s,a)=>{function l(e,s){return e.replace(new RegExp("(^|\\s)"+s+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function t(e,s){e.classList?e.classList.remove(s):"string"===typeof e.className?e.className=l(e.className,s):e.setAttribute("class",l(e.className&&e.className.baseVal||"",s))}a.d(s,{Z:()=>t})},3593:(e,s,a)=>{a.d(s,{Z:()=>p});var l=a(81694),t=a.n(l),i=a(72791),n=a(10162),r=a(11701),o=a(80184);const d=1e3;function c(e,s,a){const l=(e-s)/(a-s)*100;return Math.round(l*d)/d}function m(e,s){let{min:a,now:l,max:i,label:n,visuallyHidden:r,striped:d,animated:m,className:u,style:p,variant:x,bsPrefix:f,...h}=e;return(0,o.jsx)("div",{ref:s,...h,role:"progressbar",className:t()(u,"".concat(f,"-bar"),{["bg-".concat(x)]:x,["".concat(f,"-bar-animated")]:m,["".concat(f,"-bar-striped")]:m||d}),style:{width:"".concat(c(l,a,i),"%"),...p},"aria-valuenow":l,"aria-valuemin":a,"aria-valuemax":i,children:r?(0,o.jsx)("span",{className:"visually-hidden",children:n}):n})}const u=i.forwardRef(((e,s)=>{let{isChild:a=!1,...l}=e;const d={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...l};if(d.bsPrefix=(0,n.vE)(d.bsPrefix,"progress"),a)return m(d,s);const{min:c,now:u,max:p,label:x,visuallyHidden:f,striped:h,animated:v,bsPrefix:N,variant:b,className:j,children:g,...y}=d;return(0,o.jsx)("div",{ref:s,...y,className:t()(j,N),children:g?(0,r.UI)(g,(e=>(0,i.cloneElement)(e,{isChild:!0}))):m({min:c,now:u,max:p,label:x,visuallyHidden:f,striped:h,animated:v,bsPrefix:N,variant:b},s)})}));u.displayName="ProgressBar";const p=u},49739:(e,s,a)=>{a.d(s,{Z:()=>d});var l=a(72791),t=a(75617),i=a(6707),n=function(){return n=Object.assign||function(e){for(var s,a=1,l=arguments.length;a<l;a++)for(var t in s=arguments[a])Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t]);return e},n.apply(this,arguments)},r=function(e,s){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&s.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(l=Object.getOwnPropertySymbols(e);t<l.length;t++)s.indexOf(l[t])<0&&Object.prototype.propertyIsEnumerable.call(e,l[t])&&(a[l[t]]=e[l[t]])}return a},o=(0,i.i)("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");const d=function(e){var s=e.loading,a=void 0===s||s,i=e.color,d=void 0===i?"#000000":i,c=e.speedMultiplier,m=void 0===c?1:c,u=e.cssOverride,p=void 0===u?{}:u,x=e.size,f=void 0===x?35:x,h=r(e,["loading","color","speedMultiplier","cssOverride","size"]),v=n({background:"transparent !important",width:(0,t.E)(f),height:(0,t.E)(f),borderRadius:"100%",border:"2px solid",borderTopColor:d,borderBottomColor:"transparent",borderLeftColor:d,borderRightColor:d,display:"inline-block",animation:"".concat(o," ").concat(.75/m,"s 0s infinite linear"),animationFillMode:"both"},p);return a?l.createElement("span",n({style:v},h)):null}}}]);
//# sourceMappingURL=4885.0fa9e5d9.chunk.js.map