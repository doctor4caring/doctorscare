"use strict";(self.webpackChunkfamily_doc_app=self.webpackChunkfamily_doc_app||[]).push([[1622],{17505:(e,l,a)=>{a.d(l,{c:()=>d});var s=a(3810),t=a(80184);function d(e){return(0,t.jsx)("div",{className:"error-message-field-generic",children:(0,t.jsx)("p",{className:"my-1",children:e.message?e.message:s.p.SYSTEM_ERROR})})}},60842:(e,l,a)=>{a.d(l,{Z:()=>o});a(72791);var s=a(59513),t=a.n(s),d=a(39126),n=(a(68639),a(80184));const o=e=>{let{selectedDateState:l,onChange:a,dateFormat:s="dd MMM yyyy",placeholderText:o="Date",className:i="",datePickerClassName:c="custom-field-picker px-2",useDrDateClass:r=!0,...m}=e;return console.log("disabled",m),(0,n.jsxs)("div",{className:"custom__date-input position-relative d-flex mb-3 ".concat(i),...m,children:[(0,n.jsx)(t(),{selected:l,onChange:a,dateFormat:s,placeholderText:o,className:"".concat(c," ").concat(r?"dr-date-w":"w-100"),disabled:null===m||void 0===m?void 0:m.disabled,minDate:null===m||void 0===m?void 0:m.mindate}),(0,n.jsx)(d.zlR,{size:18,className:"custom__date_icon"})]})}},14045:(e,l,a)=>{a.d(l,{Z:()=>d});var s=a(88135),t=a(80184);function d(e){let{children:l,...a}=e;const{handleClose:d,show:n,title:o,className:i}=a;return(0,t.jsx)("div",{children:(0,t.jsxs)(s.Z,{show:n,onHide:d,className:i,backdrop:"static",children:[(0,t.jsx)(s.Z.Header,{className:"py-3",closeButton:!0,children:(0,t.jsx)(s.Z.Title,{className:"modalTitle",children:(0,t.jsx)("span",{className:"font-weight-600",children:o})})}),(0,t.jsx)(s.Z.Body,{children:l})]})})}},41622:(e,l,a)=>{a.r(l),a.d(l,{default:()=>Y});var s=a(72791),t=a(43360),d=a(95070),n=a(36638),o=a(89743),i=a(2677),c=a(61734),r=a(19485),m=a(14045),h=a(53392),u=a(61134),x=a(72426),v=a.n(x),j=a(73683),b=a(82962),f=a(59434),p=a(17505),y=a(60842),g=a(80184);const D=function(e){const{handleClose:l}=e,{handleSubmit:a,register:d}=(0,u.cI)(),[c,r]=(0,s.useState)(null),[m,x]=(0,s.useState)(null),[D,N]=(0,s.useState)(""),[Z,S]=(0,s.useState)(""),[Y,C]=(0,s.useState)([]),[M,k]=(0,s.useState)(""),w=(0,f.I0)(),{allSlots:T}=(0,f.v9)((e=>e.doctorSchedule)),_=null===T||void 0===T?void 0:T.filter((e=>!e.isBooked)),F=null===_||void 0===_?void 0:_.map((e=>e.startTime)),I=null===_||void 0===_?void 0:_.map((e=>e.endTime)),A=null===T||void 0===T?void 0:T.map((e=>({scheduleId:e.scheduleId,Fee:e.Fee}))),G=e=>{const{value:l,checked:a}=e.target;C(a?e=>[...e,l]:e=>e.filter((e=>e!==l)))},z=()=>{const e=v()(c).format("YYYY-MM-DD");l();const a={date:e,month:null};w((0,b.xG)(a))},H=(e,l)=>{const a=v()(c).format("YYYY-MM-DD"),s=new Date("".concat(a," ").concat(e));let t=(new Date("".concat(a," ").concat(l))-s)/6e4;return t<0&&(t+=1440),t>=15};return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(n.Z,{onSubmit:a((function(e){var l,a;const s=v()(c).format("YYYY-MM-DD"),t={startDate:s,endDate:v()(m).format("YYYY-MM-DD"),startTime:null===(l=(0,j.oA)(D,s))||void 0===l?void 0:l.split("Z")[0],endTime:null===(a=(0,j.oA)(Z,s))||void 0===a?void 0:a.split("Z")[0],noOfDoctors:1,daysOfWeek:Y,fee:null===e||void 0===e?void 0:e.feeValue};w((0,b.Y3)({finalData:t,moveToNext:z}))})),children:[(0,g.jsxs)("div",{className:"mb-3 border p-3 rounded modalCheckboxes",children:[(0,g.jsx)(n.Z.Check,{type:"checkbox",id:"",label:"Monday",className:"d-flex",value:"Monday",onChange:G}),(0,g.jsx)(n.Z.Check,{type:"checkbox",id:"",label:"Tuesday",className:"d-flex",value:"Tuesday",onChange:G}),(0,g.jsx)(n.Z.Check,{type:"checkbox",id:"",label:"Wednesday",className:"d-flex",value:"Wednesday",onChange:G}),(0,g.jsx)(n.Z.Check,{type:"checkbox",id:"",label:"Thursday",className:"d-flex",value:"Thursday",onChange:G}),(0,g.jsx)(n.Z.Check,{type:"checkbox",id:"",label:"Friday",className:"d-flex",value:"Friday",onChange:G}),(0,g.jsx)(n.Z.Check,{type:"checkbox",id:"",label:"Saturday",className:"d-flex",value:"Saturday",onChange:G}),(0,g.jsx)(n.Z.Check,{type:"checkbox",id:"",label:"Sunday",className:"d-flex",value:"Sunday",onChange:G})]},"0"),(0,g.jsxs)(o.Z,{children:[(0,g.jsxs)(i.Z,{md:6,xl:6,children:[(0,g.jsxs)("div",{className:"mb-3",children:[(0,g.jsx)("label",{className:"fw-semibold fs-6",children:"Start Date"}),(0,g.jsx)(y.Z,{selectedDateState:c,onChange:e=>{const l=e;r(l);const a=new Date(l),s=v()(a).format("YYYY-MM-DD");v()(m).format("YYYY-MM-DD")<s&&x(new Date(s))},useDrDateClass:!1,dateFormat:"dd/MM/yyyy",placeholderText:"day/month/year",mindate:new Date})]}),(0,g.jsxs)(n.Z.Group,{controlId:"start-timeId",className:"mb-3",children:[(0,g.jsx)(h.Z,{className:"fw-semibold fs-6",children:"Start Time"}),(0,g.jsx)(n.Z.Control,{type:"time",placeholder:"HH:MM",className:"custom-date",disabled:!v()(c).format("YYYY-MM-DD"),value:D||(null===F||void 0===F?void 0:F[0]),onChange:e=>N(e.target.value)})]})]}),(0,g.jsxs)(i.Z,{md:6,xl:6,children:[(0,g.jsxs)("div",{className:"mb-3",children:[(0,g.jsx)("label",{className:"fw-semibold fs-6",children:"End Date"}),(0,g.jsx)(y.Z,{selectedDateState:m,onChange:e=>x(e),useDrDateClass:!1,dateFormat:"dd/MM/yyyy",placeholderText:"day/month/year",mindate:new Date(c),disabled:!c})]}),(0,g.jsxs)(n.Z.Group,{controlId:"end-timeId",className:"mb-3",children:[(0,g.jsx)(h.Z,{className:"fw-semibold fs-6",children:"End Time"}),(0,g.jsx)(n.Z.Control,{type:"time",placeholder:"HH:MM",className:"custom-date",min:D,value:Z||(null===I||void 0===I?void 0:I[1]),disabled:!D,onChange:e=>{const l=e.target.value;S(l);const a=H(D,l);k(a?"":"The appointment start time and end time should be at least 15 minutes apart.")}})]})]}),M&&(0,g.jsx)(p.c,{message:M}),(0,g.jsx)(i.Z,{md:6,xl:6,children:(0,g.jsxs)(n.Z.Group,{controlId:"fee",children:[(0,g.jsx)(n.Z.Label,{className:"fw-bold",children:"Fee (\u20ac)"}),(0,g.jsx)(n.Z.Control,{size:"lg",type:"number",step:"0.01",placeholder:"Enter Fee (1.36)",min:0,...d("feeValue",{required:!0}),defaultValue:(null===A||void 0===A?void 0:A.length)>0?A[0].Fee:""})]})}),(0,g.jsx)("div",{className:"d-grid mt-4",children:(0,g.jsx)(t.Z,{className:"block primary_bg",variant:"primary",size:"lg",type:"submit",disabled:M,children:"Create Slot"})})]})]})})};const N=function(e){const{handleClose:l}=e,{handleSubmit:a,register:d}=(0,u.cI)(),[c,r]=(0,s.useState)(""),[m,x]=(0,s.useState)(null),[D,N]=(0,s.useState)(""),[Z,S]=(0,s.useState)(""),Y=(0,f.I0)(),{allSlots:C}=(0,f.v9)((e=>e.doctorSchedule)),M=null===C||void 0===C?void 0:C.filter((e=>!e.isBooked)),k=null===M||void 0===M?void 0:M.map((e=>e.startTime)),w=null===M||void 0===M?void 0:M.map((e=>e.endTime)),T=null===C||void 0===C?void 0:C.map((e=>({scheduleId:e.scheduleId,Fee:e.Fee}))),_=[];_.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";return null===e||void 0===e?void 0:e.toLocaleDateString(l,{weekday:"long"})}());const F=()=>{const e=v()(m).format("YYYY-MM-DD");l();const a={date:e,month:null};Y((0,b.xG)(a))},I=(e,l)=>{const a=v()(m).format("YYYY-MM-DD"),s=new Date("".concat(a," ").concat(e));let t=(new Date("".concat(a," ").concat(l))-s)/6e4;return t<0&&(t+=1440),t>=15};return(0,g.jsx)(n.Z,{onSubmit:a((function(e){var l,a;const s=v()(m).format("YYYY-MM-DD"),t={startDate:s,endDate:s,startTime:null===(l=(0,j.oA)(D,s))||void 0===l?void 0:l.split("Z")[0],endTime:null===(a=(0,j.oA)(c,s))||void 0===a?void 0:a.split("Z")[0],noOfDoctors:1,daysOfWeek:_,fee:null===e||void 0===e?void 0:e.feeValue};Y((0,b.Y3)({finalData:t,moveToNext:F}))})),children:(0,g.jsxs)(o.Z,{children:[(0,g.jsxs)(i.Z,{xl:12,children:[(0,g.jsx)("label",{className:"fw-semibold fs-6",children:"Date"}),(0,g.jsx)(y.Z,{selectedDateState:m,onChange:e=>{x(e),N((0,j.Xn)()),r(w[1])},useDrDateClass:!1,dateFormat:"dd/MM/yyyy",placeholderText:"day/month/year",mindate:new Date})]}),(0,g.jsx)(i.Z,{md:6,xl:6,children:(0,g.jsxs)(n.Z.Group,{controlId:"start-timeId",className:"mb-3",children:[(0,g.jsx)(h.Z,{className:"fw-semibold fs-6",children:"Start Time"}),(0,g.jsx)(n.Z.Control,{type:"time",placeholder:"HH:MM",name:"startTime",className:"custom-date",min:m||(0,j.Xn)(),disabled:!m,value:D||(null===k||void 0===k?void 0:k[0]),onChange:e=>N(e.target.value)})]})}),(0,g.jsx)(i.Z,{md:6,xl:6,children:(0,g.jsxs)(n.Z.Group,{controlId:"end-timeId",className:"mb-3",children:[(0,g.jsx)(h.Z,{className:"fw-semibold fs-6",children:"End Time"}),(0,g.jsx)(n.Z.Control,{type:"time",placeholder:"HH:MM",className:"custom-date",name:"endTime",min:D,value:c||(null===w||void 0===w?void 0:w[1]),disabled:!D,onChange:e=>{const l=e.target.value;r(l);const a=I(D,l);S(a?"":"The appointment start time and end time should be at least 15 minutes apart.")}})]})}),Z&&(0,g.jsx)(p.c,{message:Z}),(0,g.jsx)(i.Z,{md:6,xl:6,children:(0,g.jsxs)(n.Z.Group,{controlId:"fee",children:[(0,g.jsx)(n.Z.Label,{className:"fw-bold",children:"Fee (\u20ac)"}),(0,g.jsx)(n.Z.Control,{size:"lg",type:"number",step:"0.01",placeholder:"Enter Fee (1.36)",min:0,...d("feeValue",{required:!0}),defaultValue:(null===T||void 0===T?void 0:T.length)>0?T[0].Fee:"",required:!0})]})}),(0,g.jsx)("div",{className:"d-grid mt-4",children:(0,g.jsx)(t.Z,{className:"block",variant:"primary primary_bg",size:"lg",type:"submit",disabled:Z,children:"Create Slot"})})]})})};function Z(e){let{children:l,...a}=e;const{show:s,handleClose:t}=a;return(0,g.jsx)("div",{id:"AddSlot_modal",className:"AddSlot_modal",children:(0,g.jsx)(m.Z,{className:"modal-lg slots__creation-modal",title:"Time Slot Creation",handleClose:t,show:s,children:(0,g.jsx)("div",{className:"px-2 pb-3 addSlot_content",children:(0,g.jsxs)(r.Z,{defaultActiveKey:"1",id:"uncontrolled-tab-example slot_tabs",className:"mx-1 mb-1 slot_tabs",children:[(0,g.jsx)(c.Z,{eventKey:"1",className:"mx-1 slot_tab",title:"Single Day",children:(0,g.jsx)(N,{handleClose:t})}),(0,g.jsx)(c.Z,{eventKey:"2",title:"Recurring",className:"mx-1 slot_tab",children:(0,g.jsx)(D,{handleClose:t})})]})})})})}var S=a(56355);const Y=()=>{const e=(0,f.I0)(),{handleSubmit:l,register:a}=(0,u.cI)(),[c,r]=(0,s.useState)(new Date),[h,x]=(0,s.useState)(!1),[j,p]=(0,s.useState)(!1),D=()=>p(!1),{allSlots:N}=(0,f.v9)((e=>e.doctorSchedule));const Y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date(c),l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";return null===e||void 0===e?void 0:e.toLocaleDateString(l,{weekday:"long"})}(),C=(0,s.useMemo)((()=>c?"".concat(Y," - ").concat(v()(c).format("DD-MM-YYYY")):"Select Date"),[c,Y]);(0,s.useEffect)((()=>{if(c){const l={date:v()(c).format("YYYY-MM-DD"),month:null};e((0,b.xG)(l))}}),[e,c]);let M=null===N||void 0===N?void 0:N.filter((e=>e.isBooked)),k=null===N||void 0===N?void 0:N.filter((e=>!e.isBooked));return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"create__slots-section d-flex flex-wrap justify-content-between align-items-center mb-3",children:[(0,g.jsx)("h5",{className:"m-0",children:"Created Slots"}),v()(c).format("YYYY-MM-DD")>=v()(new Date).format("YYYY-MM-DD")&&(0,g.jsxs)("div",{className:"slots__fees-btn",children:[((null===N||void 0===N?void 0:N.length)>0&&(null===M||void 0===M?void 0:M.length)<=0||(null===k||void 0===k?void 0:k.length)>0)&&(0,g.jsx)(t.Z,{onClick:()=>{p(!0)},className:"btn-primary primary_bg me-2",children:"Update Fees"}),(0,g.jsx)(t.Z,{onClick:()=>{x(!0)},className:"btn-primary primary_bg",children:"Create Slot"})]})]}),(0,g.jsxs)(d.Z,{className:"slotsSection",children:[(0,g.jsxs)(d.Z.Body,{children:[(0,g.jsxs)("div",{className:"d-flex flex-wrap justify-content-between align-items-center mb-4",children:[(0,g.jsx)(y.Z,{selectedDateState:c,onChange:e=>r(e),useDrDateClass:!1,dateFormat:"dd/MM/yyyy",placeholderText:"day/month/year"}),(0,g.jsx)("h5",{className:"text-black fw-bold mb-3 mx-3 d__date-text text-center",children:C}),(0,g.jsxs)("div",{className:"d-flex justify-content-end radioGroup mb-3",children:[(0,g.jsxs)("div",{className:"d-flex align-items-center me-sm-4 me-2",children:[(0,g.jsx)("span",{className:"bookedSlot rounded-circle me-2",children:(0,g.jsx)(S.gbA,{color:"#ff6060",size:"22"})}),(0,g.jsx)("span",{children:"Booked Slots"})]}),(0,g.jsxs)("div",{className:"d-flex align-items-center",children:[(0,g.jsx)("span",{className:"availableSlot rounded-circle me-2",children:(0,g.jsx)(S.gbA,{color:"#81d363",size:"22"})}),(0,g.jsx)("span",{children:"Available Slots"})]})]})]}),null!==N&&(null===N||void 0===N?void 0:N.length)>0?(0,g.jsx)("div",{className:"slotContainer disable__btn-hover my-2",children:null===N||void 0===N?void 0:N.map((e=>(0,g.jsxs)(t.Z,{className:"slot_btn".concat(null!==e&&void 0!==e&&e.isBooked?" booked":""),children:[null===e||void 0===e?void 0:e.startTime," - ",null===e||void 0===e?void 0:e.endTime]},null===e||void 0===e?void 0:e.startTime)))}):(0,g.jsx)("p",{children:"No Slot Available"})]}),(0,g.jsx)(Z,{show:h,handleClose:()=>x(!1)})]}),(0,g.jsx)(m.Z,{className:"modal-lg",title:"Update Slot Fees",handleClose:D,show:j,children:(0,g.jsx)(n.Z,{onSubmit:l((function(l){const a={fee:null===l||void 0===l?void 0:l.feeValue};e((0,b.JZ)({updateFeeData:a})),D()})),children:(0,g.jsxs)(o.Z,{children:[(0,g.jsx)(i.Z,{sx:12,children:(0,g.jsxs)(n.Z.Group,{controlId:"fee",children:[(0,g.jsx)(n.Z.Label,{className:"fw-bold",children:"Fee (\u20ac)"}),(0,g.jsx)(n.Z.Control,{size:"lg",type:"number",step:"0.01",placeholder:"Enter Fee (1.36)",min:0,...a("feeValue",{required:!0}),required:!0})]})}),(0,g.jsx)("div",{className:"d-grid mt-4",children:(0,g.jsx)(t.Z,{className:"block",variant:"primary primary_bg",size:"lg",type:"submit",children:"Update Fee"})})]})})})]})}}}]);
//# sourceMappingURL=1622.27d81dcd.chunk.js.map