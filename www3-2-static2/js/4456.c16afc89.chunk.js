"use strict";(self.webpackChunkfamily_doc_app=self.webpackChunkfamily_doc_app||[]).push([[4456],{38713:(e,l,i)=>{i.d(l,{c:()=>s});i(72791);var t=i(88135),o=i(43360),n=i(39126),a=i(80184);function s(e){return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(t.Z,{show:e.show,onHide:e.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"appointment-modal",children:[(0,a.jsx)(t.Z.Header,{closeButton:!0}),(0,a.jsxs)(t.Z.Body,{children:[(0,a.jsx)("div",{className:"d-flex justify-content-center",children:(0,a.jsx)("div",{className:"p-4 rounded-circle m-auto",style:{background:"#EDEAFD"},children:(0,a.jsx)(n.yvY,{className:"fw-bold",size:"24",style:{color:"#000071"}})})}),(0,a.jsx)("h3",{className:"text-center mx-auto mt-4",style:{fontWeight:600},children:e.heading}),(0,a.jsxs)("p",{className:"text-center mt-3 mb-4",children:["Are you sure you want to delete ",e.title,"?"]}),(0,a.jsx)("span",{className:"d-flex justify-content-center",children:(0,a.jsx)(o.Z,{style:{background:"#FD2121",border:"none"},className:"px-4 mb-3",onClick:()=>{e.removeFunc(),e.onHide()},children:"Delete"})})]})]})})}},76637:(e,l,i)=>{i.r(l),i.d(l,{default:()=>te});var t=i(72791),o=i(57689),n=i(59434),a=i(36638),s=i(95070),d=i(69764),r=i(43360),c=i(88135),m=i(84373),u=(i(67758),i(72426)),p=i.n(u),v=i(61134),x=i(9897),h=(i(68639),i(95758),i(3810)),f=i(89743),j=i(2677),g=i(59513),y=i.n(g),b=i(39126),N=i(78820),Z=i(56355),D=i(23196),I=i(80184);function C(e){var l,i,o,s,d,c,m,u,p,x,h,g,C,w,A,S,F,H,L,k,z,E,O,P,M,T,V,G,q,W,R,B,Q,Y,_;let{checkedApt:U,setInputFieldValues:J,inputFieldValues:K}=e;const{register:X,handleSubmit:$,reset:ee}=(0,v.cI)(),le=JSON.parse(localStorage.getItem("slotDescription")),[ie,te]=(0,t.useState)(!1),[oe,ne]=(0,t.useState)(""),[ae]=(0,t.useState)(1e3),se=(0,n.I0)(),de=(0,n.v9)((e=>{var l,i;return null===e||void 0===e||null===(l=e.appointmentDetails)||void 0===l||null===(i=l.createAppointmentDetails)||void 0===i?void 0:i.data})),re=(0,n.v9)((e=>{var l;return null===e||void 0===e||null===(l=e.appointmentDetails)||void 0===l?void 0:l.getAptDetails})),{isLoading:ce,isError:me,isSuccess:ue}=(0,n.v9)((e=>null===e||void 0===e?void 0:e.appointmentDetails)),pe=e=>l=>{J((i=>({...i,[e]:l.target.value})))},ve=ae-(null===oe||void 0===oe?void 0:oe.length);(0,t.useEffect)((()=>{const e={appointmentId:null===le||void 0===le?void 0:le.appointmentId};se((0,D.mQ)(e))}),[se,null===le||void 0===le?void 0:le.appointmentId]);const xe=e=>{const l={appointmentId:null===le||void 0===le?void 0:le.appointmentId};se((0,D.mQ)(l)),te(!1),ee()};return(0,I.jsx)(I.Fragment,{children:ce?(0,I.jsx)("p",{className:"my-5 text-center fst-italic",style:{color:"#999999"},children:"Loading..."}):ue?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("span",{className:"d-flex justify-content-end",children:!1===ie&&(null===re||void 0===re?void 0:re.data)&&(0,I.jsxs)(r.Z,{className:"edit-btn py-1 px-3 d-flex align-items-center",onClick:()=>{te(!0)},children:[(0,I.jsx)(Z.ffH,{}),(0,I.jsx)("p",{className:"mb-0 ps-2",children:"Edit"})]})}),(0,I.jsx)(a.Z,{onSubmit:$((function(e){var l,i;const t={appointmentDetailId:null!==de&&void 0!==de&&de.appointmentDetailId?null===de||void 0===de?void 0:de.appointmentDetailId:null!==re&&void 0!==re&&null!==(l=re.data)&&void 0!==l&&l.appointmentDetailId?null===re||void 0===re||null===(i=re.data)||void 0===i?void 0:i.appointmentDetailId:0,appointmentId:null===le||void 0===le?void 0:le.appointmentId,presentingComplaint:e.presentingComplaint?e.presentingComplaint:null!==de&&void 0!==de&&de.presentingComplaint?null===de||void 0===de?void 0:de.presentingComplaint:"",historyOfPresentingComplaint:e.presentingComplaint?e.presentingComplaint:null!==de&&void 0!==de&&de.presentingComplaint?null===de||void 0===de?void 0:de.presentingComplaint:"",pastMedicalHistory:e.pastMedicalHistory?e.pastMedicalHistory:null!==de&&void 0!==de&&de.pastMedicalHistory?null===de||void 0===de?void 0:de.pastMedicalHistory:"",medications:e.medications?e.medications:null!==de&&void 0!==de&&de.medications?null===de||void 0===de?void 0:de.medications:"",allergies:e.allergies?e.allergies:null!==de&&void 0!==de&&de.allergies?null===de||void 0===de?void 0:de.allergies:"",familyHistory:e.familyHistory?e.familyHistory:null!==de&&void 0!==de&&de.familyHistory?null===de||void 0===de?void 0:de.familyHistory:"",socialHistory:e.socialHistory?e.socialHistory:null!==de&&void 0!==de&&de.socialHistory?null===de||void 0===de?void 0:de.socialHistory:"",objectiveExamination:null!==e&&void 0!==e&&e.objectiveExamination?null===e||void 0===e?void 0:e.objectiveExamination:null!==de&&void 0!==de&&de.objectiveExamination?null===de||void 0===de?void 0:de.objectiveExamination:"",suspectedDiagnosis:null!==e&&void 0!==e&&e.suspectedDiagnosis?null===e||void 0===e?void 0:e.suspectedDiagnosis:null!==de&&void 0!==de&&de.suspectedDiagnosis?null===de||void 0===de?void 0:de.suspectedDiagnosis:"",recommendedActions:null!==e&&void 0!==e&&e.recommendedActions?null===e||void 0===e?void 0:e.recommendedActions:null!==de&&void 0!==de&&de.recommendedActions?null===de||void 0===de?void 0:de.recommendedActions:"",signOff:null!==e&&void 0!==e&&e.signOff?null===e||void 0===e?void 0:e.signOff:null!==de&&void 0!==de&&de.signOff?null===de||void 0===de?void 0:de.signOff:"",appointmentAttended:!0===U,failuretoattendnotes:null!==e&&void 0!==e&&e.failuretoattendnotes?null===e||void 0===e?void 0:e.failuretoattendnotes:null!==de&&void 0!==de&&de.failuretoattendnotes?null===de||void 0===de?void 0:de.failuretoattendnotes:""};null!==re&&void 0!==re&&re.data?se((0,D.gx)({finalData:t,onCreateSuccess:xe})):se((0,D.rp)({finalData:t,onCreateSuccess:xe}))})),children:(0,I.jsxs)(f.Z,{children:[!U||null!==re&&void 0!==re&&null!==(l=re.data)&&void 0!==l&&l.failuretoattendnotes?(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(j.Z,{xs:12,children:(0,I.jsxs)(a.Z.Group,{style:{fontSize:"18px",fontWeight:500},controlId:"failuretoattendnotes",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Failure to attend notes"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:5,placeholder:"Add notes for failure to attend",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("failuretoattendnotes",{required:!0}),onChange:e=>{ne(e.target.value)},isInvalid:(null===oe||void 0===oe?void 0:oe.length)>ae,style:{height:"200px",whiteSpace:"pre-wrap"},maxLength:250,defaultValue:null!==(B=null===re||void 0===re||null===(Q=re.data)||void 0===Q?void 0:Q.failuretoattendnotes)&&void 0!==B?B:"",readOnly:(null===re||void 0===re||null===(Y=re.data)||void 0===Y||!Y.failuretoattendnotes||!ie)&&!(null===re||void 0===re||null===(_=re.data)||void 0===_||!_.failuretoattendnotes)}),(0,I.jsxs)("span",{className:"mt-3 float-right",bg:"".concat((null===oe||void 0===oe?void 0:oe.length)>ae?"danger":"primary"),children:["Remaining characters ",ve]})]})})}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(j.Z,{sm:6,xs:12,className:"px-0 ps-lg-2",children:[(0,I.jsx)("p",{className:"mb-2",style:{fontSize:"18px",fontWeight:500},children:"Appointment Date"}),(0,I.jsxs)("span",{className:"d-flex",children:[(0,I.jsx)(y(),{selected:le&&new Date(le.appointmentDate),dateFormat:"dd MMM yyyy",placeholderText:"23 Jan 2023",className:"custom-field-picker py-2 px-3 w-100 bg-transparent",disabled:!0}),(0,I.jsx)(b.zlR,{className:"custom-date-icon",size:18,style:{top:"12px",right:"34px"}})]})]}),(0,I.jsxs)(j.Z,{sm:6,xs:12,className:"ps-0",children:[(0,I.jsx)("p",{className:"mb-2",style:{fontSize:"18px",fontWeight:500},children:"Appointment Time"}),(0,I.jsxs)("div",{className:"d-flex align-items-center position-relative",children:[(0,I.jsx)(a.Z.Control,{type:"text",name:"appointmentStartTime",className:"w-100 custom-field-picker py-2 px-3 bg-transparent color-99",value:null===le||void 0===le?void 0:le.appointmentStartTime,disabled:!0}),(0,I.jsx)(N.Gtc,{style:{color:"#999999",position:"absolute",right:"10px",pointerEvents:"none"},size:16})]})]}),(0,I.jsx)(j.Z,{xs:12,children:(0,I.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"presentingComplaint",children:[(0,I.jsxs)(a.Z.Label,{className:"mb-0",children:["Presenting Complaint",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:1,placeholder:"Tiredness",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("presentingComplaint"),name:"presentingComplaint",defaultValue:(null===K||void 0===K?void 0:K.presentingComplaint)||(null===re||void 0===re||null===(i=re.data)||void 0===i?void 0:i.presentingComplaint),onChange:pe("presentingComplaint"),maxLength:250,required:!0,readOnly:(null===re||void 0===re||null===(o=re.data)||void 0===o||!o.presentingComplaint||!ie)&&!(null===re||void 0===re||null===(s=re.data)||void 0===s||!s.presentingComplaint)})]})}),(0,I.jsx)(j.Z,{xs:12,children:(0,I.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"pastMedicalHistory",children:[(0,I.jsxs)(a.Z.Label,{className:"mb-0",children:["Past Medical History",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about past medical history",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("pastMedicalHistory"),name:"pastMedicalHistory",defaultValue:(null===K||void 0===K?void 0:K.pastMedicalHistory)||(null===re||void 0===re||null===(d=re.data)||void 0===d?void 0:d.pastMedicalHistory),onChange:pe("pastMedicalHistory"),readOnly:(null===re||void 0===re||null===(c=re.data)||void 0===c||!c.pastMedicalHistory||!ie)&&!(null===re||void 0===re||null===(m=re.data)||void 0===m||!m.pastMedicalHistory),maxLength:250,required:!0})]})}),(0,I.jsx)(j.Z,{xs:12,children:(0,I.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"medications",children:[(0,I.jsxs)(a.Z.Label,{className:"mb-0",children:["Medications",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about past medical history",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("medications"),name:"medications",defaultValue:(null===K||void 0===K?void 0:K.medications)||(null===re||void 0===re||null===(u=re.data)||void 0===u?void 0:u.medications),onChange:pe("medications"),readOnly:(null===re||void 0===re||null===(p=re.data)||void 0===p||!p.medications||!ie)&&!(null===re||void 0===re||null===(x=re.data)||void 0===x||!x.medications),maxLength:250,required:!0})]})}),(0,I.jsx)(j.Z,{xs:12,children:(0,I.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"allergies",children:[(0,I.jsxs)(a.Z.Label,{className:"mb-0",children:["Allergies",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about allergy history",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("allergies"),name:"allergies",defaultValue:(null===K||void 0===K?void 0:K.allergies)||(null===re||void 0===re||null===(h=re.data)||void 0===h?void 0:h.allergies),onChange:pe("allergies"),readOnly:(null===re||void 0===re||null===(g=re.data)||void 0===g||!g.allergies||!ie)&&!(null===re||void 0===re||null===(C=re.data)||void 0===C||!C.allergies),maxLength:250,required:!0})]})}),(0,I.jsx)(j.Z,{xs:12,children:(0,I.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"familyHistory",children:[(0,I.jsxs)(a.Z.Label,{className:"mb-0",children:["Family History",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about family history",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("familyHistory"),name:"familyHistory",defaultValue:(null===K||void 0===K?void 0:K.familyHistory)||(null===re||void 0===re||null===(w=re.data)||void 0===w?void 0:w.familyHistory),onChange:pe("familyHistory"),readOnly:(null===re||void 0===re||null===(A=re.data)||void 0===A||!A.familyHistory||!ie)&&!(null===re||void 0===re||null===(S=re.data)||void 0===S||!S.familyHistory),maxLength:250,required:!0})]})}),(0,I.jsx)(j.Z,{xs:12,children:(0,I.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"socialHistory",children:[(0,I.jsxs)(a.Z.Label,{className:"mb-0",children:["Social History",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about social history",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("socialHistory"),name:"socialHistory",defaultValue:(null===K||void 0===K?void 0:K.socialHistory)||(null===re||void 0===re||null===(F=re.data)||void 0===F?void 0:F.socialHistory),onChange:pe("socialHistory"),readOnly:(null===re||void 0===re||null===(H=re.data)||void 0===H||!H.socialHistory||!ie)&&!(null===re||void 0===re||null===(L=re.data)||void 0===L||!L.socialHistory),maxLength:250,required:!0})]})}),(0,I.jsx)(j.Z,{xs:12,children:(0,I.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"objectiveExamination",children:[(0,I.jsxs)(a.Z.Label,{className:"mb-0",children:["Objective Examination",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about objective examination",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("objectiveExamination"),name:"objectiveExamination",defaultValue:(null===K||void 0===K?void 0:K.objectiveExamination)||(null===re||void 0===re||null===(k=re.data)||void 0===k?void 0:k.objectiveExamination),onChange:pe("objectiveExamination"),readOnly:(null===re||void 0===re||null===(z=re.data)||void 0===z||!z.objectiveExamination||!ie)&&!(null===re||void 0===re||null===(E=re.data)||void 0===E||!E.objectiveExamination),maxLength:250,required:!0})]})}),(0,I.jsx)(j.Z,{xs:12,children:(0,I.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"suspectedDiagnosis",children:[(0,I.jsxs)(a.Z.Label,{className:"mb-0",children:["Suspected Diagnosis",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about suspected diagnosis",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("suspectedDiagnosis"),name:"suspectedDiagnosis",defaultValue:(null===K||void 0===K?void 0:K.suspectedDiagnosis)||(null===re||void 0===re||null===(O=re.data)||void 0===O?void 0:O.suspectedDiagnosis),onChange:pe("suspectedDiagnosis"),readOnly:(null===re||void 0===re||null===(P=re.data)||void 0===P||!P.suspectedDiagnosis||!ie)&&!(null===re||void 0===re||null===(M=re.data)||void 0===M||!M.suspectedDiagnosis),maxLength:250,required:!0})]})}),(0,I.jsx)(j.Z,{xs:12,children:(0,I.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"recommendedActions",children:[(0,I.jsxs)(a.Z.Label,{className:"mb-0",children:["Recommended Actions",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Tell about some recommended actions",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("recommendedActions"),name:"recommendedActions",defaultValue:(null===K||void 0===K?void 0:K.recommendedActions)||(null===re||void 0===re||null===(T=re.data)||void 0===T?void 0:T.recommendedActions),onChange:pe("recommendedActions"),readOnly:(null===re||void 0===re||null===(V=re.data)||void 0===V||!V.recommendedActions||!ie)&&!(null===re||void 0===re||null===(G=re.data)||void 0===G||!G.recommendedActions),maxLength:250,required:!0})]})}),(0,I.jsx)(j.Z,{xs:12,children:(0,I.jsxs)(a.Z.Group,{className:"mt-3",style:{fontSize:"18px",fontWeight:500},controlId:"signOff",children:[(0,I.jsxs)(a.Z.Label,{className:"mb-0",children:["Sign off",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"",className:"pt-2 ".concat(ie&&"bg-transparent"),...X("signOff"),name:"signOff",defaultValue:(null===K||void 0===K?void 0:K.signOff)||(null===re||void 0===re||null===(q=re.data)||void 0===q?void 0:q.signOff),onChange:pe("signOff"),readOnly:(null===re||void 0===re||null===(W=re.data)||void 0===W||!W.signOff||!ie)&&!(null===re||void 0===re||null===(R=re.data)||void 0===R||!R.signOff),maxLength:250,required:!0})]})})]}),(!(null!==re&&void 0!==re&&re.data)||!0===ie)&&(0,I.jsx)(j.Z,{xs:12,children:(0,I.jsx)(r.Z,{className:"mt-4 start-apt-btn float-right",type:"submit",children:"Save"})})]})})]}):me?(0,I.jsx)("p",{className:"my-5 text-center text-danger fst-italic",children:"Network Error"}):null})}var w=i(29546),A=i(1444),S=i(17425),F=i(38713),H=i(45225),L=i(63524),k=i(76364),z=i(60842);function E(){var e,l;const i=JSON.parse(localStorage.getItem("slotDescription")),{register:o,handleSubmit:s,reset:d,setValue:c}=(0,v.cI)(),[m,u]=(0,t.useState)(!1),x=(0,t.useRef)(null),[h,g]=(0,t.useState)(),[y,N]=(0,t.useState)(!1),[C,E]=(0,t.useState)(!1),{getMediCertificate:O,isLoading:P,isSuccess:M,isError:T}=(0,n.v9)((e=>null===e||void 0===e?void 0:e.appointmentDetails)),[V,G]=(0,t.useState)(null!==O&&void 0!==O&&O.fromDate?new Date(null===O||void 0===O?void 0:O.fromDate.split("T")[0]):null),[q,W]=(0,t.useState)(null!==O&&void 0!==O&&O.toDate?new Date(null===O||void 0===O?void 0:O.toDate.split("T")[0]):null),{detailDTO:R}=(0,n.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointedDetail)||{}})),{getUserData:B}=(0,n.v9)((e=>null===e||void 0===e?void 0:e.userRole)),Q=(0,n.I0)();(0,t.useEffect)((()=>{O?(G(new Date(null===O||void 0===O?void 0:O.fromDate.split("T")[0])),W(new Date(null===O||void 0===O?void 0:O.toDate.split("T")[0]))):(G(null),W(null))}),[O]),(0,t.useEffect)((()=>{null!==O&&void 0!==O&&O.unabletoAttendField&&c("unabletoAttendField",null===O||void 0===O?void 0:O.unabletoAttendField)}),[null===O||void 0===O?void 0:O.unabletoAttendField,c]),(0,t.useEffect)((()=>{const e={appointmentId:null===i||void 0===i?void 0:i.appointmentId};Q((0,D.qk)(e))}),[Q,null===i||void 0===i?void 0:i.appointmentId]);const Y=()=>{const e={appointmentId:null===i||void 0===i?void 0:i.appointmentId};Q((0,D.qk)(e)),u(!1)};return(0,I.jsxs)(I.Fragment,{children:[P?(0,I.jsx)("p",{className:"my-5 text-center fst-italic",style:{color:"#999999"},children:"Loading..."}):M?(0,I.jsx)(a.Z,{onSubmit:s((function(e){const l={medicalCertificateId:null!==O&&void 0!==O&&O.medicalCertificateId?null===O||void 0===O?void 0:O.medicalCertificateId:0,appointmentId:null===i||void 0===i?void 0:i.appointmentId,fromDate:V?p()(V).format("YYYY-MM-DD"):null,toDate:q?p()(q).format("YYYY-MM-DD"):null,name:e.name,unabletoAttendField:e.unabletoAttendField,pdfFile:null,sufferingFrom:null===e||void 0===e?void 0:e.name,showMedicalCertificate:y,isPatient:!1};null!==O&&void 0!==O&&O.name?Q((0,D.T_)({finalData:l,onCreateSuccess:Y})):Q((0,D._d)({finalData:l,onCreateSuccess:Y}))})),className:"med-certificate",children:(0,I.jsxs)(f.Z,{children:[(0,I.jsxs)(j.Z,{md:12,className:"d-flex justify-content-between",children:[(0,I.jsx)(a.Z.Check,{type:"checkbox",id:"show-medical-certificate",label:"Show to Patient",onChange:()=>{N(!y)},disabled:!(!0===(null===O||void 0===O?void 0:O.showMedicalCertificate)&&m||!1===(null===O||void 0===O?void 0:O.showMedicalCertificate)&&m)&&!(null===O||void 0===O||!O.medicalCertificateId),defaultChecked:null!==(e=null===O||void 0===O?void 0:O.showMedicalCertificate)&&void 0!==e?e:""}),(null===O||void 0===O?void 0:O.name)&&!1===m&&(0,I.jsx)(w.Z,{id:"dropdown-item-button",title:(0,I.jsx)(b.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,I.jsxs)("div",{className:"set-dropdown-menu",children:[(0,I.jsxs)(A.Z.Item,{className:"d-flex align-items-center",onClick:()=>{u(!0)},children:[(0,I.jsx)(Z.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},children:"Edit"})]}),(0,I.jsx)(A.Z.Item,{className:"d-flex align-items-center",children:(0,I.jsx)(H.ZP,{trigger:(0,I.jsxs)("button",{ref:x,className:"bg-transparent border-0 p-0",children:[(0,I.jsx)(L.bAs,{size:20})," Download PDF"]}),children:(0,I.jsx)(k.Z,{MedicalCertificateData:O,detailDTO:R,getUserData:B})})}),(0,I.jsxs)(A.Z.Item,{className:"d-flex align-items-center",onClick:()=>{g(null===O||void 0===O?void 0:O.medicalCertificateId),E(!0)},children:[(0,I.jsx)(S.w6k,{size:18,style:{color:"#FD2121"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#FD2121"},children:"Remove"})]})]})})]}),(0,I.jsxs)(j.Z,{lg:6,xs:12,children:[(0,I.jsx)("label",{className:"mb-2",children:"From"}),(0,I.jsx)(z.Z,{selectedDateState:V,onChange:e=>G(e),className:"me-2",useDrDateClass:!1,dateFormat:"dd/MM/yyyy",placeholderText:"day/month/year",disabled:(null===O||void 0===O||!O.fromDate||!m)&&!(null===O||void 0===O||!O.fromDate)})]}),(0,I.jsxs)(j.Z,{lg:6,xs:12,children:[(0,I.jsx)("label",{className:"mb-2",children:"To"}),(0,I.jsx)(z.Z,{selectedDateState:q,onChange:e=>W(e),useDrDateClass:!1,dateFormat:"dd/MM/yyyy",placeholderText:"day/month/year",disabled:(null===O||void 0===O||!O.toDate||!m)&&!(null===O||void 0===O||!O.toDate)})]}),(0,I.jsx)(j.Z,{xs:12,children:(0,I.jsxs)(a.Z.Group,{className:"my-3",controlId:"unable-to-attend",children:[(0,I.jsx)(a.Z.Label,{children:"Unable to Attend"}),(0,I.jsxs)(a.Z.Select,{"aria-label":"Select Unable to Attend",...o("unabletoAttendField",{required:!0}),disabled:(null===O||void 0===O||!O.unabletoAttendField||!m)&&!(null===O||void 0===O||!O.unabletoAttendField),children:[(0,I.jsx)("option",{value:"",children:"Select Value"}),(0,I.jsx)("option",{value:"work",children:"Work"}),(0,I.jsx)("option",{value:"school",children:"School"}),(0,I.jsx)("option",{value:"college",children:"College"}),(0,I.jsx)("option",{value:"jury duty",children:"Jury Duty"})]})]})}),(0,I.jsx)(j.Z,{xs:12,children:(0,I.jsxs)(a.Z.Group,{className:"mb-3",controlId:"suffering-from",children:[(0,I.jsx)(a.Z.Label,{className:"label-primary",children:"Suffering From"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:3,className:"".concat((m||(null===O||void 0===O?void 0:O.name))&&"bg-transparent"),placeholder:"Tell about some medical certificate",...o("name",{required:!0}),defaultValue:null!==(l=null===O||void 0===O?void 0:O.name)&&void 0!==l?l:"",readOnly:(null===O||void 0===O||!O.name||!m)&&!(null===O||void 0===O||!O.name),maxLength:250})]})}),(0,I.jsx)(j.Z,{xs:3,className:"w-100",children:(!(null!==O&&void 0!==O&&O.name)||!0===m)&&(0,I.jsx)(r.Z,{className:"mt-2 mb-3 start-apt-btn float-right",type:"submit",children:"Save"})})]})}):T?(0,I.jsx)("p",{className:"my-5 text-center text-danger fst-italic",children:"Network Error"}):null,(0,I.jsx)(F.c,{show:C,onHide:()=>E(!1),heading:"Delete Medical Certificate",title:"this medical certificate",removeFunc:function(){const e={medicalcertificateId:h};Q((0,D.O7)({finalData:e,onCreateSuccess:Y})),d()}})]})}var O=i(95985),P=i(24278);function M(){var e,l,i,o,s,d;const c=JSON.parse(localStorage.getItem("slotDescription")),{register:m,handleSubmit:u,reset:p}=(0,v.cI)(),[x,h]=(0,t.useState)(),[f,j]=(0,t.useState)(!1),[g,y]=(0,t.useState)(!1),{patientAppointmentNotes:N,isLoading:D,isError:C,isSuccess:H}=(0,n.v9)((e=>(null===e||void 0===e?void 0:e.appointment)||{})),L=(0,n.I0)(),k=(new Date).toISOString().slice(0,19);(0,t.useEffect)((()=>{const e={appointmentId:null===c||void 0===c?void 0:c.appointmentId};L((0,P.zp)(e))}),[L,null===c||void 0===c?void 0:c.appointmentId]);const z=()=>{const e={appointmentId:null===c||void 0===c?void 0:c.appointmentId};L((0,P.zp)(e)),y(!1),p()};return(0,I.jsxs)(I.Fragment,{children:[D?(0,I.jsx)("p",{className:"my-5 text-center fst-italic",style:{color:"#999999"},children:"Loading..."}):H?(0,I.jsxs)(a.Z,{onSubmit:u((function(e){var l,i,t,o;const n={noteId:null!==N&&void 0!==N&&null!==(l=N.note)&&void 0!==l&&l.noteId?null===N||void 0===N||null===(i=N.note)||void 0===i?void 0:i.noteId:0,patientId:null===c||void 0===c?void 0:c.patientId,doctorId:null===c||void 0===c?void 0:c.doctorId,appointmentId:null===c||void 0===c?void 0:c.appointmentId,noteTypeId:1,note:null===e||void 0===e?void 0:e.note,date:k,showNote:!0,isPatient:!1,appointmentDetail:null!==N&&void 0!==N&&null!==(t=N.note)&&void 0!==t&&t.note?{appointmentDetailId:0}:null};null!==N&&void 0!==N&&null!==(o=N.note)&&void 0!==o&&o.note?L((0,O.fW)({finalData:n,moveToNext:z})):L((0,O.K1)({finalData:n,moveToNext:z}))})),children:[(0,I.jsx)(a.Z.Group,{className:"mb-3",controlId:"medicalForm.ControlTextarea1",children:(0,I.jsxs)("span",{className:"d-flex justify-content-between",children:[(0,I.jsx)(a.Z.Control,{as:"textarea",rows:3,className:"".concat((g||(null===N||void 0===N||null===(e=N.note)||void 0===e?void 0:e.note))&&"bg-transparent"),placeholder:"Tell about Notes to Patient",...m("note",{required:!0}),defaultValue:(null===N||void 0===N||null===(l=N.note)||void 0===l?void 0:l.note)||"",readOnly:(null===N||void 0===N||null===(i=N.note)||void 0===i||!i.note||!g)&&!(null===N||void 0===N||null===(o=N.note)||void 0===o||!o.note)}),(null===N||void 0===N||null===(s=N.note)||void 0===s?void 0:s.note)&&!1===g&&(0,I.jsx)(w.Z,{id:"dropdown-item-button",title:(0,I.jsx)(b.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,I.jsxs)("div",{className:"set-dropdown-menu",children:[(0,I.jsxs)(A.Z.Item,{className:"d-flex align-items-center",onClick:()=>{y(!0)},children:[(0,I.jsx)(Z.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},children:"Edit"})]}),(0,I.jsxs)(A.Z.Item,{className:"d-flex align-items-center",onClick:()=>{var e;h(null===N||void 0===N||null===(e=N.note)||void 0===e?void 0:e.noteId),j(!0)},children:[(0,I.jsx)(S.w6k,{size:18,style:{color:"#FD2121"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#FD2121"},children:"Remove"})]})]})})]})}),(!(null!==N&&void 0!==N&&null!==(d=N.note)&&void 0!==d&&d.note)||!0===g)&&(0,I.jsx)(r.Z,{className:"mt-2 mb-3 start-apt-btn float-right",type:"submit",children:"Save"})]}):C?(0,I.jsx)("p",{className:"my-5 text-center text-danger fst-italic",children:"Network Error"}):null,(0,I.jsx)(F.c,{show:f,onHide:()=>j(!1),heading:"Delete Notes to Patient",title:"this notes to patient",removeFunc:function(){const e={noteId:x};L((0,O.GA)({finalData:e,moveToNext:z}))}})]})}var T=i(80591),V=i(97866),G=i(44494);function q(e){var l,i,o,s,d,c,m,u,p,x,h,g,y,N,D,C,k,z,E,O,M,T,q;let{inputFieldValues:W}=e;const{register:R,handleSubmit:B,reset:Q}=(0,v.cI)(),Y=JSON.parse(localStorage.getItem("slotDescription")),[_,U]=(0,t.useState)(!1),[J,K]=(0,t.useState)(!0),[X,$]=(0,t.useState)(!1),[ee,le]=(0,t.useState)(!1),[ie,te]=(0,t.useState)(!1),[oe,ne]=(0,t.useState)(),[ae,se]=(0,t.useState)(!1),de=(0,t.useRef)(null),re=(0,n.I0)(),{data:ce}=(0,n.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointmentDetails)||void 0===l?void 0:l.getAptDetails)||{}})),{specialistLetter:me}=(0,n.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointmentNotes)||{}})),{detailDTO:ue}=(0,n.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointedDetail)||{}})),{getUserData:pe}=(0,n.v9)((e=>e.userRole)),ve=(0,n.v9)((e=>{var l;return null===e||void 0===e||null===(l=e.appointmentDetails)||void 0===l?void 0:l.getAptDetails})),xe=(new Date).toISOString().slice(0,19),he=()=>{const e={appointmentId:null===Y||void 0===Y?void 0:Y.appointmentId};re((0,P.zp)(e)),U(!1),$(!1)};(0,t.useEffect)((()=>{const e={appointmentId:null===Y||void 0===Y?void 0:Y.appointmentId};re((0,P.zp)(e))}),[re,null===Y||void 0===Y?void 0:Y.appointmentId]);const fe=()=>{Q();const e={appointmentId:null===Y||void 0===Y?void 0:Y.appointmentId};re((0,P.zp)(e)),te(!1)};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(a.Z,{onSubmit:B((function(e){var l,i,t;const o={noteId:null!==me&&void 0!==me&&me.noteId?null===me||void 0===me?void 0:me.noteId:0,noteTypeId:2,patientId:null===Y||void 0===Y?void 0:Y.patientId,doctorId:null===Y||void 0===Y?void 0:Y.doctorId,referralNote:ie?null:null===e||void 0===e||null===(l=e.referralNote)||void 0===l?void 0:l.trim(),specialistLetter:e.specialistLetter,referralTypeId:1,toDoctor:e.toDoctor,appointmentId:null===Y||void 0===Y?void 0:Y.appointmentId,showNote:ae,date:xe,isPatient:!1,appointmentDetail:ie||null!==me&&void 0!==me&&null!==(i=me.appointmentDetail)&&void 0!==i&&i.appointmentDetailId?{appointmentDetailId:null!==me&&void 0!==me&&me.noteId?null===me||void 0===me||null===(t=me.appointmentDetail)||void 0===t?void 0:t.appointmentDetailId:0,appointmentId:null===Y||void 0===Y?void 0:Y.appointmentId,presentingComplaint:null!==e&&void 0!==e&&e.presentingComplaint?null===e||void 0===e?void 0:e.presentingComplaint:null!==W&&void 0!==W&&W.presentingComplaint?null===W||void 0===W?void 0:W.presentingComplaint:null===ce||void 0===ce?void 0:ce.presentingComplaint,historyOfPresentingComplaint:null!==e&&void 0!==e&&e.presentingComplaint?null===e||void 0===e?void 0:e.presentingComplaint:null!==W&&void 0!==W&&W.presentingComplaint?null===W||void 0===W?void 0:W.presentingComplaint:null===ce||void 0===ce?void 0:ce.presentingComplaint,pastMedicalHistory:null!==e&&void 0!==e&&e.pastMedicalHistory?null===e||void 0===e?void 0:e.pastMedicalHistory:null!==W&&void 0!==W&&W.pastMedicalHistory?null===W||void 0===W?void 0:W.pastMedicalHistory:null===ce||void 0===ce?void 0:ce.pastMedicalHistory,medications:null!==e&&void 0!==e&&e.medications?null===e||void 0===e?void 0:e.medications:null!==W&&void 0!==W&&W.medications?null===W||void 0===W?void 0:W.medications:null===ce||void 0===ce?void 0:ce.medications,allergies:null!==e&&void 0!==e&&e.allergies?null===e||void 0===e?void 0:e.allergies:null!==W&&void 0!==W&&W.allergies?null===W||void 0===W?void 0:W.allergies:null===ce||void 0===ce?void 0:ce.allergies,familyHistory:null!==e&&void 0!==e&&e.familyHistory?null===e||void 0===e?void 0:e.familyHistory:null!==W&&void 0!==W&&W.familyHistory?null===W||void 0===W?void 0:W.familyHistory:null===ce||void 0===ce?void 0:ce.familyHistory,socialHistory:null!==e&&void 0!==e&&e.socialHistory?null===e||void 0===e?void 0:e.socialHistory:null!==W&&void 0!==W&&W.socialHistory?null===W||void 0===W?void 0:W.socialHistory:null===ce||void 0===ce?void 0:ce.socialHistory,objectiveExamination:null!==e&&void 0!==e&&e.objectiveExamination?null===e||void 0===e?void 0:e.objectiveExamination:null!==W&&void 0!==W&&W.objectiveExamination?null===W||void 0===W?void 0:W.objectiveExamination:null===ce||void 0===ce?void 0:ce.objectiveExamination,suspectedDiagnosis:null!==e&&void 0!==e&&e.suspectedDiagnosis?null===e||void 0===e?void 0:e.suspectedDiagnosis:null!==W&&void 0!==W&&W.suspectedDiagnosis?null===W||void 0===W?void 0:W.suspectedDiagnosis:null===ce||void 0===ce?void 0:ce.suspectedDiagnosis,recommendedActions:null!==e&&void 0!==e&&e.recommendedActions?null===e||void 0===e?void 0:e.recommendedActions:null!==W&&void 0!==W&&W.recommendedActions?null===W||void 0===W?void 0:W.recommendedActions:null===ce||void 0===ce?void 0:ce.recommendedActions,signOff:null!==e&&void 0!==e&&e.signOff?null===e||void 0===e?void 0:e.signOff:null!==W&&void 0!==W&&W.signOff?null===W||void 0===W?void 0:W.signOff:null===ce||void 0===ce?void 0:ce.signOff,appointmentAttended:!0,failuretoattendnotes:"",referralTypeId:1,noteId:null!==me&&void 0!==me&&me.noteId?null===me||void 0===me?void 0:me.noteId:0}:null!==me&&void 0!==me&&me.noteId?{appointmentDetailId:0}:null};null!==me&&void 0!==me&&me.noteId?re((0,V.YY)({finalData:o,onCreateSuccess:he})):re((0,V.lU)({finalData:o,onCreateSuccess:he})),K(!0)})),children:(0,I.jsx)(f.Z,{children:(0,I.jsx)(j.Z,{xs:12,className:"my-3",children:(0,I.jsxs)("div",{style:{background:"#F8F8F8",borderRadius:"5px"},className:"px-3 py-3 h-100",children:[(0,I.jsxs)("span",{className:"d-flex justify-content-between",children:[(0,I.jsx)("p",{className:"referral-main-text",style:{color:"#2269F2"},children:"Specialist Letter"}),(null===me||void 0===me?void 0:me.patientId)&&!1===X&&(0,I.jsx)(w.Z,{id:"dropdown-item-button",title:(0,I.jsx)(b.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,I.jsxs)("div",{className:"set-dropdown-menu",children:[(0,I.jsxs)(A.Z.Item,{className:"d-flex align-items-center",children:[(0,I.jsx)(Z.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},onClick:()=>{U(!0),$(!0),K(!1)},children:"Edit"})]}),(0,I.jsx)(A.Z.Item,{className:"d-flex align-items-center",children:(0,I.jsxs)(H.ZP,{trigger:(0,I.jsxs)("button",{ref:de,className:"bg-transparent border-0 p-0",children:[(0,I.jsx)(L.bAs,{size:20})," Download PDF"]}),children:[(0,I.jsx)(G.Z,{specialistLetter:me,detailDTO:ue,getUserData:pe}),console.log("specialistLetter",me)]})}),(0,I.jsxs)(A.Z.Item,{className:"d-flex align-items-center",onClick:()=>{ne(null===me||void 0===me?void 0:me.noteId),le(!0)},children:[(0,I.jsx)(S.w6k,{size:18,style:{color:"#FD2121"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#FD2121"},children:"Remove"})]})]})})]}),(0,I.jsx)(a.Z.Check,{type:"checkbox",id:"show-speciality-notes",label:"Show to Patient",onChange:()=>se(!ae),disabled:!(!0===(null===me||void 0===me?void 0:me.showNote)&&X||!1===(null===me||void 0===me?void 0:me.showNote)&&X)&&!(null===me||void 0===me||!me.noteId),defaultChecked:null===me||void 0===me?void 0:me.showNote}),(0,I.jsxs)(a.Z.Group,{className:"mb-3",controlId:"referralLetterLabel",children:[(0,I.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Refferal Letter"}),(0,I.jsx)(a.Z.Control,{type:"text",placeholder:"Tiredness",className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("specialistLetter",{required:!0}),defaultValue:null!==(l=null===me||void 0===me?void 0:me.specialistLetter)&&void 0!==l?l:"",maxLength:250,readOnly:(null===me||void 0===me||!me.specialistLetter||!X)&&!(null===me||void 0===me||!me.specialistLetter)})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-3",controlId:"toDoctorLabel",children:[(0,I.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"To"}),(0,I.jsx)(a.Z.Control,{type:"text",placeholder:"Specialist name",className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("toDoctor",{required:!0}),maxLength:250,defaultValue:null!==(i=null===me||void 0===me?void 0:me.toDoctor)&&void 0!==i?i:"",readOnly:(null===me||void 0===me||!me.toDoctor||!X)&&!(null===me||void 0===me||!me.toDoctor)})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"referralNoteTextarea",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Referral Notes"}),!1!==ie||null!==me&&void 0!==me&&me.appointmentDetail?"":(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Referral Note",className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("referralNote",{required:!0}),defaultValue:null!==(o=null===me||void 0===me?void 0:me.referralNote)&&void 0!==o?o:"",readOnly:(null===me||void 0===me||!me.referralNote||!X)&&!(null===me||void 0===me||!me.referralNote),maxLength:250})]}),(ie||(null===me||void 0===me?void 0:me.appointmentDetail))&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"presentingComplaint",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Presenting Complaint"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("presentingComplaint"),defaultValue:null!==W&&void 0!==W&&W.presentingComplaint?null===W||void 0===W?void 0:W.presentingComplaint:null!==me&&void 0!==me&&null!==(s=me.appointmentDetail)&&void 0!==s&&s.presentingComplaint?null===me||void 0===me||null===(d=me.appointmentDetail)||void 0===d?void 0:d.presentingComplaint:null!==ce&&void 0!==ce&&ce.presentingComplaint?null===ce||void 0===ce?void 0:ce.presentingComplaint:"N/A",disabled:J})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"pastMedicalHistory",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Past Medical History"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("pastMedicalHistory"),defaultValue:null!==W&&void 0!==W&&W.pastMedicalHistory?null===W||void 0===W?void 0:W.pastMedicalHistory:null!==me&&void 0!==me&&null!==(c=me.appointmentDetail)&&void 0!==c&&c.pastMedicalHistory?null===me||void 0===me||null===(m=me.appointmentDetail)||void 0===m?void 0:m.pastMedicalHistory:null!==ce&&void 0!==ce&&ce.pastMedicalHistory?null===ce||void 0===ce?void 0:ce.pastMedicalHistory:"N/A",disabled:J})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"medications",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Medications"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("medications"),defaultValue:null!==W&&void 0!==W&&W.medications?null===W||void 0===W?void 0:W.medications:null!==me&&void 0!==me&&null!==(u=me.appointmentDetail)&&void 0!==u&&u.medications?null===me||void 0===me||null===(p=me.appointmentDetail)||void 0===p?void 0:p.medications:null!==ce&&void 0!==ce&&ce.medications?null===ce||void 0===ce?void 0:ce.medications:"N/A",disabled:J})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"allergies",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Allergies"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("allergies"),defaultValue:null!==W&&void 0!==W&&W.allergies?null===W||void 0===W?void 0:W.allergies:null!==me&&void 0!==me&&null!==(x=me.appointmentDetail)&&void 0!==x&&x.allergies?null===me||void 0===me||null===(h=me.appointmentDetail)||void 0===h?void 0:h.allergies:null!==ce&&void 0!==ce&&ce.allergies?null===ce||void 0===ce?void 0:ce.allergies:"N/A",disabled:J})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"familyHistory",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Family History"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("familyHistory"),defaultValue:null!==W&&void 0!==W&&W.familyHistory?null===W||void 0===W?void 0:W.familyHistory:null!==me&&void 0!==me&&null!==(g=me.appointmentDetail)&&void 0!==g&&g.familyHistory?null===me||void 0===me||null===(y=me.appointmentDetail)||void 0===y?void 0:y.familyHistory:null!==ce&&void 0!==ce&&ce.familyHistory?null===ce||void 0===ce?void 0:ce.familyHistory:"N/A",disabled:J})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"socialHistory",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Social History"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("socialHistory"),defaultValue:null!==W&&void 0!==W&&W.socialHistory?null===W||void 0===W?void 0:W.socialHistory:null!==me&&void 0!==me&&null!==(N=me.appointmentDetail)&&void 0!==N&&N.socialHistory?null===me||void 0===me||null===(D=me.appointmentDetail)||void 0===D?void 0:D.socialHistory:null!==ce&&void 0!==ce&&ce.socialHistory?null===ce||void 0===ce?void 0:ce.socialHistory:"N/A",disabled:J})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"objectiveExamination",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Objective Examination"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("objectiveExamination"),defaultValue:null!==W&&void 0!==W&&W.objectiveExamination?null===W||void 0===W?void 0:W.objectiveExamination:null!==me&&void 0!==me&&null!==(C=me.appointmentDetail)&&void 0!==C&&C.objectiveExamination?null===me||void 0===me||null===(k=me.appointmentDetail)||void 0===k?void 0:k.objectiveExamination:null!==ce&&void 0!==ce&&ce.objectiveExamination?null===ce||void 0===ce?void 0:ce.objectiveExamination:"N/A",disabled:J})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"suspectedDiagnosis",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Suspected Diagnosis"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("suspectedDiagnosis"),defaultValue:null!==W&&void 0!==W&&W.suspectedDiagnosis?null===W||void 0===W?void 0:W.suspectedDiagnosis:null!==me&&void 0!==me&&null!==(z=me.appointmentDetail)&&void 0!==z&&z.suspectedDiagnosis?null===me||void 0===me||null===(E=me.appointmentDetail)||void 0===E?void 0:E.suspectedDiagnosis:null!==ce&&void 0!==ce&&ce.suspectedDiagnosis?null===ce||void 0===ce?void 0:ce.suspectedDiagnosis:"N/A",disabled:J})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"recommendedActions",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Recommended Actions"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("recommendedActions"),defaultValue:null!==W&&void 0!==W&&W.recommendedActions?null===W||void 0===W?void 0:W.recommendedActions:null!==me&&void 0!==me&&null!==(O=me.appointmentDetail)&&void 0!==O&&O.recommendedActions?null===me||void 0===me||null===(M=me.appointmentDetail)||void 0===M?void 0:M.recommendedActions:null!==ce&&void 0!==ce&&ce.recommendedActions?null===ce||void 0===ce?void 0:ce.recommendedActions:"N/A",disabled:J})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"signOff",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Sign off"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("signOff"),defaultValue:null!==W&&void 0!==W&&W.signOff?null===W||void 0===W?void 0:W.signOff:null!==me&&void 0!==me&&null!==(T=me.appointmentDetail)&&void 0!==T&&T.signOff?null===me||void 0===me||null===(q=me.appointmentDetail)||void 0===q?void 0:q.signOff:null!==ce&&void 0!==ce&&ce.signOff?null===ce||void 0===ce?void 0:ce.signOff:"N/A",disabled:J})]})]}),!(null!==me&&void 0!==me&&me.appointmentDetail)&&(null===ve||void 0===ve?void 0:ve.data)&&(0,I.jsx)("div",{className:"d-flex justify-content-end",children:(0,I.jsx)("p",{className:"mb-0",style:{color:"#2269F2",fontWeght:500,fontSize:"18px",cursor:"pointer"},onClick:()=>te(!0),children:"Generate letter with appointment notes"})}),!(null!==me&&void 0!==me&&me.patientId)&&(0,I.jsx)("div",{className:"d-flex justify-content-end",children:(0,I.jsx)(r.Z,{className:"start-apt-btn",type:"submit",children:"Save"})}),(null===me||void 0===me?void 0:me.patientId)&&!0===X&&(0,I.jsx)(r.Z,{className:"mt-2 mb-3 start-apt-btn float-right",type:"submit",children:"Update"})]})})})}),(0,I.jsx)(F.c,{show:ee,onHide:()=>le(!1),heading:"Delete Referral Notes",title:"this refferal notes",removeFunc:function(){const e={noteId:oe};re((0,V.FW)({finalData:e,onCreateDeleteSuccess:fe})),Q()}})]})}var W=i(27660);function R(e){var l,i,o,s,d,c,m,u,p,x,h,g,y,N,D,C,k,z,E,O,M,T,G;let{inputFieldValues:q}=e;const{register:R,handleSubmit:B,reset:Q}=(0,v.cI)(),Y=JSON.parse(localStorage.getItem("slotDescription")),[_,U]=(0,t.useState)(!1),[J,K]=(0,t.useState)(!0),[X,$]=(0,t.useState)(!1),[ee,le]=(0,t.useState)(),[ie,te]=(0,t.useState)(!1),[oe,ne]=(0,t.useState)(!1),[ae,se]=(0,t.useState)(!1),de=(0,t.useRef)(null),re=(0,n.I0)(),{data:ce}=(0,n.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointmentDetails)||void 0===l?void 0:l.getAptDetails)||{}})),{emergancyDepartmentLetter:me}=(0,n.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointmentNotes)||{}})),{detailDTO:ue}=(0,n.v9)((e=>{var l;return(null===e||void 0===e||null===(l=e.appointment)||void 0===l?void 0:l.patientAppointedDetail)||{}})),{getUserData:pe}=(0,n.v9)((e=>e.userRole)),ve=(new Date).toISOString().slice(0,19),xe=()=>{const e={appointmentId:null===Y||void 0===Y?void 0:Y.appointmentId};re((0,P.zp)(e)),U(!1),$(!1)};(0,t.useEffect)((()=>{const e={appointmentId:null===Y||void 0===Y?void 0:Y.appointmentId};re((0,P.zp)(e))}),[re,null===Y||void 0===Y?void 0:Y.appointmentId]);const he=()=>{Q();const e={appointmentId:null===Y||void 0===Y?void 0:Y.appointmentId};re((0,P.zp)(e)),ne(!1)};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(a.Z,{onSubmit:B((function(e){var l,i,t;const o={noteId:null!==me&&void 0!==me&&me.noteId?null===me||void 0===me?void 0:me.noteId:0,noteTypeId:2,patientId:null===Y||void 0===Y?void 0:Y.patientId,doctorId:null===Y||void 0===Y?void 0:Y.doctorId,referralNote:oe?null:null===e||void 0===e||null===(l=e.referralNote)||void 0===l?void 0:l.trim(),emergancyDepartmentLetter:e.emergancyDepartmentLetter,referralTypeId:2,toDoctor:e.toDoctor,appointmentId:null===Y||void 0===Y?void 0:Y.appointmentId,showNote:ae,isPatient:!1,date:ve,appointmentDetail:oe||null!==me&&void 0!==me&&null!==(i=me.appointmentDetail)&&void 0!==i&&i.appointmentDetailId?{appointmentDetailId:null!==me&&void 0!==me&&me.noteId?null===me||void 0===me||null===(t=me.appointmentDetail)||void 0===t?void 0:t.appointmentDetailId:0,appointmentId:null===Y||void 0===Y?void 0:Y.appointmentId,presentingComplaint:null!==e&&void 0!==e&&e.presentingComplaint?null===e||void 0===e?void 0:e.presentingComplaint:null!==q&&void 0!==q&&q.presentingComplaint?null===q||void 0===q?void 0:q.presentingComplaint:null===ce||void 0===ce?void 0:ce.presentingComplaint,historyOfPresentingComplaint:null!==e&&void 0!==e&&e.presentingComplaint?null===e||void 0===e?void 0:e.presentingComplaint:null!==q&&void 0!==q&&q.presentingComplaint?null===q||void 0===q?void 0:q.presentingComplaint:null===ce||void 0===ce?void 0:ce.presentingComplaint,pastMedicalHistory:null!==e&&void 0!==e&&e.pastMedicalHistory?null===e||void 0===e?void 0:e.pastMedicalHistory:null!==q&&void 0!==q&&q.pastMedicalHistory?null===q||void 0===q?void 0:q.pastMedicalHistory:null===ce||void 0===ce?void 0:ce.pastMedicalHistory,medications:null!==e&&void 0!==e&&e.medications?null===e||void 0===e?void 0:e.medications:null!==q&&void 0!==q&&q.medications?null===q||void 0===q?void 0:q.medications:null===ce||void 0===ce?void 0:ce.medications,allergies:null!==e&&void 0!==e&&e.allergies?null===e||void 0===e?void 0:e.allergies:null!==q&&void 0!==q&&q.allergies?null===q||void 0===q?void 0:q.allergies:null===ce||void 0===ce?void 0:ce.allergies,familyHistory:null!==e&&void 0!==e&&e.familyHistory?null===e||void 0===e?void 0:e.familyHistory:null!==q&&void 0!==q&&q.familyHistory?null===q||void 0===q?void 0:q.familyHistory:null===ce||void 0===ce?void 0:ce.familyHistory,socialHistory:null!==e&&void 0!==e&&e.socialHistory?null===e||void 0===e?void 0:e.socialHistory:null!==q&&void 0!==q&&q.socialHistory?null===q||void 0===q?void 0:q.socialHistory:null===ce||void 0===ce?void 0:ce.socialHistory,objectiveExamination:null!==e&&void 0!==e&&e.objectiveExamination?null===e||void 0===e?void 0:e.objectiveExamination:null!==q&&void 0!==q&&q.objectiveExamination?null===q||void 0===q?void 0:q.objectiveExamination:null===ce||void 0===ce?void 0:ce.objectiveExamination,suspectedDiagnosis:null!==e&&void 0!==e&&e.suspectedDiagnosis?null===e||void 0===e?void 0:e.suspectedDiagnosis:null!==q&&void 0!==q&&q.suspectedDiagnosis?null===q||void 0===q?void 0:q.suspectedDiagnosis:null===ce||void 0===ce?void 0:ce.suspectedDiagnosis,recommendedActions:null!==e&&void 0!==e&&e.recommendedActions?null===e||void 0===e?void 0:e.recommendedActions:null!==q&&void 0!==q&&q.recommendedActions?null===q||void 0===q?void 0:q.recommendedActions:null===ce||void 0===ce?void 0:ce.recommendedActions,signOff:null!==e&&void 0!==e&&e.signOff?null===e||void 0===e?void 0:e.signOff:null!==q&&void 0!==q&&q.signOff?null===q||void 0===q?void 0:q.signOff:null===ce||void 0===ce?void 0:ce.signOff,appointmentAttended:!0,failuretoattendnotes:"",referralTypeId:2,noteId:null!==me&&void 0!==me&&me.noteId?null===me||void 0===me?void 0:me.noteId:0}:null!==me&&void 0!==me&&me.noteId?{appointmentDetailId:0}:null};null!==me&&void 0!==me&&me.noteId?re((0,V.d9)({finalData:o,onCreateSuccess:xe})):re((0,V.Og)({finalData:o,onCreateSuccess:xe})),K(!0)})),children:(0,I.jsx)(f.Z,{children:(0,I.jsx)(j.Z,{xs:12,className:"mb-3",children:(0,I.jsxs)("div",{style:{background:"#F8F8F8",borderRadius:"5px"},className:"px-3 py-3 h-100",children:[(0,I.jsxs)("span",{className:"d-flex justify-content-between",children:[(0,I.jsx)("p",{className:"referral-main-text",style:{color:"#E31E27"},children:"Emergencey Department Letter"}),(null===me||void 0===me?void 0:me.patientId)&&!1===X&&(0,I.jsx)(w.Z,{id:"dropdown-item-button",title:(0,I.jsx)(b.FQA,{className:"float-right color-99",size:25}),size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown",direction:"left",children:(0,I.jsxs)("div",{className:"set-dropdown-menu",children:[(0,I.jsxs)(A.Z.Item,{className:"d-flex align-items-center",children:[(0,I.jsx)(Z.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},onClick:()=>{U(!0),$(!0),K(!1)},children:"Edit"})]}),(0,I.jsx)(A.Z.Item,{className:"d-flex align-items-center",children:(0,I.jsx)(H.ZP,{trigger:(0,I.jsxs)("button",{ref:de,className:"bg-transparent border-0 p-0",children:[(0,I.jsx)(L.bAs,{size:20})," Download PDF"]}),children:(0,I.jsx)(W.Z,{emergancyDepartmentLetter:me,detailDTO:ue,getUserData:pe})})}),(0,I.jsxs)(A.Z.Item,{className:"d-flex align-items-center",onClick:()=>{le(null===me||void 0===me?void 0:me.noteId),te(!0)},children:[(0,I.jsx)(S.w6k,{size:18,style:{color:"#FD2121"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#FD2121"},children:"Remove"})]})]})})]}),(0,I.jsx)(a.Z.Check,{type:"checkbox",id:"show-emergency-notes",label:"Show to Patient",onChange:()=>se(!ae),disabled:!(!0===(null===me||void 0===me?void 0:me.showNote)&&X||!1===(null===me||void 0===me?void 0:me.showNote)&&X)&&!(null===me||void 0===me||!me.noteId),defaultChecked:null===me||void 0===me?void 0:me.showNote}),(0,I.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel3",children:[(0,I.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Refferal Letter"}),(0,I.jsx)(a.Z.Control,{type:"text",placeholder:"Tiredness",className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("emergancyDepartmentLetter",{required:!0}),defaultValue:null!==(l=null===me||void 0===me?void 0:me.emergancyDepartmentLetter)&&void 0!==l?l:"",readOnly:(null===me||void 0===me||!me.emergancyDepartmentLetter||!X)&&!(null===me||void 0===me||!me.emergancyDepartmentLetter),maxLength:250})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel3",children:[(0,I.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"To"}),(0,I.jsx)(a.Z.Control,{type:"text",placeholder:"Specialist name",className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("toDoctor",{required:!0}),defaultValue:null!==(i=null===me||void 0===me?void 0:me.toDoctor)&&void 0!==i?i:"",readOnly:(null===me||void 0===me||!me.toDoctor||!X)&&!(null===me||void 0===me||!me.toDoctor),maxLength:250})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"referralNote",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Referral Notes"}),!1!==oe||null!==me&&void 0!==me&&me.appointmentDetail?"":(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Referral Note",className:"pt-2 custom-field-picker ".concat(_&&"bg-white"),...R("referralNote",{required:!0}),defaultValue:null!==(o=null===me||void 0===me?void 0:me.referralNote)&&void 0!==o?o:"",readOnly:(null===me||void 0===me||!me.referralNote||!X)&&!(null===me||void 0===me||!me.referralNote),maxLength:250})]}),(oe||(null===me||void 0===me?void 0:me.appointmentDetail))&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"presentingComplaint",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Presenting Complaint"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("presentingComplaint"),defaultValue:null!==q&&void 0!==q&&q.presentingComplaint?null===q||void 0===q?void 0:q.presentingComplaint:null!==ce&&void 0!==ce&&ce.presentingComplaint?null===ce||void 0===ce?void 0:ce.presentingComplaint:null!==me&&void 0!==me&&null!==(s=me.appointmentDetail)&&void 0!==s&&s.presentingComplaint?null===me||void 0===me||null===(d=me.appointmentDetail)||void 0===d?void 0:d.presentingComplaint:"N/A",disabled:J})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"pastMedicalHistory",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Past Medical History"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("pastMedicalHistory"),defaultValue:null!==q&&void 0!==q&&q.pastMedicalHistory?null===q||void 0===q?void 0:q.pastMedicalHistory:null!==me&&void 0!==me&&null!==(c=me.appointmentDetail)&&void 0!==c&&c.pastMedicalHistory?null===me||void 0===me||null===(m=me.appointmentDetail)||void 0===m?void 0:m.pastMedicalHistory:null!==ce&&void 0!==ce&&ce.pastMedicalHistory?null===ce||void 0===ce?void 0:ce.pastMedicalHistory:"N/A",disabled:J})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"medications",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Medications"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("medications"),defaultValue:null!==q&&void 0!==q&&q.medications?null===q||void 0===q?void 0:q.medications:null!==me&&void 0!==me&&null!==(u=me.appointmentDetail)&&void 0!==u&&u.medications?null===me||void 0===me||null===(p=me.appointmentDetail)||void 0===p?void 0:p.medications:null!==ce&&void 0!==ce&&ce.medications?null===ce||void 0===ce?void 0:ce.medications:"N/A",disabled:J})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"allergies",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Allergies"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("allergies"),defaultValue:null!==q&&void 0!==q&&q.allergies?null===q||void 0===q?void 0:q.allergies:null!==me&&void 0!==me&&null!==(x=me.appointmentDetail)&&void 0!==x&&x.allergies?null===me||void 0===me||null===(h=me.appointmentDetail)||void 0===h?void 0:h.allergies:null!==ce&&void 0!==ce&&ce.allergies?null===ce||void 0===ce?void 0:ce.allergies:"N/A",disabled:J})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"familyHistory",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Family History"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("familyHistory"),defaultValue:null!==q&&void 0!==q&&q.familyHistory?null===q||void 0===q?void 0:q.familyHistory:null!==me&&void 0!==me&&null!==(g=me.appointmentDetail)&&void 0!==g&&g.familyHistory?null===me||void 0===me||null===(y=me.appointmentDetail)||void 0===y?void 0:y.familyHistory:null!==ce&&void 0!==ce&&ce.familyHistory?null===ce||void 0===ce?void 0:ce.familyHistory:"N/A",disabled:J})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"socialHistory",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Social History"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("socialHistory"),defaultValue:null!==q&&void 0!==q&&q.socialHistory?null===q||void 0===q?void 0:q.socialHistory:null!==me&&void 0!==me&&null!==(N=me.appointmentDetail)&&void 0!==N&&N.socialHistory?null===me||void 0===me||null===(D=me.appointmentDetail)||void 0===D?void 0:D.socialHistory:null!==ce&&void 0!==ce&&ce.socialHistory?null===ce||void 0===ce?void 0:ce.socialHistory:"N/A",disabled:J})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"objectiveExamination",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Objective Examination"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("objectiveExamination"),defaultValue:null!==q&&void 0!==q&&q.objectiveExamination?null===q||void 0===q?void 0:q.objectiveExamination:null!==me&&void 0!==me&&null!==(C=me.appointmentDetail)&&void 0!==C&&C.objectiveExamination?null===me||void 0===me||null===(k=me.appointmentDetail)||void 0===k?void 0:k.objectiveExamination:null!==ce&&void 0!==ce&&ce.objectiveExamination?null===ce||void 0===ce?void 0:ce.objectiveExamination:"N/A",disabled:J})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"suspectedDiagnosis",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Suspected Diagnosis"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("suspectedDiagnosis"),defaultValue:null!==q&&void 0!==q&&q.suspectedDiagnosis?null===q||void 0===q?void 0:q.suspectedDiagnosis:null!==me&&void 0!==me&&null!==(z=me.appointmentDetail)&&void 0!==z&&z.suspectedDiagnosis?null===me||void 0===me||null===(E=me.appointmentDetail)||void 0===E?void 0:E.suspectedDiagnosis:null!==ce&&void 0!==ce&&ce.suspectedDiagnosis?null===ce||void 0===ce?void 0:ce.suspectedDiagnosis:"N/A",disabled:J})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"recommendedActions",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Recommended Actions"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("recommendedActions"),defaultValue:null!==q&&void 0!==q&&q.recommendedActions?null===q||void 0===q?void 0:q.recommendedActions:null!==me&&void 0!==me&&null!==(O=me.appointmentDetail)&&void 0!==O&&O.recommendedActions?null===me||void 0===me||null===(M=me.appointmentDetail)||void 0===M?void 0:M.recommendedActions:null!==ce&&void 0!==ce&&ce.recommendedActions?null===ce||void 0===ce?void 0:ce.recommendedActions:"N/A",disabled:J})]}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"signOff",children:[(0,I.jsx)(a.Z.Label,{className:"mb-0",children:"Sign off"}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,className:"pt-2 custom-field-picker ".concat(J&&"bg-white"),...R("signOff"),defaultValue:null!==q&&void 0!==q&&q.signOff?null===q||void 0===q?void 0:q.signOff:null!==me&&void 0!==me&&null!==(T=me.appointmentDetail)&&void 0!==T&&T.signOff?null===me||void 0===me||null===(G=me.appointmentDetail)||void 0===G?void 0:G.signOff:null!==ce&&void 0!==ce&&ce.signOff?null===ce||void 0===ce?void 0:ce.signOff:"N/A",disabled:J})]})]}),!(null!==me&&void 0!==me&&me.appointmentDetail)&&(0,I.jsx)("div",{className:"d-flex justify-content-end",children:(0,I.jsx)("p",{className:"float-right mb-0",style:{color:"#2269F2",fontWeght:500,fontSize:"18px",cursor:"pointer"},onClick:()=>ne(!0),children:"Generate letter with appointment notes"})}),!(null!==me&&void 0!==me&&me.patientId)&&(0,I.jsx)("div",{className:"d-flex justify-content-end",children:(0,I.jsx)(r.Z,{className:"start-apt-btn",type:"submit",children:"Save"})}),(null===me||void 0===me?void 0:me.patientId)&&!0===X&&(0,I.jsx)(r.Z,{className:"mt-2 mb-3 start-apt-btn float-right",type:"submit",children:"Update"})]})})})}),(0,I.jsx)(F.c,{show:ie,onHide:()=>te(!1),heading:"Delete Referral Notes",title:"this refferal notes",removeFunc:function(){const e={noteId:ee};re((0,V.bw)({finalData:e,onCreateDeleteSuccess:he})),Q()}})]})}function B(e){let{slotDescription:l,aptData:i,setAptData:t,setInputFieldValues:o,inputFieldValues:n}=e;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(q,{slotDescription:l,aptData:i,setAptData:t,setInputFieldValues:o,inputFieldValues:n}),(0,I.jsx)(R,{slotDescription:l,aptData:i,setAptData:t,setInputFieldValues:o,inputFieldValues:n})]})}var Q=i(2002),Y=i(54164),_=i(36161),U=i(68324);function J(e){let{...l}=e;const{show:i,handleClose:t}=l;return(0,I.jsx)(c.Z,{show:i,onHide:t,size:"lg","aria-labelledby":"patient-modal",centered:!0,className:"appointment-modal",children:(0,I.jsx)(c.Z.Body,{children:(0,I.jsxs)("div",{className:"d-flex justify-content-center flex-column align-items-center text-center p-3",children:[(0,I.jsx)("p",{className:"fw-bold",children:"Tick the box if you have checked the patient's allergy to any medication"}),(0,I.jsx)("div",{className:"d-flex justify-content-center",children:(0,I.jsx)(r.Z,{className:"block primary_bg px-4",variant:"primary",type:"button",onClick:t,children:"OK"})})]})})})}function K(){return{backgroundColor:"#F8F8F8"}}function X(e){let{show:l,onClose:i,data:o,view:s,viewData:d,onCloseView:m}=e;const{register:u,handleSubmit:p,reset:x,setValue:h}=(0,v.cI)(),[g,y]=(0,t.useState)(null),[b,N]=(0,t.useState)([]),[Z,D]=(0,t.useState)(!1),[C,w]=(0,t.useState)(!1),A=JSON.parse(localStorage.getItem("slotDescription")),{MedicationsData:S}=(0,n.v9)((e=>null===e||void 0===e?void 0:e.patientPrescription)),F=(0,n.I0)();function H(){let e={appointmentId:null===A||void 0===A?void 0:A.appointmentId};F((0,U.vY)({finalData:e}))}(0,t.useEffect)((()=>{o&&(h("allergies",(null===o||void 0===o?void 0:o.allergies)||""),h("medicineName",(null===o||void 0===o?void 0:o.medicineName)||""),h("formulation",(null===o||void 0===o?void 0:o.formulation)||""),h("route",(null===o||void 0===o?void 0:o.route)||""),h("dose",(null===o||void 0===o?void 0:o.dose)||""),h("doseFrequency",(null===o||void 0===o?void 0:o.doseFrequency)||""),h("quantity",(null===o||void 0===o?void 0:o.quantity)||""),h("note",(null===o||void 0===o?void 0:o.note)||""))}),[o]),(0,t.useEffect)((()=>{if(null!==g&&void 0!==g&&g.medicineName){const e={medicationName:null===g||void 0===g?void 0:g.medicineName};F((0,U.bT)(e))}}),[F,null===g||void 0===g?void 0:g.medicineName]);const L=e=>{const{name:l,value:i}=e.target;y({...g,[l]:i})};const k=[{dataField:"medicineName",text:"Medicine Name",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Medicine Name"}),(0,I.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.medicineName})]})},{dataField:"doseFrequency",text:"Dose Frequency",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Dose Frequency"}),(0,I.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.doseFrequency})]})},{dataField:"dose",text:"Dose",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Dose"}),(0,I.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.dose})]})},{dataField:"formulation",text:"Formulation",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Formulation"}),(0,I.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.formulation})]})}],z={paginationSize:2,pageStartIndex:1,alwaysShowAllBtns:!0,withFirstAndLast:!1,hideSizePerPage:!0,showTotal:!0,paginationTotalRenderer:(e,l,i)=>(0,I.jsxs)("span",{className:"react-bootstrap-table-pagination-total",children:[(0,I.jsxs)("b",{children:[" ",e," "]})," to ",(0,I.jsx)("b",{children:l})," out of ",(0,I.jsxs)("b",{children:[i," entries"]})]}),disablePageTitle:!0,sizePerPageList:[{text:"2",value:2}]};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(c.Z,{show:l,onHide:i,centered:!0,size:"lg",className:"prescription-modal",backdrop:"static",children:(0,I.jsxs)(a.Z,{onSubmit:p(o?function(e){const l={medicineId:null===o||void 0===o?void 0:o.medicineId,medicineName:null===e||void 0===e?void 0:e.medicineName,doseFrequency:null===e||void 0===e?void 0:e.doseFrequency,dose:null===e||void 0===e?void 0:e.dose,formulation:null===e||void 0===e?void 0:e.formulation,quantity:null===e||void 0===e?void 0:e.quantity,allergies:null===e||void 0===e?void 0:e.allergies,route:null===e||void 0===e?void 0:e.route,note:null===e||void 0===e?void 0:e.note,showPrescription:!1,isPatient:!1};F((0,U.Rn)({finalData:l,onCreateSuccess:H})),i(),N([])}:function(){if(w(!0),Z){const e={appointmentId:null===A||void 0===A?void 0:A.appointmentId,patientFormStatusId:null,isConfirmed:!1,medicineList:b};F((0,U.Bc)({finalData:e,onCreateSuccess:H})),D(!1),i(),N([])}else D(!0)}),children:[(0,I.jsx)(c.Z.Header,{closeButton:!0,children:(0,I.jsxs)(c.Z.Title,{className:"prescription-modal-title",children:[o?"":"Add"," Prescription"]})}),(0,I.jsx)(c.Z.Body,{className:"",children:(0,I.jsxs)(f.Z,{className:"custom-prescription-scroll",children:[(0,I.jsx)(j.Z,{xs:12,children:(0,I.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel1",children:[(0,I.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Allergies"}),(0,I.jsx)(a.Z.Control,{type:"text",placeholder:"Type here",className:"custom-field-picker py-2",...u("allergies"),onChange:L,maxLength:70})]})}),(0,I.jsx)(j.Z,{xs:6,children:(0,I.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel2",children:[(0,I.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Medication"}),(0,I.jsx)(a.Z.Control,{list:"medicineNameList",type:"text",placeholder:"Type medication here",className:"custom-field-picker py-2",...u("medicineName"),onChange:L,maxLength:70}),(0,I.jsx)("datalist",{id:"medicineNameList",children:null===S||void 0===S?void 0:S.map((e=>(0,I.jsx)("option",{value:null===e||void 0===e?void 0:e.medicationName,children:e.medicationName},null===e||void 0===e?void 0:e.medicationId)))})]})}),(0,I.jsx)(j.Z,{xs:6,children:(0,I.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel3",children:[(0,I.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Formulation"}),(0,I.jsx)(a.Z.Control,{type:"text",placeholder:"Type formulation here",className:"custom-field-picker py-2",...u("formulation"),onChange:L,maxLength:70})]})}),(0,I.jsx)(j.Z,{xs:6,children:(0,I.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel4",children:[(0,I.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Route"}),(0,I.jsx)(a.Z.Control,{type:"text",placeholder:"Type route here",className:"custom-field-picker py-2",...u("route"),onChange:L,maxLength:70})]})}),(0,I.jsx)(j.Z,{xs:6,children:(0,I.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel4",children:[(0,I.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Dose"}),(0,I.jsx)(a.Z.Control,{type:"text",placeholder:"Type dose here",className:"custom-field-picker py-2",...u("dose"),onChange:L})]})}),(0,I.jsx)(j.Z,{xs:6,children:(0,I.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel4",children:[(0,I.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Frequency"}),(0,I.jsx)(a.Z.Control,{type:"text",placeholder:"Type frequency",className:"custom-field-picker py-2",...u("doseFrequency"),onChange:L,maxLength:70})]})}),(0,I.jsx)(j.Z,{xs:6,children:(0,I.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicLabel4",children:[(0,I.jsx)(a.Z.Label,{className:"label-primary mb-0",children:"Quantity/Duration"}),(0,I.jsx)(a.Z.Control,{type:"text",placeholder:"Type quantity",className:"custom-field-picker py-2",...u("quantity"),onChange:L,maxLength:70})]})}),(0,I.jsx)(j.Z,{xs:12,children:(0,I.jsx)(a.Z.Check,{type:"checkbox",id:"prescription-checkbox",label:"Tick this box if you have checked the patient's allergy to any medication",onChange:e=>{D(e.target.checked),w(!1)}})}),(0,I.jsx)(j.Z,{xs:12,children:(0,I.jsxs)("div",{style:{background:"#F0F0F0",borderRadius:"5px"},className:"p-3 mt-2 mb-3",children:[(0,I.jsx)(a.Z.Check,{type:"checkbox",id:"urgent-checkbox",label:"Urgent",className:"mb-2",style:{color:"#999999",fontWeight:400,fontSsize:"16px"}}),(0,I.jsxs)(a.Z.Group,{className:"mb-2",style:{fontSize:"18px",fontWeight:500},controlId:"exampleForm.ControlTextarea1",children:[(0,I.jsxs)(a.Z.Label,{className:"mb-0",children:["Add Note",(0,I.jsx)("span",{style:{color:"#FF3A3A"},className:"fw-bold",children:"*"})]}),(0,I.jsx)(a.Z.Control,{as:"textarea",rows:2,placeholder:"Note",className:"pt-2 custom-field-picker",...u("note"),onChange:L,maxLength:250})]})]})}),o?null:(0,I.jsx)(j.Z,{xs:12,children:(0,I.jsx)(r.Z,{className:"float-right my-2 prescription-outline-btn",onClick:()=>{g&&(N((e=>[...e,g])),y(null),x())},type:"button",children:"Confirm & Add Item"})}),(null===b||void 0===b?void 0:b.length)>0&&(0,I.jsx)(j.Z,{xs:12,children:(0,I.jsx)("div",{className:"custom-table-spacing",children:(0,I.jsx)(Q.Z,{keyField:"id",data:b,columns:k,rowStyle:K,bordered:!1,pagination:(0,_.ZP)(z)})})})]})}),(0,I.jsx)(c.Z.Footer,{className:"d-flex justify-content-center",children:(0,I.jsx)(r.Z,{type:"submit",className:"w-50",style:{background:"#000071"},disabled:(null===b||void 0===b?void 0:b.length)<=0&&!o,children:o?"Update Prescription":"Submit Prescription"})})]})}),(0,I.jsxs)(c.Z,{show:s,onHide:m,centered:!0,size:"lg",backdrop:"static",className:"prescription-modal edit-prescription-modal",children:[(0,I.jsx)(c.Z.Header,{closeButton:!0,children:(0,I.jsx)(c.Z.Title,{className:"prescription-modal-title",children:"Prescription"})}),(0,I.jsx)(c.Z.Body,{children:(0,I.jsx)(a.Z,{children:(0,I.jsxs)(f.Z,{children:[(0,I.jsxs)(j.Z,{xs:4,children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Allergies"}),(0,I.jsx)("p",{className:"table-custom-data",children:d?null===d||void 0===d?void 0:d.allergies:"Nill"})]}),(0,I.jsxs)(j.Z,{xs:4,children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Medication"}),(0,I.jsx)("p",{className:"table-custom-data",children:d?null===d||void 0===d?void 0:d.medicineName:"Nill"})]}),(0,I.jsxs)(j.Z,{xs:4,children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Formation"}),(0,I.jsx)("p",{className:"table-custom-data",children:d?null===d||void 0===d?void 0:d.formulation:"Nill"})]}),(0,I.jsxs)(j.Z,{xs:4,children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Route"}),(0,I.jsx)("p",{className:"table-custom-data",children:d?null===d||void 0===d?void 0:d.route:"Nill"})]}),(0,I.jsxs)(j.Z,{xs:4,children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Dose"}),(0,I.jsx)("p",{className:"table-custom-data",children:d?null===d||void 0===d?void 0:d.dose:"Nill"})]}),(0,I.jsxs)(j.Z,{xs:4,children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Frequency"}),(0,I.jsx)("p",{className:"table-custom-data",children:d?null===d||void 0===d?void 0:d.doseFrequency:"Nill"})]}),(0,I.jsxs)(j.Z,{xs:4,children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Quantity"}),(0,I.jsx)("p",{className:"table-custom-data",children:d?null===d||void 0===d?void 0:d.quantity:"Nill"})]}),(0,I.jsxs)(j.Z,{xs:4,children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Note:"}),(0,I.jsx)("p",{className:"table-custom-data",children:d?null===d||void 0===d?void 0:d.note:"Nill"})]})]})})})]}),(0,I.jsx)(J,{handleClose:()=>D(!1),show:Z&&C})]})}var $=i(52802);function ee(){return{backgroundColor:"#F8F8F8"}}function le(e){var l;let{showPresToPatient:i,setShowPresToPatient:o,setPrescriptionIdToPatient:s}=e;const d=(0,n.I0)(),{PreMedicineData:c,isLoading:m,isSuccess:u,isError:p}=(0,n.v9)((e=>null===e||void 0===e?void 0:e.patientPrescription)),v=JSON.parse(localStorage.getItem("slotDescription")),x=(0,n.v9)((e=>null===e||void 0===e?void 0:e.patientPrescription)),h=(0,t.useRef)(null),[f,j]=(0,t.useState)({data:null,show:!1}),[g,y]=(0,t.useState)(!1),[D,C]=(0,t.useState)({data:null,show:!1}),[w,k]=(0,t.useState)(),z=[{dataField:"medicineName",text:"Medicine Name",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Medicine Name"}),(0,I.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.medicineName})]})},{dataField:"doseFrequency",text:"Dose Frequency",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Dose Frequency"}),(0,I.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.doseFrequency})]})},{dataField:"dose",text:"Dose",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Dose"}),(0,I.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.dose})]})},{dataField:"formulation",text:"Formulation",headerAttrs:{hidden:!0},formatter:(e,l)=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{className:"color-99 mb-0",children:"Formulation"}),(0,I.jsx)("p",{className:"table-custom-data",children:null===l||void 0===l?void 0:l.formulation})]})},{dataField:"action",text:"Action",formatter:(e,l)=>(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(A.Z,{children:[(0,I.jsx)(A.Z.Toggle,{id:"dropdown-item-button1",size:"sm",bsPrefix:"moreIcon",className:"moreIcon edit-dropdown border-0 bg-transparent",direction:"left",children:(0,I.jsx)(b.FQA,{className:"float-right color-99",size:25})}),Y.createPortal((0,I.jsxs)(A.Z.Menu,{children:[(0,I.jsxs)(A.Z.Item,{as:"button",className:"d-flex align-items-center",onClick:()=>C({data:l,show:!0}),children:[(0,I.jsx)(N.w8I,{size:18,style:{color:"#1A1A1A"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},children:"View"})]}),(0,I.jsxs)(A.Z.Item,{as:"button",className:"d-flex align-items-center",onClick:()=>j({data:l,show:!0}),children:[(0,I.jsx)(Z.fmQ,{size:18,style:{color:"#1A1A1A"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#1A1A1A"},children:"Edit"})]}),(0,I.jsxs)(A.Z.Item,{as:"button",className:"d-flex align-items-center",onClick:()=>{k(l),y(!0)},children:[(0,I.jsx)(S.w6k,{size:18,style:{color:"#FD2121"}}),(0,I.jsx)("span",{className:"px-2",style:{fontSize:"14px",color:"#FD2121"},children:"Delete"})]})]}),document.body)]})}),headerAttrs:{hidden:!0}}];function E(){let e={appointmentId:null===v||void 0===v?void 0:v.appointmentId};d((0,U.vY)({finalData:e}))}(0,t.useEffect)((()=>{const e={appointmentId:null===v||void 0===v?void 0:v.appointmentId};d((0,U.vY)({finalData:e}))}),[d,null===v||void 0===v?void 0:v.appointmentId]);let O=[];var P;null!==c&&void 0!==c&&c.medicineList&&(null===c||void 0===c||null===(P=c.medicineList)||void 0===P||P.forEach((e=>{null!==e&&void 0!==e&&e.medicineList&&O.push(...e.medicineList)})));const M={paginationSize:2,pageStartIndex:1,alwaysShowAllBtns:!0,withFirstAndLast:!1,hideSizePerPage:!0,showTotal:!0,paginationTotalRenderer:(e,l,i)=>(0,I.jsxs)("span",{className:"react-bootstrap-table-pagination-total",children:[(0,I.jsxs)("b",{children:[" ",e," "]})," to ",(0,I.jsx)("b",{children:l})," out of ",(0,I.jsxs)("b",{children:[i," entries"]})]}),disablePageTitle:!0,sizePerPageList:[{text:"2",value:2}]};return(0,I.jsxs)(I.Fragment,{children:[m?(0,I.jsx)("p",{className:"my-5 text-center fst-italic",style:{color:"#999999"},children:"Loading..."}):u?(null===c||void 0===c||null===(l=c.medicineList)||void 0===l?void 0:l.length)<=0||void 0===(null===c||void 0===c?void 0:c.medicineList)?(0,I.jsx)("div",{className:"d-flex justify-content-center",children:(0,I.jsx)(r.Z,{className:"prescription-btn px-4 d-flex justify-content-center",onClick:()=>j({data:null,show:!0}),children:"Create Prescription"})}):(0,I.jsxs)("div",{className:"custom-table-spacing",children:[(0,I.jsx)(a.Z,{children:(0,I.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,I.jsx)(a.Z.Check,{type:"checkbox",id:"show-prescription",label:"Show Prescription to Patient",onChange:()=>{var e;o(!i),s(null===x||void 0===x||null===(e=x.PreMedicineData)||void 0===e?void 0:e.prescriptionId)}}),(0,I.jsx)(H.ZP,{trigger:(0,I.jsxs)("button",{type:"button",ref:h,className:"border-0 px-3 py-2 rounded-2",children:[(0,I.jsx)(L.bAs,{size:20})," Download PDF"]}),children:(0,I.jsx)($.Z,{prescriptionData:c})})]})}),(0,I.jsx)(Q.Z,{keyField:"medicineId",data:null===c||void 0===c?void 0:c.medicineList,columns:z,bordered:!1,rowStyle:ee,wrapperClasses:"table-responsive",pagination:(0,_.ZP)(M)}),(0,I.jsx)("p",{className:"float-right text-cursor-pointer",style:{color:"#2269F2",fontWeght:500,fontSize:"18px",cursor:"pointer"},onClick:()=>j({data:null,show:!0}),children:"+ Add Prescription"})]}):p?(0,I.jsx)("p",{className:"my-5 text-center text-danger fst-italic",children:"Network Error"}):null,(0,I.jsx)(X,{data:f.data,show:f.show,view:D.show,viewData:D.data,onCloseView:()=>C({show:!1,data:null}),onClose:()=>j({show:!1,data:null}),slotDescription:v}),(0,I.jsx)(F.c,{show:g,onHide:()=>y(!1),heading:"Delete Prescription",title:"the prescription",removeFunc:function(){const e={medicineId:null===w||void 0===w?void 0:w.medicineId};d((0,U.w4)({finalData:e,onCreateSuccess:E}))}})]})}var ie=i(82573);function te(){var e,l,i,u,f,j,g,y,b,N,Z,D,w,A;const S=JSON.parse(localStorage.getItem("family_doc_app")),{register:F,handleSubmit:H}=(0,v.cI)(),[L,k]=(0,t.useState)({data:null,show:!1}),[z,O]=(0,t.useState)(!1),[V,G]=(0,t.useState)(!0),[q,W]=(0,t.useState)(!1),[R,Q]=(0,t.useState)(),[Y,_]=(0,t.useState)({}),[J,K]=(0,t.useState)({presentingComp:"",presentingCompHistory:"",pastMedicalHistory:"",medications:"",allergies:"",familyHistory:"",socialHistory:"",suspectedDiagnosis:"",recommendedActions:"",signOff:""}),{patientPharmacy:$}=(0,n.v9)((e=>e)),ee=(0,o.s0)(),{patientPharmacyData:te}=(0,n.v9)((e=>null===e||void 0===e?void 0:e.patientPharmacy)),{getAptDetails:oe}=(0,n.v9)((e=>null===e||void 0===e?void 0:e.appointmentDetails)),ne=(0,n.v9)((e=>e)),ae=JSON.parse(localStorage.getItem("slotDescription")),se=(0,n.I0)();(0,t.useEffect)((()=>{const e={userId:null===S||void 0===S?void 0:S.userId};se((0,T.PR)(e))}),[se,null===S||void 0===S?void 0:S.userId]),(0,t.useEffect)((()=>{const e={patientId:null===ae||void 0===ae?void 0:ae.patientId,appointmentId:null===ae||void 0===ae?void 0:ae.appointmentId};se((0,P.gS)(e))}),[se]);const de=()=>{const e={patientId:null===S||void 0===S?void 0:S.userId,month:+p()(new Date).format("M")};se((0,P.Qe)(e)),ee(h.m.APPOINTMENT)};function re(){const e={appointmentId:null===ae||void 0===ae?void 0:ae.appointmentId,statusId:206};se((0,P.qQ)({finalData:e,moveToNext:de}))}return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:"appointment-notes-accordion",children:[(0,I.jsx)(a.Z.Check,{type:"checkbox",id:"patient-attended-checkbox",label:"Patient attended appointment",defaultChecked:!1===(null===oe||void 0===oe||null===(e=oe.data)||void 0===e?void 0:e.appointmentAttended)||V,onChange:e=>{G(e.target.checked)},className:"mb-2",disabled:!(null===oe||void 0===oe||null===(l=oe.data)||void 0===l||!l.failuretoattendnotes)||!0===(null===oe||void 0===oe||null===(i=oe.data)||void 0===i?void 0:i.appointmentAttended)}),(0,I.jsx)(s.Z,{className:"mb-3",children:(0,I.jsx)(s.Z.Body,{className:"mx-0 p-0",children:(0,I.jsx)(d.Z,{defaultActiveKey:"0",children:(0,I.jsxs)(d.Z.Item,{eventKey:"0",children:[(0,I.jsx)(d.Z.Header,{children:"Appointment Detail"}),(0,I.jsx)(d.Z.Body,{className:"py-4 px-5",children:(0,I.jsx)(C,{checkedApt:V,setInputFieldValues:K,inputFieldValues:J})})]})})})}),V&&!(null!==oe&&void 0!==oe&&null!==(u=oe.data)&&void 0!==u&&u.failuretoattendnotes)&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(s.Z,{className:"mb-3",children:(0,I.jsx)(s.Z.Body,{className:"mx-0 p-0",children:(0,I.jsx)(d.Z,{children:(0,I.jsxs)(d.Z.Item,{eventKey:"1",children:[(0,I.jsx)(d.Z.Header,{children:"Notes to Patient"}),(0,I.jsx)(d.Z.Body,{className:"mx-4",children:(0,I.jsx)(M,{slotDescription:ae})})]})})})}),(0,I.jsx)(s.Z,{className:"mb-3",children:(0,I.jsx)(s.Z.Body,{className:"mx-0 p-0",children:(0,I.jsx)(d.Z,{children:(0,I.jsxs)(d.Z.Item,{eventKey:"1",children:[(0,I.jsxs)(d.Z.Header,{children:[(0,I.jsx)("img",{src:x.Z.PRESCRIPTION_ICON,alt:"prescription icon",className:"me-3 color-dk-blue"}),"Prescription"]}),(0,I.jsx)(d.Z.Body,{className:"mx-4",children:(0,I.jsx)(le,{slotDescription:ae,showPresToPatient:q,setShowPresToPatient:W,setPrescriptionIdToPatient:Q})})]})})})}),(0,I.jsx)(s.Z,{className:"mb-3",children:(0,I.jsx)(s.Z.Body,{className:"mx-0 p-0",children:(0,I.jsx)(d.Z,{children:(0,I.jsxs)(d.Z.Item,{eventKey:"2",children:[(0,I.jsxs)(d.Z.Header,{children:[(0,I.jsx)("img",{src:x.Z.REFERRAL_ICON,alt:"referral icon",className:"me-3 color-dk-blue"}),"Referral"]}),(0,I.jsx)(d.Z.Body,{className:"py-4 px-5",children:(0,I.jsx)(B,{slotDescription:ae,aptData:Y,setAptData:_,inputFieldValues:J||(null===ne||void 0===ne||null===(f=ne.createAppointmentDetails)||void 0===f?void 0:f.data),setInputFieldValues:K})})]})})})}),(0,I.jsx)(s.Z,{className:"mb-3",children:(0,I.jsx)(s.Z.Body,{className:"mx-0 p-0",children:(0,I.jsx)(d.Z,{children:(0,I.jsxs)(d.Z.Item,{eventKey:"3",children:[(0,I.jsxs)(d.Z.Header,{children:[(0,I.jsx)("img",{src:x.Z.MEDICAL_CERTIFICATE_ICON,alt:"medical certificate icon",className:"me-3 color-dk-blue"}),(0,I.jsx)("span",{style:{color:"#44BC19"},children:"Medical Certificate"})]}),(0,I.jsx)(d.Z.Body,{className:"py-4 px-5",children:(0,I.jsx)(E,{slotDescription:ae,aptData:Y,setAptData:_,inputFieldValues:J||(null===ne||void 0===ne||null===(j=ne.createAppointmentDetails)||void 0===j?void 0:j.data),setInputFieldValues:K})})]})})})})]}),(0,I.jsx)(r.Z,{className:"mt-4 start-apt-btn float-right px-5",onClick:()=>{O(!0),!0===q&&function(){const e={prescriptionId:R};se((0,U.Po)({finalData:e}))}()},children:"Save appointment notes"})]}),(0,I.jsxs)(c.Z,{show:z,onHide:()=>{O(!1)},size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"appointment-modal",backdrop:"static",children:[(0,I.jsx)(c.Z.Header,{closeButton:!0,className:"font-weight-600",style:{fontSize:"18px"}}),(0,I.jsx)(c.Z.Body,{children:(0,I.jsx)("div",{className:"d-flex justify-content-center flex-column mx-5 mb-3",children:!1===V||!1===(null===oe||void 0===oe||null===(g=oe.data)||void 0===g?void 0:g.appointmentAttended)?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:"d-flex justify-content-center ",children:(0,I.jsx)("img",{src:x.Z.NOTES_COMPLETED_ICON,alt:"Notes Completed Icon"})}),(0,I.jsxs)("div",{className:"my-3",children:[(0,I.jsx)("h3",{className:"text-center w-50 m-auto font-weight-600",children:"Notes Completed"}),(0,I.jsx)("p",{className:"text-center mt-3 mb-4",children:"You have successfully completed appointments notes"})]}),(0,I.jsx)("span",{className:"d-flex justify-content-center",children:(0,I.jsxs)(r.Z,{className:"start-apt-btn d-flex align-items-center",onClick:()=>re(),children:[(0,I.jsx)(m.u1R,{className:"me-3",size:20,style:{color:"#fff"}}),(0,I.jsx)("p",{className:"mb-0",children:"Back to appointments"})]})})]}):(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(a.Z,{onSubmit:H((function(e){const l={email:null!==te&&void 0!==te&&te.pharmacyEmail?null===te||void 0===te?void 0:te.pharmacyEmail:null===e||void 0===e?void 0:e.pharmacyEmail,appointmentId:null===ae||void 0===ae?void 0:ae.appointmentId,patientFormStatusId:null};se((0,ie.Tf)({finalData:l,appointmentStatus:re}))})),children:[(0,I.jsx)(a.Z.Label,{className:"mb-4 font-weight-600",style:{fontSize:"18px"},children:"Do you want to email this prescription to the pharmacy?"}),(0,I.jsxs)("div",{children:[(0,I.jsx)("p",{className:"fw-bold m-0",children:"Pharmcy Name:"}),(0,I.jsx)("p",{children:null!==(y=null===$||void 0===$||null===(b=$.patientPharmacyData)||void 0===b?void 0:b.pharmacyName)&&void 0!==y?y:"N/A"})]}),(0,I.jsxs)("div",{children:[(0,I.jsx)("p",{className:"fw-bold m-0",children:"Pharmcy Location:"}),(0,I.jsx)("p",{children:null!==(N=null===$||void 0===$||null===(Z=$.patientPharmacyData)||void 0===Z?void 0:Z.pharmacyLocation)&&void 0!==N?N:"N/A"})]}),null!==$&&void 0!==$&&null!==(D=$.patientPharmacyData)&&void 0!==D&&D.pharmacyEmail?(0,I.jsxs)("div",{children:[(0,I.jsx)("p",{className:"fw-bold m-0",children:"Pharmcy Email:"}),(0,I.jsx)("p",{children:null!==(w=null===$||void 0===$||null===(A=$.patientPharmacyData)||void 0===A?void 0:A.pharmacyEmail)&&void 0!==w?w:"N/A"})]}):(0,I.jsxs)(a.Z.Group,{children:[(0,I.jsx)(a.Z.Label,{className:"fw-bold",children:"Pharmacy Email:"}),(0,I.jsx)(a.Z.Control,{type:"email",placeholder:"Pharmacy Email",...F("pharmacyEmail"),maxLength:250})]}),(0,I.jsxs)("div",{className:"mt-5 d-flex justify-content-center",children:[(0,I.jsx)(r.Z,{className:"custom-outline-btn d-flex align-items-center me-4 font-weight-600",onClick:()=>re(),children:(0,I.jsx)("p",{className:"mb-0",children:"No"})}),(0,I.jsx)(r.Z,{type:"submit",className:"start-apt-btn d-flex align-items-center border-0",children:"Yes"})]})]})})})})]}),L&&(0,I.jsx)(X,{show:L.show,onClose:()=>k({show:!1,data:null}),slotDescription:ae})]})}}}]);
//# sourceMappingURL=4456.c16afc89.chunk.js.map